.\" Original manpage cvs revision: 1.11
.\" Translated by Hiroshi KISE <kise@fuyuneko.jp>
.\" Last modified: Mon Mar 15 21:43:38 JST 2004
.\"WORD:	pack			(アーカイブの)作成
.\"WORD:	unpack			(アーカイブの)展開
.\"WORD:	filesystem tree		ファイルシステム木
.\"WORD:	control	information files	制御情報ファイル
.\"WORD:	syntax error		文法エラー
.\"WORD:	maintainer script	管理スクリプト
.\"WORD:	premission		パーミッション
.\"WORD:	control-file-names	制御ファイル名
.TH DPKG\-DEB 1 "1st June 1996" "Debian Project" "dpkg suite"
.SH 名前
dpkg\-deb \- Debian パッケージアーカイブ (.deb) 操作ツール
.SH 書式
.B dpkg-deb
.BR -b | --build
.IR directory " [" archive | directory ]
.br
.B dpkg-deb
.BR -I | --info
.IR archive " [" control\-file\-name " ..]"
.br
.B dpkg-deb
.BR -f | --field
.IR archive " [" control\-field\-name " ...]"
.br
.B dpkg-deb
.BR -c | --contents
.I archive
.br
.B dpkg-deb
.BR -x | --extract | -X | --vextract
.I archive directory
.br
.B dpkg-deb --fsys-tarfile
.I archive
.br
.B dpkg-deb --control
.I archive directory
.SH 説明
.B dpkg-deb
は、Debian アーカイブの作成、展開、情報の表示をする。

パッケージをシステムにインストールするときや削除するときには
.B dpkg
を使うこと。

また、
.B dpkg
に対して
.B dpkg-deb
のオプションを指定することで、
.B dpkg
を通して
.BR dpkg-deb
を呼び出すことができる。
.BR dpkg
は、オプションが
.B dpkg-deb
のオプションであると判断すると、
.B dpkg-deb
を起動する。

.SH アクション・オプション
.TP
.BR --build ", " -b
.IR directory
に格納されているファイルシステム木から
debian アーカイブを作成する。
.IR directory
には、control ファイルなどの制御情報ファイルのある
.B DEBIAN
サブディレクトリが必ず存在しなければならない。
DEBIAN ディレクトリはバイナリパッケージのファイルシステム・
アーカイブには
.I 含まれない
。そのかわり、DEBIAN ディレクトリ以下にあったファイルは
バイナリパッケージ制御情報エリアに置かれる。

圧縮レベルを指定する場合は、
.B \-z#
オプションを追加する。
.B dpkg-deb
は、このオプションを gzip に渡す。

.BR \-\-nocheck
を指定しないかぎり、
.BR dpkg\-deb
は
.B DEBIAN/control
を読み、解析する。
dpkg-deb は、文法エラーやその他の問題のチェックをし、
そして、構築中のバイナリパッケージ名を表示する。
.B dpkg\-deb
はまた、
.B DEBIAN
管理情報ディレクトリにある、管理スクリプトやその他の
ファイルのパーミッションをチェックする。

もし、
.I archive
を指定しない場合、
.B dpkg\-deb
はパッケージを
.IR directory \fB.deb\fR
という名前で作成する。

もし、すでにアーカイブが作成されて存在している場合、上書きする。

2 番目の引き数がディレクトリの場合、
.B dpkg\-deb
は
.IB package _ version _ arch .deb\fR
または
.IB package _ version .deb
(パッケージ制御ファイルに
.B Architecture
フィールドがない場合)というファイルを作成する。
アーカイブの代わりにディレクトリを指定するときには、
.B \-\-nocheck
オプションは使用してはいけない(
.B dpkg\-deb
は、使用するファイル名を調べるために、パッケージ制御ファイルを読んで解析
する必要があるから)。
.TP
.BR \-\-info ", " -I
バイナリパッケージアーカイブの情報を表示する。

もし
.IR control\-file\-name
が指定されていない場合、制御ファイル一覧と、パッケージの中身の要約を
表示する。

もし
.IR control\-file\-name
を指定した場合、
.B dpkg\-deb
は指定した順でファイル名を表示する。もし指定したファイルのどれかが
存在しなければ、存在しなかったファイルに対してそれぞれ
エラーメッセージを表示し、そして終了ステータス 2 で終了する。
.TP
.BR \-\-field ", " -f
バイナリパッケージアーカイブから制御ファイル情報を取り出す。

.BR control\-file\-field
が指定されていない場合、制御ファイルすべてを表示する。

もし何か指定されている場合、
.B dpkg\-deb
はその内容を制御ファイルに現われる順序で表示する。もし、複数の
.BR control\-file\-field
が指定された場合、
.B dpkg\-deb
は、それぞれの情報の前にフィールド名(そしてコロンと空白)を表示する。

指定したフィールドがみつからない場合でもエラーを報告しない。

.TP
.BR --contents ", " -c
パッケージアーカイブに含まれるファイルシステム木の
内容の一覧を表示する。現在のバージョンは、
.BR tar
の冗長出力(-v オプション)をそのまま表示する。
.TP
.BR --extract ", " -x ", " \-\-vextract ", " -X
パッケージアーカイブからファイルシステム木を、指定したディレクトリに展開する。

.BR \-\-vextract " (" -X ")"
は現在展開中のファイルを表示する。
.BR \-\-extract " (" -x ")"
はエラーが発生しない限り何も表示しない。

ルートディレクトリでパッケージを展開することは正しいインストールには
.I ならない
ことに注意すること! パッケージのインストールには
.B dpkg
を使うべきである。

.I directory
(親やそれより上のディレクトリは含まない)は必要があれば作成される。

.TP
.BR --fsys-tarfile
バイナリパッケージからファイルシステム木を展開し、標準出力に
.B tar
形式で出力する。
.B tar
と共に使用することで、特定のファイルをパッケージアーカイブから取り出す
ことができる。
.TP
.BR --control ", " -e
パッケージアーカイブから制御情報ファイルを指定したディレクトリに展開する。

もしディレクトリが指定されない場合、カレントディレクトリにある
.B DEBIAN
サブディレクトリに展開する。

指定したディレクトリ(親やそれより上のディレクトリは含まない)は必要が
あれば作成される。
.TP
.BR --help ", " -h
.BR dpkg\-deb
の使用方法、つまりすべてのオプションとその使い方の要約を表示する。
.TP
.BR --version
.BR dpkg\-deb
のバージョン番号を表示する。
.TP
.BR --licence
.BR dpkg\-deb
の著作権と無保証に関する情報を表示する(アメリカ式の綴りである
.B \-\-license
もサポートしている)。
.SH その他のオプション
.TP
.BR --new
.B dpkg\-deb
に‘新しい’形式のアーカイブで構築させる。これはデフォルトの動作である。
.TP
.BR --old
.B dpkg\-deb
に‘古い’形式のアーカイブを構築させる。この古いアーカイブ形式は、
新しい形式よりも非 Debian ツールで処理することが難しく、現在は
使用されていない。
このオプションは、i386 の a.out形式のみを対象としてリリースされた、
バージョン 0.93.76(1995 年 9 月)以前の dpkg で処理するためのパッケージを
構築するときだけに使用される。
.TP
.BR --nocheck
.BR "dpkg\-deb \-\-build"
のときにアーカイブの中身を確認させない。これによって、
アーカイブの中身にどのように問題があっても、望んだ通りアーカイブを構築する
ことができる。
.TP
.BR --debug ", " -D
デバッグ出力を有効にする。これはあまり役に立たない。
.SH バグ
.B dpkg-deb -I 
.IB package1 .deb
.IB package2 .deb
はうまく動作しない。

.B .deb
ファイル自体には認証の手段がない。実際、単純なチェックサムさえもない。

.B dpkg\-deb
でソフトウェアをインストールしようとしてはいけない! 必ず
.B dpkg
を使うこと。そうすれば、すべてのファイルを正しい位置に置き、
パッケージのスクリプトを実行し、状態や内容を記録する、
ということを確実に実行できる。
.SH 関連項目
.BR deb (5),
.BR deb-control (5),
.BR dpkg (8),
.BR dselect (8).
.SH 著者
.B dpkg\-deb
とこのマニュアルページは Ian Jackson が作成した。これらの著作権は彼に
あり(Copyright (C)1995-1996)、GNU 一般公有使用許諾により頒布される。
これらは無保証である。詳細は
.B /usr/share/doc/dpkg/copyright
と
.B /usr/share/common-licenses/GPL
を参照すること。

(
.B dpkg\-deb
and this manpage were written by Ian Jackson.  They are
Copyright (C)1995-1996
by him and released under the GNU General Public Licence; there is NO
WARRANTY.  See
.B /usr/share/doc/dpkg/copyright
and
.B /usr/share/common-licenses/GPL
for details.
)
.SH 翻訳者
喜瀬浩 <kise@fuyuneko.jp>
.SH 翻訳校正
Debian JP Documentation ML <debian-doc@debian.or.jp>
.SH 翻訳者注
このマニュアルページは dpkg パッケージのバージョン 1.10.20 に付属の
dpkg-deb(1) の日本語訳である。
