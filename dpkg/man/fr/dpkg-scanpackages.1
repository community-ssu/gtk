.\" This manpage is copyright (C) 1996 Michael Shields <shields@crosslink.net>.
.\" 
.\" This is free software; you may redistribute it and/or modify
.\" it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2,
.\" or (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful, but
.\" WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with dpkg; if not, write to the Free Software
.\" Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
.\" Traduction de la version cvs 1.4
.TH DPKG-SCANPACKAGES 1 "1996-07-08" "Projet Debian" "Utilitaires de Dpkg"
.SH NOM
dpkg-scanpackages \- créer des fichiers «\ Packages\ »
.
.SH SYNOPSIS
.B dpkg-scanpackages
.RI [ -u ]
.RI [ -a<arch> ]
.I rep-de-binaires
.I fichier-d'-override
.RI [ chemin-à-préfixer ]
.B >
.I Packages
.
.SH DESCRIPTION
.B dpkg-scanpackages
trie une arborescence contenant des paquets binaires Debian et crée un fichier
«\ Packages\ » qui permettra à
.BR dselect (8),
ou à un autre programme, de dire à un utilisateur quels sont les paquets 
qu'il peut installer.
Ces fichiers «\ Packages\ » sont semblables à ceux qu'on peut trouver sur les 
sites d'archives Debian ou sur des cédéroms.
Quand on crée un répertoire contenant des paquets qu'on veut installer sur
un ensemble de machines, on peut se servir soi-même de
.B dpkg-scanpackages.
.PP
.I rep-de-binaires
est le nom de l'arborescence binaire (par exemple
.BR contrib/binary-i386)
que l'on veut traiter.
Il vaut mieux qu'elle soit relative à la racine de l'archive Debian\ ;
ainsi chaque champ «\ Filename\ » dans le nouveau fichier «\ Packages\ »
commencera par cette chaîne.
.PP
.I fichier-d'-override
est le nom du fichier qui contient les renseignements sur la manière dont le
paquet s'insère dans la distribution\ ; voir ci-dessous.
.PP
.I chemin-à-préfixer
est une chaîne facultative qui préfixera les champs «\ Filename\ ».
.PP
Si l'option
.I -u
est spécifiée, la commande recherche des *.udeb au lieu de *.deb.
.PP
Quand -a\fI<arch>\fP est spécifiée, la commande ne recherche pas tous les
fichiers debs\ ; elle utilise un motif équivalent à *_all.deb et à *_arch.deb.

.SH LE FICHIER « OVERRIDE »
Bien que l'on puisse trouver dans le fichier «\ control\ » la plupart
des informations concernant un paquet, certaines doivent être inscrites
par les tsars de la distribution plutôt que par le responsable du
paquet\ : elles ont trait à l'organisation des fichiers en vue de la
publication plutôt qu'aux dépendances réelles ou à la
description du paquet. Ces informations se trouvent dans le fichier
«\ override\ ».
.PP
Les éléments du fichier «\ override\ » sont séparés simplement par un espace.
Les commentaires commencent par un caractère
.BR «\ #\ ».
.PP
.in +5
.I paquet
.I priorité
.I section
.RI [ responsable ]
.in -5
.PP
.I paquet
est le nom du paquet.  Les entrées du fichier «\ override\ » concernant des
paquets qui ne sont pas dans l'arborescence sont ignorées.
.PP
Les éléments
.I priorité
et
.I section
placent le paquet dans l'arborescence\ ; on ne devrait pas les trouver
dans le  fichier «\ control\ ». Quand le paquet se trouve dans un 
sous-répertoire de  
.IR rep-de-binaires,
on le compare avec le contenu de
.IR section .
.PP
L'élément
.IR responsable,
quand il existe, peut représenter soit le nom du responsable quand il s'agit 
d'un remplacement sans condition, soit la chaîne
.I ancienresponsable
.B =>
.I nouveauresponsable
pour un changement de responsable.
.PP
On peut trouver les fichiers «\ override\ », dont on se sert pour établir les
fichiers officiels «\ Packages\ », dans le répertoire
.I indices
des miroirs Debian.
.
.SH DIAGNOSTICS
.B dpkg-scanpackages
affiche les erreurs habituelles qui se comprennent d'elles-mêmes. Il
affiche aussi des avertissements quand des paquets sont dans un mauvais
sous-répertoire, existent en double exemplaire, ont des champs 
«\ Filename\ » dans leur fichier «\ control\ », sont absents du fichier
«\ override\ » ou bien dont les substitutions de responsable ne peuvent
pas s'appliquer.
.SH VOIR AUSSI
.BR dpkg (8),
.BR dselect (8),
.BR dpkg-scansources (1).
.SH TRADUCTION
Philippe Batailler <pbatailler@teaser.fr>, Octobre 2003.
