.\" This file was generated with po4a. Translate the source file.
.\" 
.TH DPKG\-DIVERT 8 "Décembre 1999" "Projet Debian" "Utilitaires de dpkg"
.SH NOM
dpkg\-divert \- remplacer la version d'un fichier contenu dans un paquet.
.SH SYNOPSIS
.B dpkg\-divert\fR [options] [\-\-add] \fI<fichier>
.br
.B dpkg\-divert\fR [options] \-\-remove \fI<fichier>
.br
.B dpkg\-divert\fR [options] \-\-list \fI<motif-de-recherche>
.br
.B dpkg\-divert\fR [options] \-\-truename \fI<fichier>
.br
.SH DESCRIPTION
Le «\ détournement\ » de fichier est un moyen d'obliger dpkg à installer un 
fichier non pas dans l'emplacement prévu mais dans un autre.  Les scripts 
des paquets Debian se servent de la déviation pour déplacer les fichiers qui 
créent des conflits. Les administrateurs s'en servent, lors de 
l'installation d'une version plus récente d'un paquet, pour remplacer les 
fichiers de configuration de certains paquets, ou bien à chaque fois que des 
fichiers (qui ne sont pas des «\ conffiles\ ») ont besoin d'être préservés 
par Dpkg.
.sp
\fBdpkg\-divert\fR est le programme qu'on utilise pour créer et mettre à jour 
la liste des détournements. Il possède trois modes élémentaires - l'ajout, 
la suppression et le listage d'un détournement. Les options sont 
respectivement \-\-add, \-\-remove, et \-\-list. De plus, il peut afficher 
le vrai nom d'un fichier détourné avec \-\-truename.. On peut indiquer d'autres options 
(voyez la liste ci-dessous).
.SH OPTIONS
.TP
.I \-\-admindir <répertoire>
Définit le répertoire de données de Dpkg comme <répertoire> (par 
défaut c'est /var/lib/dpkg).
.TP
.I \-\-divert <détourner-dans>
<détourner-dans> est le nom utilisé pour les autres versions des 
paquets.
.TP
.I \-\-help
Affiche la version, quelques instructions d'aide, et se termine normalement.
.TP
.I \-\-local
Indique que toutes les versions des paquets sont détournées.
.TP
.I \-\-package <paquet>
<paquet> est le nom du paquet dont la copie de <fichier> ne 
sera pas détournée.
.TP
.I \-\-quiet
Mode silencieux, pas de bavardage.
.TP
.I \-\-rename
Met en fait le fichier de côté. Quand le fichier de destination existe, 
dpkg\-divert interrompt l'opération.
.TP
.I \-\-test
Mode de test, ne rien modifier réellement, seulement montrer.
.TP
.I \-\-version
Affiche le nom du programme et sa version puis se termine normalement.
.SH NOTES
Pour l'ajout, le défaut est \-\-local et \-\-divert 
<original>.distrib.  Pour la suppression, \-\-package ou \-\-local 
et \-\-divert doivent correspondre quand ils sont précisés.

On ne peut pas détourner des répertoires avec dpkg\-divert.

Il faut faire attention quand une bibliothèque partagée est 
détournée. ldconfig (8) crée un lien symbolique à partir du champ DT_SONAME 
embarqué dans la bibliothèque. ldconfig ne connaît pas les détournements 
(seul dpkg le fait), et si une bibliothèque détournée possède le même SONAME 
que la bibliothèque non détournée, le lien symbolique peut pointer en fin de 
compte sur la bibliothèque détournée.
.SH EXAMPLES
Pour détourner toutes les copies de \fI/usr/bin/example.foo\fR vers
\fI/usr/bin/example\fR, il faut modifier le nom si c'est demandé\ :
.HP
dpkg-divert --divert /usr/bin/example --rename /usr/bin/example.foo
.PP
Pour supprimer ce détournement\ :
.HP
dpkg-divert --rename --remove /usr/bin/example.foo
.PP
Pour détourner un paquet qui veut installer \fI/usr/bin/example\fR
dans \fI/usr/bin/example.foo\fR, sauf votre propre paquet \fIwibble\fR\:
.HP
dpkg-divert --package wibble --divert /usr/bin/example.foo --rename /usr/bin/example
.PP
Pour supprimer ce ce détournement\ :
.HP
dpkg-divert --package wibble --rename --remove /usr/bin/example
.SH FICHIERS
.TP
.I /var/lib/dpkg/diversions
Ce fichier contient la liste actuelle des détournements en oeuvre sur le 
système. Il se trouve dans le répertoire d'administration de Dpkg, avec 
d'autres fichiers importants comme «\ status\ » ou «\ available\ ».
.br
Note: dpkg\-divert préserve l'ancienne copie de ce fichier, avec l'extension 
«\ \-old\ », avant de la remplacer par la nouvelle.
.SH "VOIR AUSSI"
\fBdpkg\fR(8).
.SH AUTEUR
Copyright (C) 1995 Ian Jackson.
.sp
C'est un logiciel libre ; voyez la « GNU General Public Licence » version 2 
ou supérieure pour le copyright. Il n'y a PAS de garantie.
.SH TRADUCTION
Philippe Batailler, 2005.
Veuillez signaler toute erreur à <debian-l10-french@lists.debian.org>.
