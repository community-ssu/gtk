.\" update-alternatives.8
.\" (c) 2003 Software in the Public Interest
.\" Traductor: Rubén Porras Campo <nahoo@inicia.es>, revisada
.\" por Santiago Vila <sanvila@unex.es> y Javier Fernández-Sanguino
.\" Basado en la versión 1.3 de 
.\" /cvs/debian-doc/manpages/english/dpkg/update-alternatives.8

.\" This man page is copyright 1997 Charles Briscoe-Smith
.\" This is free documentation; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published
.\" by the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.  There is NO WARRANTY.  You can
.\" find the GNU GPL in /usr/share/common-licenses/GPL on any Debian system.
.TH UPDATE\-ALTERNATIVES 8 "19 de Enero de 1998" "Proyecto Debian" "Utilidades dpkg"
.SH NOMBRE
update\-alternatives \- mantiene enlaces simbólicos que determinan órdenes predeterminadas.
.SH SINOPSIS
.B update\-alternatives
.RI [ opciones ]
.B \-\-install
.I enlace nombre camino prioridad
.RB [ \-\-slave
.I enlace nombre
.IR camino ]...
.PP
.B update\-alternatives
.RI [ opciones ]
.B \-\-remove
.I nombre camino
.PP
.B update\-alternatives
.RI [ opciones ]
 .B \-\-remove\-all
.I nombre
.PP
.B update\-alternatives
.RI [ opciones ]
.B \-\-all
.PP
.B update\-alternatives
.RI [ opciones ]
.B \-\-auto
.I nombre
.PP
.B update\-alternatives
.RI [ opciones ]
.B \-\-display
.I nombre
.PP
.B update\-alternatives
.RI [ opciones ]
.B \-\-list
.I nombre
.PP
.B update\-alternatives
.RI [ opciones ]
.B \-\-config
.I nombre
.PP
.B update\-alternatives
.RI [ opciones ]
.B \-\-set
.I nombre camino
.SH DESCRIPCIÓN
.B update\-alternatives
crea, destruye, mantiene y muestra información acerca de los enlaces
simbólicos que conforman el sistema de alternativas de Debian.
.PP
Es posible que varios programas que realizan la misma función o una parecida
estén instalados en el sistema al mismo tiempo. Por ejemplo, muchos sistemas
tienen varios editores de texto instalados al mismo tiempo, esto deja la elección
de que editor de texto usar en manos del usuario, si éste lo desea, pero hace
difícil que un programa elija la opción correcta si el usuario no ha especificado
ninguna preferencia.
.PP
El objetivo del sistema de alternativas de Debian  es resolver este problema.
Un nombre genérico en el sistema de ficheros se comparte entre todos los ficheros
que tienen una funcionalidad intercambiable. El sistema de alternativas junto con el
administrador del sistema determinan a qué fichero hace referencia este nombre
genérico. Por ejemplo, si los editores de texto
.BR ed (1)
y
.BR nvi (1)
están instalados conjuntamente en el sistema, el sistema de alternativas hará que el
nombre genérico
.I /usr/bin/editor
se refiera a
.I /usr/bin/nvi .
El administrador del sistema puede modificar esto y hacer que se prefiera
.I /usr/bin/ed
, el sistema de alternativas no modificará esto posteriormente hasta que se solicite
explícitamente.
.PP
El nombre genérico no es un enlace directo a la alternativa seleccionada. En vez
de esto, es un enlace simbólico a un nombre en el
.IR directorio
.IR de
.I alternativas
, que a su vez en un enlace simbólico al fichero al que se quiere hacer
referencia.  Esto se hace de este modo para que los cambios del administrador se
mantengan dentro del directorio
.I /etc
: el FHS (q.v.) da razones de por qué esto es bueno.
.PP
Cuando se instala o desinstala un paquete que provee un fichero con una
funcionalidad en particular, se llama a
.B update\-alternatives
para actualizar la información del sistema de alternativas acerca  de ese fichero.
.B update\-alternatives
se llama normalmente desde los scripts
.B postinst
o
.B prerm
de los paquetes de Debian.
.PP
Normalmente es útil para un número de alternativas que estas sean sincronizadas
de tal modo que puedan cambiarse como un grupo. Por ejemplo, cuando varias versiones
del editor
.BR vi (1)
están instaladas, la página del manual preferida por
.I /usr/share/man/man1/vi.1
debe de corresponder con el ejecutable al que hace referencia
.IR /usr/bin/vi .
.B update\-alternatives
maneja esto en términos de enlaces
.I maestro
y
.I esclavo
, cuando se cambia el maestro, todos los esclavos relacionados con él también se
cambian.
Un enlace maestro y sus esclavos relacionados forman un
.IR grupo
de
.I enlaces .
.PP
Cada grupo de enlaces está en cualquier momento en uno de los dos modos
posibles: automático o manual.
Cuando un grupo está en modo automático, el sistema de alternativas decide
automáticamente a medida 
que se instalan o desinstalan paquetes cuándo se deben de actualizar los enlaces.
En modo manual el sistema de alternativas deja todas estas decisiones en manos
del administrador del sistema.
.PP
Los grupos de enlaces se establecen en modo automático la primera vez que entran
en el sistema.
Si el administrador del sistema hace cambios en la configuración automática del
sistema,
.B update\-alternatives
se dará cuenta la próxima vez que se ejecute sobre el grupo de enlaces cambiados,
y el grupo será cambiado automáticamente a modo manual.
.PP
Cada alternativa tiene una
.I prioridad
asociada.
Cuando un grupo de enlaces se encuentra en modo automático, la alternativa a la que
apuntan los miembros del grupo será la que tenga una prioridad más alta.
.PP
Cuando se use la opción
.I \-\-config
,
.B update\-alternatives
mostrará todas las posibilidades para el grupo de enlaces que tienen como maestro a
.I nombre .
Entonces se elegirá una de las opciones posibles del grupo de enlaces.
Una vez que se haga algún cambio, el grupo de enlaces dejará de estar en modo
.I automático .
Será necesario usar la opción
.I \-\-auto
para volver el grupo de enlaces al estado automático.
.PP
Si quiere realizar la configuración de un modo no interactivo puede usar la opción
.I \-\-set
en su lugar (vea más abajo).
.SH TERMINOLOGÍA
Debido a que las actividades que realiza
.B update\-alternatives
están fuertemente relacionadas entre sí, la definición de algunos términos
específicos ayudará a entender su funcionamiento.
.TP
nombre genérico
Un nombre, como
.IR /usr/bin/editor ,
que mediante el sistema de alternativas hace referencia a uno de los posibles
ficheros con una función similar.
.TP
enlace
Sólo es un enlace simbólico en el directorio de alternativas, no tiene ningún
significado especial. Puede ser ajustado por el administrador.
.TP
alternativa
El nombre específico de un fichero en el sistema de ficheros, que, puede ser
accesible a través de un nombre genérico usando el sistema de alternativas.
.TP
directorio de alternativas
El directorio que contiene los enlaces, por omisión es
.IR /etc/alternatives .
.TP
directorio administrativo
El directorio que contiene la información de estado de
.BR update\-alternatives
por omisión es
.IR /var/lib/dpkg/alternatives .
.TP
grupo de enlaces
Un conjunto de enlaces relacionados, que se pretende que sean actualizados como
un grupo.
.TP
enlace maestro
El enlace del grupo de enlaces que determina cómo se configuran el resto de los
enlaces del grupo.
.TP
enlace esclavo
Un enlace del grupo de enlaces controlado por el enlace maestro del grupo.
.TP
modo automático Cuando un grupo de enlaces se encuentra en modo automático, el
sistema de alternativas asegura que los enlaces del grupo apuntan a la
alternativa con mayor prioridad para ese grupo.
.TP
modo manual
Cuando un grupo de enlaces se encuentra en modo manual,
el sistema de alternativas no hará ningún cambio en la configuración
del administrador.
.SH EJEMPLOS
Hay varios paquetes que proporcionan un editor de texto compatible con
.BR vi ,
por ejemplo
.BR nvi y
.BR vim .
Cual se usa es controlado por el grupo de enlaces
.BR vi ,
que incluye enlaces para el programa y la página del manual asociada.
.PP
Para mostrar los paquetes disponibles que proporcionen
.B vi
y su actual configuración, use opción
.I \-\-display:
.RS
.PP
update\-alternatives \-\-display vi
.RE
.PP
Para elegir una implementación de
.B vi
en particular, use la siguiente orden como superusuario y luego seleccione un
número de la lista:
.RS
.PP
update\-alternatives \-\-config vi
.RE
.PP
Para que la implementación de
.B vi
se vuelva a elegir de forma automática, como superusuario haga:
.RS
.PP
update\-alternatives \-\-auto vi
.RE
.SH OPCIONES
Se debe de especificar exactamente una acción a realizar a
.B update\-alternatives
si se desea que realice algún trabajo significativo. Se puede especificar
cualquier número de las opciones comunes junto con cualquier acción.
.SS "OPCIONES COMUNES"
.TP
.B \-\-verbose
Genera una salida con más información acerca de lo que
.B update\-alternatives
está haciendo.
.TP
.B \-\-quiet
No genera ningún comentario a menos que ocurra algún error.
Esta opción todavía no esta implementada.
.TP
.B \-\-test
No hace nada realmente, sólo mostrar lo que hubiese hecho.
Esta opción todavía no esta implementada.
.TP
.B \-\-help
Muestra alguna información relativa al modo de uso (y muestra la versión de
.B update\-alternatives
).
.TP
.B \-\-version
Muestra la versión de
.B update\-alternatives
(y alguna información relativa a su uso).
.TP
\fB\-\-altdir\fR \fIdirectorio\fR
Especifica el directorio de alternativas cuando va a ser diferente del
directorio por omisión.
.TP
\fB\-\-admindir\fR \fIdirectorio\fR
Especifica el directorio administrativo cuando va a ser diferente del directorio
por omisión.
.SS ACCIONES
.\" The names of the arguments should be identical with the ones
.\" in SYNOPSIS section.
.TP
\fB\-\-install\fR \fIgen enlace alt pri\fR [\fB\-\-slave\fR \fIsgen senlace salt\fR] ...
Añade un grupo de alternativas al sistema.
.I gen
es el nombre genérico del enlace maestro,
.I enlace
es el nombre del enlace simbólico en el directorio de alternativas, y
.I alt
es la la alternativa que se va a introducir para el enlace maestro.
.IR sgen ,
.I senlace
y
.I salt
son el nombre genérico, el enlace simbólico en el directorio de alternativas y
la alternativa para el enlace esclavo.
Pueden especificarse cero o más opciones del tipo
.B \-\-slave
seguidas de sus argumentos.
.IP
Si el enlace simbólico maestro especificado ya existe en los registros del sistema
de alternativas, la información suministrada se añadirá como un nuevo conjunto
de alternativas para el grupo.
En caso contrario se creará un grupo nuevo, en modo automático, al que se le
añadirá la información suministrada.
Si el grupo está en modo automático, y la prioridad nueva añadida es mayor que
cualquier otra alternativa instalada para ese grupo, los enlaces se actualizarán
para apuntar a las nuevas alternativas.
.TP
\fB\-\-set\fR \fInombre camino\fR
Establece el programa
.I camino
como alternativa para
.I nombre.
Es equivalente a
.IB \-\-config
pero de forma no interactiva, de modo que permite su inclusión en scripts.
.TP
\fB\-\-remove\fR \fInombre camino\fR
Borra una alternativa y todos sus enlaces esclavos asociados.
.I nombre
es el nombre en el directorio de alternativas, y
.I camino
es el nombre absoluto del fichero al que se podría enlazar
.I nombre .
Si
.I nombre
está en realidad enlazado a
.IR camino ,
.I nombre
se actualizará para que apunte a otra alternativa apropiada, o será eliminado si
no queda ninguna alternativa restante.
Los enlaces esclavos asociados serán actualizados o eliminados correspondientemente.
Si el enlace está apuntando en ese momento a
.IR camino ,
no se cambia ningún enlace, sólo se elimina la información acerca de la alternativa.
.TP
fB\-\-remove\-all\fR \fInombre\fR
Elimina todas las alternativas y todos sus enlaces esclavos asociados.
.I nombre
es un nombre en el directorio de alternativas.
.TP
.B \-\-all
Llama a \fB\-\-config\fP sobre todas las alternativas.
.TP
\fB\-\-auto\fR \fIenlace\fR
Cambia el enlace simbólico maestro
.I enlace
a modo automático.
En el proceso, este enlace simbólico y sus esclavos serán actualizados para apuntar 
a la alternativa instalada con una prioridad mayor.
.TP
\fB\-\-display\fR \fIenlace\fR
Muestra información acerca del grupo de enlaces del cual
.I enlace
es el enlace maestro.
La información mostrada incluye el modo del grupo (automático o manual),
a que alternativa apunta el enlace simbólico,
otras alternativas disponibles (y sus alternativas esclavas correspondientes),
y la prioridad más alta instalada actualmente.
.TP
\fB\-\-list\fR \fIenlace\fR
Muestra todos objetivos de un grupo de enlaces.
.TP
\fB\-\-config\fR \fIenlace\fR
Muestra las alternativas disponibles para un grupo de enlaces y permite a un
usuario seleccionar interactivamente cual usar. El grupo de enlaces se actualiza
y se deshabilita el modo
.I auto
en él.
.SH FICHEROS
.TP
.I /etc/alternatives/
El directorio de alternativas por omisión.
Puede ser cambiado con la opción
.B \-\-altdir .
.TP
.I /var/lib/dpkg/alternatives/
El directorio de administración por omisión.
Puede ser modificado con la opción
.B \-\-admindir .
.SH "ESTADO DE SALIDA"
.IP 0
La acción requerida fue realizada con éxito.
.IP 2
Se encontraron problemas interpretando la línea de órdenes o realizando la
acción requerida.
.SH DIAGNÓSTICOS
.B update\-alternatives
informa innecesariamente acerca de sus actividades en la salida estándar.
Si ocurre algún problema
.B update\-alternatives
canaliza los mensajes de error a la salida de errores estándar y devuelve un
estado de salida de 2.
Los diagnósticos deberían ser auto\-explicativos, si a usted no se lo parecen,
por favor, avise de esto como un fallo.
.SH FALLOS
Si encuentra algún fallo, por favor, avise usando el sistema de seguimiento de
fallos de Debian, o, si esto no es posible, mande un email directamente al autor.
.PP
Si encuentra alguna discrepancia entre el modo de operación de 
.B update\-alternatives
y esta página del manual, es un fallo, bien en la implementación
o bien en la documentación, por favor, avise.
.SH AUTOR
Update\-alternatives de Debian es copyright 1995 de Ian Jackson. Es un programa
libre, vea la licencia GPL de GNU versión 2 o posterior para las condiciones de
copia. NO hay ninguna garantía.
.PP
Esta página del manual es copyright 1997/98 de Charles Briscoe\-Smith.
Es documentación libre, vea la licencia GPL de GNU versión 2 o posterior para las
condiciones de copia.  NO hay ninguna garantía.
.PP
Puede encontrar la licencia GPL de GNU en /usr/share/common\-licenses/GPL en
cualquier sistema Debian.
.PP
Traducida por Rubén Porras <nahoo@inicia.es>, revisada por Santiago Vila
<sanvila@unex.es> y Javier Fernández\-Sanguino.
.SH "VEA ADEMÁS"
.BR ln (1),
FHS, el estándar sobre la jerarquía del sistema de ficheros.
