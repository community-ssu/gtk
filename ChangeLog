2007-01-03  Kristian Rietveld  <kris@imendio.com>

	* gdk/x11/gdkwindow-x11.c (gdk_window_set_type_hint): revert
	previous fix build patch and move the dropdown and message hint cases
	to default: as per Tim's suggestion.

2007-01-03  Kristian Rietveld  <kris@imendio.com>

	* gdk/x11/gdkwindow-x11.c (utf8_is_latin1),
	(set_text_property), (set_wm_name), (gdk_window_set_title),
	(gdk_window_set_icon_name): disable code setting legacy ICCCM
	properties by wrapping the responsible code in ENABLE_ICCCM_LEGACY
	defines.

2007-01-03  Kristian Rietveld  <kris@imendio.com>

	* gdk/x11/gdkwindow-x11.c (gdk_window_set_type_hint): fix build by
	having the dropdown menu hint set the message hint.

2007-01-03  Kristian Rietveld  <kris@imendio.com>

	* gdk/x11/gdkdisplay-x11.c (gdk_display_open): allow to disable
	XSHM via GDK_DISABLE_XSHM environment variable.

2006-12-22  Kristian Rietveld  <kris@imendio.com>

	* gtk/gtkwidget.[ch]: Ported over the tap and hold implementation
	from maemo-gtk-2-6.

	* gtk/gtktreeview.c
	* gtk/gtkcontainer.c
	* gtk/gtkbutton.c: Port over tap and hold support from maemo-gtk-2-6.

	* gtk/gtkmenu.[ch] (gtk_menu_init), (gtk_menu_popup): Partially
	port over _gtk_menu_enable_context_menu_behaviour() and related
	changes.

	* gtk/gtkiconfactory.c (init_icon_sizes): Initialize hildon icon
	sizes, don't scale icons with hildon icon size.

	* gtk/gtkicontheme.c: Support animations, don't prefer built in
	icons when looking up icons.

	* gtk/gtkstyle.c (gtk_default_render_icon): Ported over maemo-gtk-2-6
	change which refrains from scaling icons with hildon icon size.

	* gtk/updateiconcache.c: Port over support for animations.

2006-12-22  Michael Natterer  <mitch@imendio.com>

	* gtk/gtkenums.h: add HILDON_ICON_SIZE_FOO GtkIconSize values.

2006-12-20  Kristian Rietveld  <kris@imendio.com>

	* gtk/gtkimmulticontext.[ch]
	* gtk/gtkimcontext.c
	* gtk/gtkimmodule.h: Ported over code from maemo-gtk-2-6 to get
	the virtual keyboards running.

2006-12-20  Kristian Rietveld  <kris@imendio.com>

	* gdk/gdkwindow.h: move GDK_WINDOW_TYPE_HINT_MESSAGE to the same
	position in the enum as in maemo-gtk-2-6 to restore binary
	compatibility.

2006-12-15  Kristian Rietveld  <kris@imendio.com>

	* gdk/gdkwindow.h: added GDK_WINDOW_TYPE_HINT_MESSAGE.

	* gdk/x11/gdkwindow-x11.c (set_initial_hints): added Maemo specific
	code for setting _NET_WM_STATE since the TN relies on this,
	(gdk_window_set_type_hint),
	(gdk_window_get_type_hint): support HINT_MESSAGE.

2006-12-15  Michael Natterer  <mitch@imendio.com>

	* gtk/gtkrc.c: added support for logical colors as they were in
	maemo-gtk-2-6, so we now parse both the new upstream format and
	the old one.

2006-12-15  Michael Natterer  <mitch@imendio.com>

	* gtk/gtkwidget.h
	* gtk/gtktreeview.h
	* gtk/gtktoolbutton.h
	* gtk/gtkimcontext.h
	* gtk/gtkentry.h
	* gtk/gtkmenushell.h: added class struct changes (vtable entries).

2006-12-15  Michael Natterer  <mitch@imendio.com>

	* gtk/gtkfilesystem.[ch] (gtk_file_system_render_icon): added this
	missing stub.

2006-12-13  Michael Natterer  <mitch@imendio.com>

	* gtk/gtkwidget.[ch]
	* gtk/gtkrange.[ch]
	* gtk/gtktextview.[ch]
	* gtk/gtkstyle.[ch]
	* gtk/gtktextbuffer.[ch]
	* gtk/gtkwindow.[ch]
	* gtk/gtkimcontext.[ch]
	* gtk/gtkfilesystem.[ch]
	* gtk/gtkbutton.[ch]
	* gtk/gtkentry.[ch]: start migration stage 1: add all stubs of
	functions that were added to maemo-gtk-2-6. Didn't change any
	signals or vtable entries yet.

	* gtk/gtkenums.h: added the enums needed by the stubs.

2006-12-04  Tommi Komulainen  <tommi.komulainen@nokia.com>

	Export enough symbols for implementing GtkFileChooser interface
	outside gtk.

	* gtk/gtk.symbols: add hildon_gtk_file_chooser_install_properties
	* gtk/Makefile.am (INCLUDES): add -DGTK_FILE_CHOOSER_ENABLE_UNSUPPORTED
	(gtk_private_h_sources, gtk_semi_private_h_sources): export
	gtkfilesystemmodel.h, gtkfilechooserprivate.h, and
	gtkfilechooserutils.h as semi-private
	* gtk/gtkfilechooserutils.c
	(hildon_gtk_file_chooser_install_properties): add exported version of 
	_gtk_file_chooser_install_properties
	* gtk/gtkfilesystemmodel.h: add GTK_FILE_SYSTEM_ENABLE_UNSUPPORTED
	#ifdef guard
	* gtk/gtkfilechooserprivate.h: add GTK_FILE_CHOOSER_ENABLE_UNSUPPORTED
	#ifdef guard
	* gtk/gtkfilechooserutils.h: add GTK_FILE_CHOOSER_ENABLE_UNSUPPORTED
	#ifdef guard, declare hildon_gtk_file_chooser_install_properties

	* tests/autotestfilechooser.c: build with
	GTK_FILE_CHOOSER_ENABLE_UNSUPPORTED
