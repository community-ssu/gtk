=== Hildon changes ===

	* Changelog entries for Hildon changes are in debian/changelog

=== Gazpacho 0.6.2 ===
2005-09-07  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* NEWS: updated for 0.6.2

	* gazpacho/application.py (__version__): increase version number

2005-09-06  Mattias Karlsson  <matka134@student.liu.se>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>
	
	* gazpacho/command.py:
	* gazpacho/widget.py:
	* gazpacho/palette.py:	
	* gazpacho/constants.py:
	* gazpacho/placeholder.py:
	* gazpacho/dndhandlers.py: Big refactoring of the drag and drop
	code. The dnd code from Widget and Placeholder have been moved to
	special DnDHandler classes. In addition to this it's now possible
	to drag a widget ontop of another widget and extend it, by either
	creating a new box containing both the source and target widget or
	by appending the source widget to the the parent box next to the
	target.

2005-09-06  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/custom.py (DialogAdapter.get_internal_child_name)
	(ColorSelectionDialogAdapter.get_internal_child_name): Correct
	names, they are different from C structure names. 
	Fixes #315357 (Zeeshan Ali)

2005-09-01  Mattias Karlsson  <matka134@student.liu.se>

	* gazpacho/placeholder.py: It should not be possible to drop a
	widget onto one of its children. Fixes #314581.

2005-09-01  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/main.py (check_gtk): Add some extra checks and clean up 
	a bit

	* gazpacho/application.py (SingleCloseConfirmationDialog.run): 
	New method, call show and call main.	

2005-08-31  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/widgets/base/combobox.py (Items.load): Create a new
	model if it does not already exist.

	* gazpacho/loader/custom.py (ComboBoxAdapter.prop_set_items): Only set
	the text column if it's not already set

	* tests/glade/combobox.glade: Add test

	* gazpacho/widgets/base/combobox.py: Add support for GtkComboBox::items,

2005-08-30  Mattias Karlsson  <matka134@student.liu.se>

	* gazpacho/debugwindow.py: HIG fixes. Buttons should use header
	capitalization.

2005-08-30  Johan Dahlin  <johan@gnome.org>

	* gazpacho/cairoannotator.py:
	* gazpacho/gdkannotator.py:
	* gazpacho/util.py:
	* gazpacho/widget.py:
	Merge annotator code into a single source file

2005-08-29  Mattias Karlsson  <matka134@student.liu.se>

	* gazpacho/actioneditor.py: It's now possible to add accelerators
	even if they conflict with the mnemonics in the dialog. Fixes
	#312809.

	* gazpacho/widget.py: It's no longer possible to drop a widget
	onto itself (i.e. not a valid drop target). Fixes Bug 314621.

2005-08-26  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/palette.py (Palette._widget_table_create): Do not
	enable DND for toplevel windows, fixes #314609

	* catalogs/base.xml: Disable Popup menu until 311478 is resolved.

	* gazpacho/bugreportdialog.py (BugReportDialog.__init__): Button order.

	* gazpacho/widget.py (Widget._connect_signal_handlers): We don't 
	need to connect to signals for all children. Remove unused code.

	* gazpacho/filewriter.py (XMLWriter._write_basic_information): If 
	name is set, write it to the file. We can now remove a custom hack.

2005-08-25  Johan Dahlin  <johan@gnome.org>

	* gazpacho/loader/custom.py (TreeViewColumnAdapter.add): Work
	around for PyGTK bug 314527, fixes #313384

2005-08-25  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/proxy.py (Proxy._connect_methods): Fix minor bug,
	variant of patch by Harry Wright, fixes 314218

	* gazpacho/filewriter.py:
	* gazpacho/loader/custom.py:
	* gazpacho/loader/loader.py:
	* gazpacho/properties.py:
	* gazpacho/widgets/base/base.py:
	* gazpacho/widgets/base/box.py:
	* gazpacho/widgets/base/notebook.py:
	* tests/glade/focus.glade:
	Add persistent property attribute, use it instead of
	empty save methods in a few cases.
	Add a qdata property base class to use in state which
	is saved in qdata.
	Ignore has-focus, only is-focus should be used.
	Use qdata for has-focus and visible
	Add a test case.
	Fix a couple of loader bugs, add loader bugs warning when having
	multiple selected widgets with is-focus set.
	
2005-08-25  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/widgets/base/base.py (VisibleProperty.get): If gazpacho::visible
	is not set, initialize it from the real property value.

	* tests/test_glade.py (SKIPPED): Enable notebook test
	* tests/glade/notebook.glade: Remove page property
	* gazpacho/widgets/base/notebook.py (Page.save): 
	Don't save GtkNotebook::page property, first page will always
	be shown.

	* gazpacho/widgets/base/base.py (IsFocus.set): 
	* gazpacho/loader/custom.py (WidgetAdapter.prop_set_is_focus): 
	Add support for GtkWidget::is-focus,

	* tests/glade/table.glade: 
	* tests/glade/notebook.glade: Add tests, disabled for now

	* gazpacho/widgets/base/notebook.py (NPagesProp.save): Don't save

	* gazpacho/filewriter.py (XMLWriter.table_sort): Make children of
	a GtkTable sorted in a stable order in the glade file.

2005-08-23  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/placeholder.py:
	* gazpacho/widgets/base/custom.py:
	No need to override signals on PyGTK 2.6+
	Set minimum for int1/int2. Add some nicer
	drawing code. Listen for changes to string1 and
	update the text
	
2005-08-23  Johan Dahlin  <jdahlin@async.com.br>

	* catalogs/base.xml:
	* gazpacho/widgets/base/base.py:

	Fix basic support for EventBox, which is a container,
	so move it to the container tab.
	
2005-08-23  Johan Dahlin  <jdahlin@async.com.br>

	* catalogs/base.xml:
	* gazpacho/widgets/base/bars.py:
	* gazpacho/widgets/base/base.py:
	* gazpacho/widgets/base/box.py:
	* gazpacho/widgets/base/button.py:
	* gazpacho/widgets/base/combobox.py:
	* gazpacho/widgets/base/fixed.py:
	* gazpacho/widgets/base/image.py:
	* gazpacho/widgets/base/statusbar.py:
	* gazpacho/widgets/base/textview.py:
	* gazpacho/widgets/base/treeview.py:
	* gazpacho/widgets/base/window.py:

	Split out most of the widgets left in base.py
	
2005-08-20  Mattias Karlsson  <matka134@student.liu.se>

	* gazpacho/widgets/base/base.py:
	* catalogs/base.xml:

	Several container classes didn't have adaptors specified. The
	implication of this was that they didn't have any placeholders
	associated with them.

2005-08-22  Daniel Borgmann  <daniel.borgmann@gmail.com>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/properties.py:
	* gazpacho/widgets/base/base.py:

	Splits the PropType init function into a _load function, for the 
	purpose of overriding it in BoxSizeProp. Also sets the 
	minimum value to 1. Replace .remove with gtk.Container.remove

2005-08-22  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/kiwiutils.py: Copied from kiwi, until we can depend on it
	Include PyGTK 2.7.x fixes, by Gustavo Carneiro

	* catalogs/base.xml:
	* gazpacho/project.py:
	* gazpacho/widgets/base/custom.py:
	* tests/glade/custom.glade:
	Add support for editing Custom widgets. Add test case

2005-08-22  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/unittest/test_loader.py (CustomTest.func): 
	* gazpacho/loader/loader.py (ObjectBuilder._create_custom): 
	If a function is specified, send in all arguments.

	* gazpacho/editor.py: Use editor_name in label
	* gazpacho/widgetadaptor.py: Allow type to be specified in the class
	definition, instead of the xml file.
	* gazpacho/widgetregistry.py: Document and use widget_adaptor.name
	if specified
	
2005-08-22  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/library.py (registry_library): Move interfaces from here.
	* gazpacho/interfaces.py: New file, for interfaces, just abstract
	classes for now.

2005-08-18  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/properties.py:
	* tests/glade/radiobutton.glade:

	Add radiobutton test and an evil hack in PropType.__init__

2005-08-18  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/environ.py (Environment._parse_gazpacho_path): 
	Fix GAZPACHO_PATH to work with the new widget layout

2005-08-17  Johan Dahlin  <johan@gnome.org>

	* gazpacho/application.py: Always access self.window through a
	property, should make it easier for subclassing.
	Also refactor setting the title to a separate function, which
	can be overriden by embedders. Based on patch by Ali Afshar,
	fixes #313396

2005-08-17  Johan Dahlin  <johan@gnome.org>

	* gazpacho/widgets/base/base.py (TreeViewAdaptor.fill_empty):
	Ignore GtkTreeView::headers-clickable

	* README: Update requirements

	* gazpacho/widgets/base/spinbutton.py (SpinAdjustmentType.__init__): 
	New file. Implement all adjustment properties, not syncing with
	the editor control yet. Fixes #313686
	
	* gazpacho/editor.py (PropertyEditorDialog)
	(PropertyCustomEditor): Move from properties.py

	* gazpacho/properties.py (PropRegistry.override_property): Set 
	owner_name.
	(PropType.__repr__): print owner_name::name for consistency
	(ProxiedProperty): New helper type
	(ProxiedProperty.set): 

	* tests/glade/spinbutton.glade: New test glade file

	* tests/test_glade.py (BaseTest._test_gladefile): Improve

	* gazpacho/properties.py (PropMeta.new, PropRegistry._add_type): Do
	not override label if there is an already set label.

2005-08-16  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/widget.py (Widget._dnd_drag_begin_cb): Make DND of 
	Widgets to Placeholder work

	* gazpacho/editor.py (Editor._needs_rebuild): Do not cache the
	last property pages when switching between widgets which have
	different child properties. Fixes #313439
	(Editor): Remove _widget_properties cache, it doesn't seem to work
	in all cases

	* tests/test_gtkbox.py (GtkBoxTest.testExpand): Enable test

	* gazpacho/properties.py (PropRegistry._list_child_properties): 
	Remove type_name argument it was unused. Update call sites.

	* setup.py (InstallLib.install): Generate template in install_dir
	instead of build_dir, fixes #313435

2005-08-15  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/main.py: Don't call bind_textdomain_charset as things appears
	to work without it. Makes gazpacho start on python 2.3. Fixes #313573

2005-08-15  Mattias Karlsson  <matka134@student.liu.se>

	* gazpacho/actioneditor.py: it's now possible to delete actions
	and action groups using the keyboard. Fixes #313548

2005-08-15  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/application.py (Application.send_bugreport): compose the
	body message here and not in the server. Added pygtk and gtk versions

2005-08-15  Johan Dahlin  <jdahlin@async.com.br>

	* catalogs/base.xml:
	* gazpacho/widgets/base/__init__.py:
	* gazpacho/widgets/base/base.py:
	* gazpacho/widgets/base/button.py:
	* gazpacho/widgets/base/dialog.py:
	* gazpacho/widgets/base/notebook.py:
	* gazpacho/widgets/base/table.py:
	Remove __init__ hacks.
	
2005-08-15  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/widgets/base/__init__.py:
	* gazpacho/widgets/base/base.py:
	* gazpacho/widgets/base/button.py:
	* gazpacho/widgets/base/dialog.py:
	* gazpacho/widgets/base/notebook.py:
	* gazpacho/widgets/base/table.py:
	Split base to a few files

2005-08-15  Johan Dahlin  <jdahlin@async.com.br>

	* catalogs/base.xml:
	* catalogs/glade-catalog.dtd:
	* catalogs/gtk+.xml:
	* gazpacho/__uninstalled__.py:
	* gazpacho/catalog.py:
	* gazpacho/environ.py:
	* gazpacho/filewriter.py:
	* gazpacho/library.py:
	* gazpacho/widgets/__init__.py:
	* gazpacho/widgets/base/__init__.py:
	* gazpacho/widgets/base/base.py:
	* gazpacho/widgets/gtk+.py:
	* setup.py:
	Rework widgets/ one more time. Loads from sys.path (gazpacho.widgets),
	renamed to base.py, we cannot use gtk+.py since it's not valid in python and
	gtk.py is already taken.

2005-08-15  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/catalog.py:
	* gazpacho/choice.py:
	* gazpacho/loader/loader.py:
	* gazpacho/widgets/gtk+.py:
	Remove unused imports and some unused code.

2005-08-14  Johan Dahlin  <johan@gnome.org>

	* gazpacho/loader/loader.py: Don't try to pack anything into
	unsupported widgets. Fixes bug #313469

=== Gazpacho 0.6.1 ===
2005-08-13  Johan Dahlin  <jdahlin@async.com.br>

	* NEWS:
	* gazpacho/application.py:
	0.6.0

2005-08-13  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/main.py:
	* po/it.po:
	* po/pt_BR.po:
	Call bindtextdomain and convert it.po and pt_BR.po to UTF-8

2005-08-12  Johan Dahlin  <jdahlin@async.com.br>

	* glade/dummy.glade: Dummy file so installation will work from a disted tarball.
	
2005-08-13  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* 0.6.0 released

	* NEWS: 0.6.0 release

	* gazpacho/application.py: increase version number
	
2005-08-13  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/__uninstalled__.py (docs_dir): 
	* gazpacho/environ.py (Environment.__init__): added a docs_dir variable
	* gazpacho/application.py (__version__): new about dialog

	* setup.py: use the same version as in gazpacho.application

2005-08-13  Christopher Aillon  <caillon@redhat.com>

	Reviewed by: Johan Dahlin  <johan@gnome.org>

	* gazpacho/command.py:
	Store the actions associated with an action group when deleting 
	the action group, so we can restore them during an Undo. Fixes
	#172279

2005-08-12  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/gaction.py (GAction.write): Compare against translated label,
	using the domain returned from stock_lookup. Strings returned by
	stock_lookup are translated. Makes the testsuite pass when a locale is
	set.

	* gazpacho/config.py (BaseConfig.get_option): s/_filename/filename/, 
	efixes #313345

	* gazpacho/filewriter.py (XMLWriter._write_property): Escape strings before 
	saving them as xml data. Really.

	* gazpacho/loader/custom.py:
	* gazpacho/loader/loader.py:
	* gazpacho/widgets/gtk+.py:

	Rework GtkWidget::visible, use the state from the loader, eg
	gazpacho::visible. It now respect the value in the glade file,
	even if the window is never shown.

2005-08-12  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/properties.py (PropType.__init__): For custom properties, do not
	call .get() to get the initial value. Fixes #313325

	* gazpacho/unittest/test_uim.glade: Update

	* gazpacho/gaction.py (GAction.write): If stock, do not write
	label or accelerator if they are the default ones.
	Always write translate="yes" for labels. Fixes #313324

	* gazpacho/widgets/gtk+.py (LabelAdaptor.is_translatable): Override,
	only translate if we're not using a stock_id

	* gazpacho/properties.py (PropType.is_translatable): New method, to be
	able to change translation on a per property instance basis.

	* gazpacho/uim.py (default_actions): Use default labels for cut 
	and save as, so we get translations from gtk+ for free.

2005-08-12  Christopher Aillon  <caillon@redhat.com>
	
	* examples/uimanager.glade:
	* gazpacho/application.py:
	* gazpacho/uim.py:
	* gazpacho/unittest/test_uim.glade:
	* gazpacho/unittest/uimanager-example.glade:
	* po/ca.po:
	* po/es.po:
	* po/fi.po:
	* po/fr.po:
	* po/gl.po:
	* po/it.po:
	* po/pt_BR.po:
	* po/ru.po:
	* po/zh_CN.po:
	Menu item should be "Save _As..." per HIG. Fixes #313299

2005-08-12  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widgets/gtk+.py: simplyfied UIPropEditor thanks to the new
	class PropertyCustomEditorWithDialog

	* gazpacho/uieditor.py: 
	* gazpacho/editor.py: adapted to work with the new PropertyCustomEditor

	* gazpacho/properties.py: added a custom editor that is just a button
	that opens a dialog. Moved the PropertyEditorDialog class from 
	custompropertyeditor.py to here

	* gazpacho/custompropertyeditor.py: removed

2005-08-11  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/loader.py (ExpatParser._start_glade_interface): 
	Add support for <glade-interface domain=""> to use as a domain
	for translation.
	(ObjectBuilder.__init__): Call textdomain() to get the default
	domain if none was specified.
	

	* gazpacho/cairoannotator.py:
	* gazpacho/gdkannotator.py:
	* gazpacho/library.py:
	* gazpacho/palette.py:
	* gazpacho/unittest/test_loader.py:
	* gazpacho/util.py:
	* gazpacho/widget.py:

	Fix pyflakes warnings.

2005-08-11  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/constants.py:
	* gazpacho/dndconstants.py:
	* gazpacho/placeholder.py:
	* gazpacho/widget.py:
	Clean up some DND stuff, mostly style
	
	* gazpacho/library.py (LibraryRegistry): Add a simple registry
	(load_library): Change the API slightly
	(registry_library): New API to register a library
	Kill C stuff

	* gazpacho/catalog.py (Catalog._parse_catalog): Update

2005-08-11  John (J5) Palmieri  <johnp@martianrock.com>

	reviewed by: Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/dndconstants.py: 
	* gazpacho/placeholder.py: 
	* gazpacho/palette.py: 
	* gazpacho/widget.py: 
	* gazpacho/command.py: added preliminary support for drag & drop. You
	can drag widgets from the palette and drop them in a container. See
	#313179

2005-08-11  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/editor.py (EditorPropertySpecial.__init__): fix error
	message

	* gazpacho/widgetadaptor.py (WidgetAdaptor.get_default_prop_value): 
	create the widgets using the library. Fix 3rd party widget libraries

	* gazpacho/application.py (Application._construct_menu_and_toolbar): 
	remove short string for stock actions so we get translations for free.
	Add stock icon for About item. Patch by Dan Williams. Fix #313173

2005-08-10  Christopher Aillon <caillon@gmail.com>

	reviewed by: Johan Dahlin  <johan@gnome.org>

	* gazpacho/actioneditor.py:
	Convert to int, gtk.accelerator_valid does not accept longs.

2005-08-10  Owen Taylor <otaylor@redhat.com>
	
	Reviewed by: Lorenzo Gil Sanchez <lgs@sicem.biz>

	* gazpacho/gdkannotator.py: 
	* gazpacho/cairoannotator.py: 
	* gazpacho/placeholder.py: 
	* gazpacho/application.py: 
	* gazpacho/widget.py: 
	* gazpacho/util.py: new feature: draw colored borders around boxes and
	tables to show the structure of the layout
	
2005-08-11  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* tests/test_gtkbutton.py: reenabled all tests

	* gazpacho/widgets/gtk+.py: several tweaks to make buttons work again

	* gazpacho/properties.py (PropType.__init__): 
	* gazpacho/widget.py (Widget.__init__): added a flag to tell the 
	properties code not to touch the gtk properties under certain
	circunstances (e.g. internal children or private children)

	* gazpacho/command.py (CommandSetButtonContents._clear_button): clear
	the label too

	* gazpacho/filewriter.py (XMLWriter._write_widget): keep the gtk
	properties before saving the widget.

2005-08-11  Mattias Karlsson  <matka134@student.liu.se>

	* gazpacho/project.py
	Make sure the undo/redo stack emits a changed signal even for
	commands that can collapse . Fixes #313169.

2005-08-10  Owen Taylor <otaylor@redhat.com>
	
	Reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/placeholder.py:
	* gazpacho/util.py:
	* gazpacho/widget.py:
	Get rid of the multiply added idles by drawing the selection 
	nodes in ::event-after.
	
2005-08-10  Owen Taylor <otaylor@redhat.com>
	
	Reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/util.py: Remove the special casing of GtkEntry and 
	GtkViewport in favor of more general ways to do things
	Use widget.get_parent_window() to figure out the window
	that widget.allocation is relative to.
	Invalidates the right windows in add_nodes() remove_nodes()
	to avoid needing the GtkEntry hack when drawing nodes.

2005-08-10  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widgetclass.py
	* gazpacho/filewriter.py
	* gazpacho/command.py
	* gazpacho/widget.py
	* gazpacho/editor.py
	* gazpacho/unittest/common.py
	* gazpacho/unittest/test_clipboard.py
	* gazpacho/unittest/test_loader.py
	* gazpacho/properties.py
	* gazpacho/widgettreeview.py
	* gazpacho/palette.py
	* gazpacho/clipboard.py
	* gazpacho/application.py
	* gazpacho/catalog.py
	* gazpacho/widgetregistry.py
	* gazpacho/cursor.py
	* gazpacho/widgets/gtk+.py
	* gazpacho/placeholder.py
	* gazpacho/signaleditor.py: replace WidgetClass by WidgetAdaptor

	* gazpacho/properties.py: 
	* gazpacho/widgetclass.py: moved get_default_prop_value and get_default
	to the adaptor

	* gazpacho/signaleditor.py (SignalEditor.load_widget): moved signal
	list from widget class to widget adaptor

2005-08-10  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/editor.py:
	* gazpacho/filewriter.py:
	* gazpacho/properties.py:
	* gazpacho/widget.py:
	* gazpacho/widgetclass.py:
	* gazpacho/widgets/gtk+.py:
	Make packing properties work again. Default values should work
	somewhat better now. We still can't load/save pachis big glade file.
	Add some more docstrings

2005-08-10  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widgets/gtk+.py (DialogAdaptor.post_create): add the main
	placeholder here instead on fill_empty

	* tests/test_saveproperties.py: added test for #313087

	* gazpacho/widgets/gtk+.py: put the fill_empty method just in those
	classes that need it

	* catalogs/gtk+.xml: rearranged and formated in a more readable way

2005-08-10  Johan Dahlin  <johan@gnome.org>

	* catalogs/gtk+.xml:
	* gazpacho/application.py:
	* gazpacho/catalog.py:
	* gazpacho/choice.py:
	* gazpacho/clipboard.py:
	* gazpacho/command.py:
	* gazpacho/editor.py:
	* gazpacho/filewriter.py:
	* gazpacho/main.py:
	* gazpacho/parameter.py:
	* gazpacho/project.py:
	* gazpacho/properties.py:
	* gazpacho/property.py:
	* gazpacho/propertyclass.py:
	* gazpacho/uim.py:
	* gazpacho/unittest/common.py:
	* gazpacho/util.py:
	* gazpacho/widget.py:
	* gazpacho/widgetclass.py:
	* gazpacho/widgets/gtk+.py:
	* tests/test_gtkbars.py:
	* tests/test_gtkbutton.py:
	* tests/test_gtklabel.py:
	* tests/test_gtkscrolledwindow.py:
	* tests/test_gtktable.py:
	* tests/test_gtkwindow.py:
	* tests/test_saveproperties.py:

	Landed properties-rewrite branch. 
	Known regressions:
	Custom properties (eg GtkToolbar::ui) has a bad label.
	Copy/Paste is not working in some situations.
	No way to override child properties.
	
2005-08-09  Henrique Romano <henrique@async.com.br>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/uim.py: Load GtkAction::activate signals
	from the glade, and display them in the action editing
	dialog.

2005-08-09  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/application.py: 
	* gazpacho/widgetregistry.py: 
	* gazpacho/widgets/gtk+.py: 
	* gazpacho/palette.py: 
	* gazpacho/editor.py: 
	* gazpacho/widgetclass.py: 
	* gazpacho/filewriter.py: 
	* gazpacho/widget.py: moved library, name, type and tooltip attributes
	to the adaptor. Moved the is_toplevel method too.
	
	* gazpacho/cursor.py: 
	* gazpacho/clipboard.py: 
	* gazpacho/widgettreeview.py: 
	* gazpacho/palette.py: 
	* gazpacho/widget.py: 
	* gazpacho/widgetclass.py: 
	* gazpacho/unittest/test_clipboard.py: moved generic_name,
	palette_name, pixbuf, icon and cursor attributes from WidgetClass to
	WidgetAdaptor

2005-08-07  Mattias Karlsson  <matka134@student.liu.se>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/actioneditor.py: Fixed some issues with adding
	accelerator to an action using the Action Dialog. It's now
	possible to have more than one modifer key. It's also possible to
	remove an accelerator by pressing Delete or BackSpace. Furthermore
	the normal context menu have been replaced with a menu containing
	a single 'clear' item. Fixes bug #312606

2005-08-08  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widgetclass.py (WidgetClass.__init__): 
	* gazpacho/palette.py (Palette._widget_table_create): use the 
	palette_name variable to decide whetever to put a widget in the palette
	or not

	* gazpacho/editor.py (Editor._get_property_classes): 
	* gazpacho/widgetclass.py (WidgetAdaptor.child_property_applies): 
	* gazpacho/widget.py (Widget._get_apply_packing_properties): add the
	context parameter to child_property_applies. Fix a regression

	* gazpacho/widgetclass.py: removed get_function_from_adaptor

2005-08-07  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widgetclass.py: kill func_dict since we don't need it
	anymore
	* gazpacho/loader/tags.py: kill some unused tags

	* gazpacho/widgets/gtk+.py: 
	* catalogs/gtk+.xml: fine tune some widget adaptors

	* gazpacho/widgetclass.py (WidgetClass._merge_type): thanks to real
	class inheritance we don't need to merge the virtual methods manually

	* gazpacho/filewriter.py: 
	* gazpacho/widget.py: use the widget adaptor for replace_child,
	post_create, fill_empty, save, load, button_press and motion_notify
	calls 

	* gazpacho/widgetclass.py: kill self.child_property_applies since we
	have it in the adaptor now

	* gazpacho/editor.py (Editor._get_property_classes): 
	* gazpacho/widget.py (Widget._get_apply_packing_properties): use
	the adaptor always.

	* gazpacho/widgetclass.py: created a base widget adaptor with some
	useful documentation
	(WidgetClass.__init__): create a widget adaptor for all widgets if
	they don't provide a custom one

	* gazpacho/actioneditor.py (GActionDialog._load_widgets): handle None
	values for the action attributes. Fix #312825. Thanks to Daniel Borgman
	for reporting this bug

2005-08-04  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/glade-catalog.dtd: we don't allow <function> anymore inside
	a <glade-widget-class>

	* catalogs/gtk+.xml: clean up. Don't use functions, only adaptors for
	classes. Need more cleaning in the properties battlefield.

	* gazpacho/widgets/gtk+.py: add some class adaptors basically to
	provide the fill_empty ignore functionality

	* gazpacho/widgetclass.py: get the virtual functions from the adaptor
	if this exists

	* gazpacho/catalog.py (Catalog._parse_widget_class): don't load
	functions since they are now obtained only from adaptors

	* gazpacho/widgets/gtk+.py (FixedAdaptor): use relative coordinates
	to the toplevel so we create the children in the right position
	
	* gazpacho/widgets/gtk+.py: 
	* catalogs/gtk+.xml: kill all the legacy functions for classes (not for
	properties yet)

	* gazpacho/widgets/gtk+.py (FixedAdaptor.motion_notify): draw the icon
	of the widget that is going to be added in the mouse cursor

	* gazpacho/widget.py: 
	* gazpacho/widgetclass.py: 
	* catalogs/glade-catalog.dtd: 
	* catalogs/gtk+.xml: support for yet another virtual function:
	motion_notify

2005-08-03 Lorenzo Gil Sanchez <lgs@sicem.biz>

	* catalogs/gtk+.xml: 
	* gazpacho/widgets/gtk+.py: 
	(FixedAdaptor.on_expose_event): add a nice grid to the fixed background

	* catalogs/gtk+.xml: proper support for GtkFixed

	* gazpacho/widget.py: 
	* catalogs/glade-catalog.dtd: 
	* gazpacho/loader/tags.py: 
	* gazpacho/widgetclass.py: added a new virtual function:
	button_release_function

	* CONTRIBUTORS: 
	* AUTHORS: moved Johan from CONTRIBUTORS to AUTHORS

2005-08-02  Mattias Karlsson  <matka134@student.liu.se>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/actioneditor.py:
	* gazpacho/application.py:
	Some action editor polish. It makes the action menu a bit more
	sane, adds a context menu to the editor and so on.
	
2005-08-02  Daniel Borgmann  <daniel.borgmann@gmail.com>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/gaction.py: Fix bug 311377

2005-07-24  Mattias Karlsson  <matka134@student.liu.se>

	* gazpacho/command.py: Make sure the action editor is updated when
	undoing or redoing the editing of an action. Fixes Bug 311397.

2005-07-28  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/loader.py: 
	Use a common base class for info classes, add support
	for translation

2005-07-27  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/tags.py (YES, NO): Lowercase.

	* gazpacho/filewriter.py (XMLWriter._write_property): 
	intltool can only handle translatable="yes" so write a yes tag 
	instead of a true tag
	
2005-07-26  Johan Dahlin  <johan@gnome.org>

	* catalogs/gtk+.xml:
	* gazpacho/command.py:
	* gazpacho/filewriter.py:
	* gazpacho/property.py:
	* gazpacho/propertyclass.py:
	* gazpacho/widget.py:
	* gazpacho/widgets/gtk+.py:

	Back out revision 1449 to 1454, they broke
	packing properties. (Lorenzos changes from the 24th)
	
2005-07-25  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/custom.py:
	* gazpacho/loader/loader.py:
	* gazpacho/unittest/test_loader.py:
	Add support for custom properties, add unittests too

2005-07-25  Johan Dahlin  <johan@gnome.org>

	* bin/gazpacho:
	* gazpacho/main.py:

	Add version checks for python and pygtk, add more (pedantic) 
	error checking.

2005-07-24    <lgs@sicem.biz>

	* gazpacho/loader/custom.py (GObjectAdapter.set_properties): store the
	list of changed properties so Widget.sync_properties_from_gtk can do
	its job properly

2005-07-24  Johan Dahlin  <johan@gnome.org>

	* gazpacho/filewriter.py (XMLWriter._write_child): Do not write
	position child property, we're always saving properties in the
	correct order. Also skip <packing> if it doesn't have any children

2005-07-24    <lgs@sicem.biz>

	* gazpacho/widget.py (Widget.sync_properties_from_gtk): use the list
	gazpacho.changed_properties to know what properties were changed so we
	can set them as dirty

	* gazpacho/command.py (CommandSetButtonContents.execute): explicity say
	what properties are changed in the internal gtk widgets

	* catalogs/gtk+.xml: put more sane default values for some  properties

	* gazpacho/property.py: add a dirty flag and don't use the class
	default value

	* gazpacho/widgets/gtk+.py (ButtonContentsAdaptor.set_stock) 
	(ButtonContentsAdaptor.set_custom): set the dirty flag when changing
	the button contents property

	* gazpacho/widget.py (Widget.sync_properties_from_gtk): don't trust the
	default value so do nothing with the enable attribute of the property

	* gazpacho/filewriter.py (XMLWriter._write_property): only save dirty
	properties

	* gazpacho/widget.py (Widget.create_gtk_widget) 
	(Widget.set_custom_default_values): 
	* gazpacho/property.py (Property.__init__): Change the way properties
	are created when creating a widget:
	
	  1. Create empty properties with no initial value
	  2. Copy the value from the gtk widget property to our property
	  3. If the property has a defined default, set it

	* gazpacho/filewriter.py (XMLWriter._write_properties): check 
	write_property return value before adding the child node

	* gazpacho/propertyclass.py (PropertyClass._update_from_pspec): kill
	original_default and just save all the properties of the widget right
	now. This will be fixed as soon as we have a dirty flag for properties.

	* gazpacho/filewriter.py (XMLWriter._write_properties): with the new
	loader we don't need to save the 'visible' property in a particular
	order

2005-07-23  Mattias Karlsson  <matka134@student.liu.se>

	* gazpacho/actioneditor.py	
	Fixed a bug where an exception was raise when deleting an action
	in the action editor. Fixes Bug 311336.

2005-07-20  Jonathan Blandford  <jrb@redhat.com>

	reviewed by: Johan Dahlin  <johan@gnome.org>

	* gazpacho/__uninstalled__.py:
	* gazpacho/environ.py:
	* setup.py:

	Add a glade_dir

2005-07-20  Johan Dahlin  <johan@gnome.org>

	* gazpacho/loader/loader.py: Add support for accelerators

2005-07-20    <lgs@sicem.biz>

	* catalogs/gtk+.xml: added support for IconView. Need a proper icon
	since right now it just have a copy of the TreeView icon
	
	* catalogs/gtk+.xml: re-enable use-underline for buttons

	* gazpacho/command.py (CommandSetButtonContents.execute): don't try
	to guess the best value for 'use-underline' since that property is
	enabled again and the user will choose it for us

2005-07-20  Johan Dahlin  <jdahlin@async.com.br>

	* catalogs/glade-catalog.dtd:
	* catalogs/gtk+.xml:
	* gazpacho/loader/custom.py:
	* gazpacho/loader/loader.py:
	* gazpacho/loader/tags.py:
	* gazpacho/widget.py:
	* gazpacho/widgetclass.py:
	* gazpacho/widgets/gtk+.py:
	Rework internal children, remove function from the xml file and
	use the new loaders adapters instead.

2005-07-20  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/loader.py (ObjectBuilder._find_internal_child)
	(ObjectBuilder.get_internal_children): Save the internal children
	* gazpacho/unittest/test_loader.py: Add tests, refactor them slightly

2005-07-19  Mattias Karlsson  <matka134@student.liu.se>

	* gazpacho/clipboard.py
	* gazpacho/application.py
	We must pass the Application as a key-word argument to the
	GazpachoObjectBuilder. Otherwise the placeholders it creates
	wont behave correctly. Fixes Bug 310059.

2005-07-19  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/loader.py:
	* gazpacho/unittest/test_loader.py:
	Don't use a default placeholder, if we don't specify one
	just ignore it. Update the unittest
	
2005-07-19  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/custom.py:
	* gazpacho/unittest/test_loader.py:
	Add basic support for GtkTreeView

2005-07-19  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/custom.py:
	* gazpacho/loader/loader.py:
	* gazpacho/project.py:
	* gazpacho/uim.py:
	* gazpacho/unittest/test_loader.py:
	* gazpacho/widget.py:
	* gazpacho/widgets/gtk+.py:
	* tests/test_gtkwindow.py:
	Great loader renaming

2005-07-18  Johan Dahlin  <jdahlin@async.com.br>

	* catalogs/gtk+.xml:
	Enable GtkArrow, fixes #167383

	* gazpacho/loader/custom.py:
	Add support for GtkFontSelectionDialog and GtkColorSelectionDialog
	fixes 167379 and 167380.

2005-07-18  Johan Dahlin  <jdahlin@async.com.br>


	* CONTRIBUTORS: Add Kalle Vahlman

2005-07-18  Kalle Vahlman  <zuh@iki.fi>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/util.py:
	Fix 172154, selecting entries in multiple entries

	* gazpacho/application.py (register_stock_icons): Add a missing icon 
	stock icon, fixes #309471

2005-07-18  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/widget.py (Widget.apply_properties): 
	Add patch from Mattias, fixes #309623

	* gazpacho/unittest/test_uim.py:
	* tests/test_gtkbutton.py:
	* tests/test_gtkwindow.py:
	Use gazpacho.project.GazpachoyObjectBuilder.

2005-07-18  Johan Dahlin  <jdahlin@async.com.br>

	* CONTRIBUTORS: Add Zeeshan Ali

2005-07-18  Zeeshan Ali  <zeenix@gmail.com>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* examples/helloworld.py:
	* examples/uimanager.py:
	Update to new loader API, fixes bug 310753

2005-07-18  Mattias Karlsson  <matka134@student.liu.se>
 
	* gazpacho/unittest/test_command.py
 	Added tests for add/remove/change signal commands.

	* catalogs/gtk+.xml	
	Add default values for the label-xalign property for the Frame
	widget to fix Bug 172439
	
2005-07-18  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/proxy.py (Proxy.__init__): Add root argument, fixes
	#308836

2005-07-18    <lgs@sicem.biz>

	* langadmin.py: added copyright and license information

2005-07-18  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/unittest/test_loader.py (NotebookTest.testTabProperty): Add unittest.

	* gazpacho/loader/custom.py (ContainerAdapter._set_child_properties): Refactor, so 
	we can easily set properties from subclasses.
	(OptionMenuAdapter.add, NotebookAdapter.add)
	(ExpanderAdapter.add, MenuItemAdapter.add): Call _set_child_properties
	(ExpanderAdapter.add, NotebookAdapter.add): Filter out custom properties,
	so _set_child_properties can ignore them properly

	* gazpacho/library.py (PythonLibrary.__init__): pedantic checking

	* gazpacho/loader/custom.py (PythonWidgetAdapter): New adapter,
	Uses klass() directly and does not instantiate objects using
	gobject.new.
	(IObjectAdapter): Start to describe interface used to construct 
	widgets.

	* gazpacho/loader/loader.py (ObjectBuilder.register_adapter): 
	Do not register abstract adapters

2005-07-16    <lgs@sicem.biz>

	* gazpacho/command.py (CommandSetButtonContents.execute): 
	* gazpacho/util.py (get_button_state): use the 'image-file-name'
	instead of 'image-path' so the getter for the 'file' property of the
	image works and this way the saver for the button when it contains
	image works too. With GTK 2.8 this will go away since the 'file'
	property is readable.

2005-07-15    <lgs@sicem.biz>

	* tests/test_gtkbutton.py: some more tests and a little bit of
	refactoring

2005-07-14    <lgs@sicem.biz>

	* gazpacho/widgets/gtk+.py (ButtonAdaptor.save): create GazpachoWidgets
	for those internal widgets that are part of Buttons

	* gazpacho/filewriter.py (XMLWriter._write_child): remove the
	"gazpacho::ignore" hack and don't save widgets that do not have a
	Gazpacho Widget associated with them.

2005-07-13  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/widgets/gtk+.py (ButtonContentsAdaptor._create_stock_list): 
	Use constants, set search_column/search fixes #309626
	Based on patch by Kalle Vahlman

2005-07-12  Mattias Karlsson  <matka134@student.liu.se>

	reviewed by: Johan Dahlin  <johan@gnome.org>
	
	* gazpacho/gaction.py
	Fix a simple bug that causes Gazpacho to crash when removing an
	action. Fixes #310179

2005-07-11  Mattias Karlsson  <matka134@student.liu.se>

	reviewed by: Johan Dahlin  <johan@gnome.org>

	* gazpacho/command.py:
	* gazpacho/signaleditor.py:
	This patch adds a command for changing the signal. 
	This makes the whole operation undoable. Fixes #308336

2005-07-11  Johan Dahlin  <johan@gnome.org>

	* gazpacho/widgets/gtk+.py (CommonBarsAdaptor.load): 
	Clean up properties, remove loader from load() function

2005-07-09  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/gtk+.xml: 
	* catalogs/glade-catalog.dtd: 
	* gazpacho/loader/tags.py: 
	* gazpacho/catalog.py (Catalog._parse_property_editor): 
	* gazpacho/editor.py (EditorTable._append_item) 
	(EditorTable._attach_row): 
	* gazpacho/propertyclass.py (PropertyClass._set_default_values): 
	Add a 'wide' option for custom editors of properties so these editors
	can span both columns of the TableEditor in the Editor notebook.
	
2005-07-06  Johan Dahlin  <johan@gnome.org>

	* gazpacho/__init__.py:
	* gazpacho/application.py:
	* gazpacho/catalog.py:
	* gazpacho/cursor.py:
	* gazpacho/environ.py:
	* gazpacho/library.py:
	* gazpacho/main.py:
	* gazpacho/palette.py:
	* gazpacho/widgetclass.py:

	Kill gazpacho.path, Add gazpacho.environ which is a helper to load
	resources from the filesystem.
	
2005-07-06  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/clipboard.py (ClipboardItem.__init__): Save the string 
	instead of the widget, fixes #309622
	
	* bin/create_path_on_win32.py:
	* gazpacho/__init__.py:
	* gazpacho/catalog.py:
	* gazpacho/main.py:
	Remove win32 startup script, work around some minor pyflakes issues
	We're now completely pyflakes clean

2005-07-06  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/actioneditor.py:
	* gazpacho/application.py:
	* gazpacho/bugreportdialog.py:
	* gazpacho/clipboard.py:
	* gazpacho/command.py:
	* gazpacho/debugwindow.py:
	* gazpacho/dialogs.py:
	* gazpacho/editor.py:
	* gazpacho/loader/compat.py:
	* gazpacho/loader/proxy.py:
	* gazpacho/main.py:
	* gazpacho/palette.py:
	* gazpacho/popup.py:
	* gazpacho/project.py:
	* gazpacho/propertyclass.py:
	* gazpacho/signaleditor.py:
	* gazpacho/uieditor.py:
	* gazpacho/uim.py:
	* gazpacho/unittest/common.py:
	* gazpacho/widget.py:
	* gazpacho/widgets/gtk+.py:
	* tests/utils.py:
	Don't call gettext.install, import gettext in all files instead,
	makes pyflakes work better, and is less hackish.
	
2005-07-06  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/command.py (CommandSetButtonContents.execute): Use button 
	instead of button.gtk_widget, fixes #309621	

	* tests/test_gtkbutton.py (CreateSave.testNoStock): Add test

2005-07-05  Johan Dahlin  <jdahlin@async.com.br>

	* catalogs/gtk+.xml:
	* gazpacho/__init__.py:
	* gazpacho/__uninstalled__.py:
	* gazpacho/catalog.py:
	* gazpacho/gladegtk.py:
	* gazpacho/library.py:
	* gazpacho/widgets/gtk+.py:
	* setup.py:
	Rework module loading, main difference is to use
	Renamed gladegtk.py to gtk+.py and moved it to
	gazpacho/widgets.py. The library loader uses execfile instead of
	__import__, which allows us to use a more flexible loading
	mechanism

2005-07-03  Johan Dahlin  <johan@gnome.org>

	* catalogs/gtk+.xml:
	* gazpacho/clipboard.py:
	* gazpacho/command.py:
	* gazpacho/filewriter.py:
	* gazpacho/gladegtk.py:
	* gazpacho/project.py:
	* gazpacho/widget.py:
	* tests/test_gtkbutton.py:
	Rewrite most of button saving/loading code.
	Add plenty of tests.
	Remove unused ObjectGlue
	Make construction setting of menubars/toolbars generic.
	Break save interface slightly: remove document parameter.
	
2005-07-03  Johan Dahlin  <johan@gnome.org>

	* gazpacho/clipboard.py:
	* gazpacho/gladegtk.py:
	* gazpacho/project.py:
	* gazpacho/unittest/test_uim.py:
	* gazpacho/widget.py:
	Tie a loader to a project. More work needs to be done in this
	area. 	

2005-07-03  Johan Dahlin  <johan@gnome.org>

	* gazpacho/application.py:
	Implement dump data
	* gazpacho/filewriter.py:
	(XMLWriter.serialize_widgets): Implement.
	* gazpacho/project.py:
	(Project.serialize): Implement

2005-07-03  Johan Dahlin  <johan@gnome.org>

	* gazpacho/property.py (Property.__init__): Make loading private
	(Property.set): When setting avoid trigger a get

	* gazpacho/main.py (launch): Don't use DebugWindow when running in
	debug mode.
	(main): Disable pdb.

2005-07-02  Rafael Villar Burke <pachi@mmn-arquitectos.com>

        * po/gl.po
        * po/es.po Fill up package name and version for the translation
        * po/pt_BR Fill up metadata for the translation, such as author, 
	package name and version
	
2005-07-02  Johan Dahlin  <johan@gnome.org>

	* gazpacho/loader/custom.py (WindowAdapter): Fix typos.

	* gazpacho/loader/loader.py:
	(ExpatParser._end_property): Protect ourselves against
	non-standard agents.

	* gazpacho/unittest/test_loader.py:
	Add support for delayed properties, such as object properties
	which references objects which are defined after the current
	object. Add unittests
	
2005-07-01  Johan Dahlin  <johan@gnome.org>

	* gazpacho/loader/custom.py (str2bool): handle 0 and 1
	* gazpacho/loader/loader.py:
	Use str2bool for all boolean operators
	* gazpacho/unittest/test_loader.py:
	Proper imports, add str2bool tests
	Fixes #309314
	
2005-06-29  Johan Dahlin  <jdahlin@async.com.br>

	* bin/gazpacho: Generalize, use APPNAME, DIRNAME.

	* gazpacho.nsi:
	* langadmin.py:
	* setup.py:
	Rewrite startup script and installation script.
	Remove nsi, it's not up to date anyway.

2005-06-29  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/popup.py (Popup.__init__): Add a check for it here.

	* gazpacho/widget.py (Widget._button_press_event): 
	* gazpacho/widgettreeview.py (WidgetTreeView._button_press_cb): 
	Pass in command manager and not application to Popup

2005-06-28  Johan Dahlin  <johan@gnome.org>

	* gazpacho/loader/loader.py (ObjectBuilder.__init__): 
	Add support for root. 

	* gazpacho/unittest/test_loader.py (SimpleLoaderTest.testRoot): 
	Test it

2005-06-27  Johan Dahlin  <johan@gnome.org>

	* gazpacho/application.py:
	* gazpacho/catalog.py:
	* gazpacho/unittest/common.py:

	Allow us to filter out external catalogs, so the testsuite only
	loads the gtk+ catalog

2005-06-27  Johan Dahlin  <johan@gnome.org>

	* gazpacho/loader/loader.py (ObjectBuilder.signal_autoconnect): 
	Implement, based on patch by Alex Verstraeten.

	* gazpacho/unittest/test_loader.py (SignalTest): 
	Write unittest with complete signal_autoconnect coverage

2005-06-26  Johan Dahlin  <johan@gnome.org>

	* gazpacho/filewriter.py:
	* gazpacho/property.py:
	* gazpacho/unittest/common.py:
	* gazpacho/unittest/test_uim.glade:
	* gazpacho/unittest/test_uim.py:
	* gazpacho/util.py:
	* gazpacho/widget.py:

	Move the rest of the saving routines.

2005-06-26  Johan Dahlin  <johan@gnome.org>

	* gazpacho/clipboard.py:
	* gazpacho/filewriter.py:
	* gazpacho/gladegtk.py:
	* gazpacho/project.py:
	* gazpacho/unittest/test_clipboard.py:
	* gazpacho/widget.py:
	* tests/test_gtkwindow.py:

	Move most of saving routines to filewriter.py

2005-06-26  Johan Dahlin  <johan@gnome.org>

	* gazpacho/application.py:
	* gazpacho/editor.py:
	* gazpacho/loader/proxy.py:
	* gazpacho/main.py:
	* gazpacho/property.py:
	* gazpacho/util.py:
	* gazpacho/widget.py:
	* gazpacho/widgetclass.py:
	* gazpacho/widgettreeview.py:

	Remove almost all translations for prints

2005-06-26  Johan Dahlin  <johan@gnome.org>

	* gazpacho/catalog.py: Remove translation of all prints.
	Add an extra warning for missing properties

	* gazpacho/cursor.py:
	* gazpacho/placeholder.py:
	* gazpacho/widgetclass.py:
	Clean up cursor handling a little bit

2005-06-26  Johan Dahlin  <johan@gnome.org>

	* gazpacho/widgetclass.py (WidgetClass._create_pixbuf): 
	If palette icon cannot be found, use a stock image

2005-06-25  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/loader.py:
	Support placeholders

	* gazpacho/application.py:
	* gazpacho/custompropertyeditor.py:
	* gazpacho/gladegtk.py:
	* gazpacho/library.py:
	* gazpacho/project.py:
	* gazpacho/uim.py:
	* gazpacho/unittest/test_uim.py:
	* gazpacho/util.py:
	* gazpacho/widget.py:
	* gazpacho/widgettreeview.py:

	Rename get_widget_from_gtk_widget to Widget.from_widget

2005-06-25  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/command.py:
	* gazpacho/gladegtk.py:
	* gazpacho/project.py:
	* gazpacho/util.py:

	Kill all remaining direct widget imports

2005-06-25  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/clipboard.py:
	* gazpacho/placeholder.py:
	* gazpacho/popup.py:
	* gazpacho/uieditor.py:
	* gazpacho/widgettreeview.py:

	Various minor cleanups

2005-06-25  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/actioneditor.py:
	* gazpacho/application.py:
	* gazpacho/clipboard.py:
	* gazpacho/gaction.py:
	* gazpacho/gladegtk.py:
	* gazpacho/project.py:
	* gazpacho/uim.py:
	* gazpacho/unittest/test_uim.glade:
	* gazpacho/unittest/test_uim.py:
	* gazpacho/widget.py:

	Use new objectbuilder, start of uimanager refactor, 
	Refactor action and actiongroups to be closer to gtk+ ones.
	Move action ui classes to a separate file. 

2005-06-25  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/main.py: Add cruel profiling support

	* gazpacho/loader/loader.py (ObjectBuilder.getsignals)
	(ObjectBuilder.getconstructor): New accessors

	* gazpacho/catalog.py:
	* gazpacho/choice.py:
	* gazpacho/function.py:
	* gazpacho/parameter.py:

	Clean up catalog imports. Move function into catalog.
	Move more xml parsing code into the catalog.

2005-06-24  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/application.py:
	(Application.open_project): Add reload debug menu item
	(Application._construct_menu_and_toolbar): Save project_action_group 
	so we don't need to search for it.

	* gazpacho/config.py:
	* gazpacho/dialogs.py:

	Add configuration, remember last opened/saved directory, add 
	a list of recently opened projects. Fixes 172978

2005-06-24  Johan Dahlin  <johan@gnome.org>

	* gazpacho/command.py:
	* gazpacho/gladegtk.py:
	* gazpacho/unittest/common.py:
	* gazpacho/unittest/test_uim.py:
	* gazpacho/widget.py:
	* tests/test_gtkbars.py:
	Low hanging fruit cleanups in widget.py

2005-06-20  Mattias Karlsson  <matka134@student.liu.se>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/application.py:
	* gazpacho/command.py:
	* gazpacho/project.py:
	* gazpacho/unittest/test_command.py:

	Rewrite UndoRedoManager.

2005-06-23  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/custom.py (ActionAdapter.construct):
	If the name is not set, set it here, as a construct property.
	(ActionGroupAdapter.add): Use parent.get_property instead of get_data

2005-06-23  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/loader.py (ObjectBuilder._build_phase1): Add support
	for translatable/context and comment properties.

	* gazpacho/property.py (Property.read_i18n_data): Default value is 
	False, not None, fixes #308692

2005-06-22  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/loader.py (ObjectBuilder._findinternalchild): 
	Don't try to set properties on unsupported widgets.

	* gazpacho/loader/custom.py (GObjectAdapter._getproperties): 
	Allow us to override normal properties.
	(StatusbarAdapter.prop_set_has_resize_grip): Use str2bool

	* catalogs/gtk+.xml: Add deprecated widgets Combo, OptionMenu and 
	H/VRuler so we can load old glade files containing them.

	* gazpacho/widgettreeview.py (WidgetTreeView.remove_item): Check return 
	value, fixes #308682
	
	* gazpacho/project.py (Project.new_widget_name): Fix regression
	found by Dave Cook

	* gazpacho/command.py (Command.__init__): Use description, 
	not _description.

	* gazpacho/gladegtk.py (glade_gtk_box_set_size): Treat statusbars 
	differently, so we don't end up calling Gtkstatusbar.remove()
	
	* gazpacho/project.py: Optimize get_widget_by_name, and widget_new_name,
	it takes 95% less time to open gnome-jabber.glade now.

	* gazpacho/widget.py (Widget.setup_widget): Revert last checkin

	* gazpacho/widget.py (get_widget_from_gtk_widget): Use a hash instead of 
	set/get_data. Remove name descriptior. Cleanup setup_widget

	* gazpacho/loader/custom.py:
	* gazpacho/loader/loader.py:

	Implement GtkAction::accelerator and GtkAction::callback
	Also treat PyObjects as string values.
	
2005-06-20  Mattias Karlsson  <matka134@student.liu.se>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/command.py: Remove description descriptor

2005-06-21  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/custom.py:
	* gazpacho/loader/loader.py:
	Refactor placeholder, allow placeholder as an argument to constructor.
	GtkToolItem::tooltip support, FontSelectionDialog:font_selection.

	* gazpacho/loader/custom.py:
	(OptionMenuAdapter.add, OptionMenuAdapter.prop_set_history): Impl.
	s/_builder/_build/ in a couple of places.

	* gazpacho/loader/loader.py:
	Add support for GtkWidget::tooltips, GtkWidget::has_default,
	GtkWidget::has_focus, GtkMenuItem::set_use_stock.
	(ObjectBuilder._ensure_accel, ObjectBuilder._set_toplevel): Implement, 
	basically copied from libglade.

2005-06-20  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/custom.py:
	* gazpacho/loader/loader.py:
	* gazpacho/unittest/test_loader.py:
	Write unittests for loader, add a couple of public methods.
	Caught a bug in ActionAdapter.
	
2005-06-20  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/custom.py:
	* gazpacho/loader/loader.py:
	Add support for internal_childs. Implement a basic findpixbuf.
	Implement internal child ImageMenuItemAdapter.image
	Add rudimentary support for UIManager

2005-06-20  Mattias Karlsson  <matka134@student.liu.se>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/command.py:
	Mark project as changed when the signals are updated.
	Fixes #302172

2005-06-20  Mattias Karlsson  <matka134@student.liu.se>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>

	* catalogs/glade-catalog.dtd:
	* gazpacho/catalog.py:
	* gazpacho/palette.py:
	* gazpacho/widgetclass.py:
	Parse tooltips from catalog and use them in the palette.
	Fixes #169592

2005-06-20  Mattias Karlsson  <matka134@student.liu.se>

	reviewed by: Johan Dahlin  <jdahlin@async.com.br>
	
	* gazpacho/application.py:
	* gazpacho/dialogs.py:
	Improve Close/Save dialogs. Fixes #300767	

2005-06-19  Johan Dahlin  <johan@gnome.org>

	* gazpacho/unittest/test_uim.glade: 
	* gazpacho/gaction.py: Save name tag, remove callback and replace
	by a handler for the activate signal. Don't save the tooltip,
	callback or accelerator unless it's strictly needed.
        Update unittest to reflect changes.
	
2005-06-19  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/custom.py:
	* gazpacho/loader/loader.py:

	Print error messages when convertion failed.
	Remove set_child_properties, add() handles packing properties now.
	Fix a couple of bugs in untested adapters.
	Fix parser to not recreate objects.
	Send in id instead of klass to adapter.construct/get_properties
	
2005-06-17  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/application.py: A few more checks before trying to save 
	the file, Fixes #300767 (Mattias Karlsson)

2005-06-16  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/custom.py:
	* gazpacho/loader/loader.py: Change Adapter interface somewhat,
	Add support for all custom properties from libglade. Still
	need to support build_children/add

2005-06-16  Johan Dahlin  <johan@gnome.org>

	* gazpacho/loader/proxy.py (Proxy.__getattr__): Use get_widget()
	instead of getattr(). Fixes 300772 (Travis Watkins)

2005-06-16  Mattias Karlsson  <matka134@student.liu.se>

	reviewed by: Johan Dahlin  <johan@gnome.org>

	* gazpacho/application.py:
	* gazpacho/main.py:
	* gazpacho/project.py:
	* gazpacho/unittest/test_application.py:

	Update the project title, to reflect the current open project.
	Also add unittests for this. Fixes #169868

2005-06-16  Johan Dahlin  <johan@gnome.org>

	* gazpacho/loader/: More work on new loader, add support for
	custom properties and many other things.

2005-06-15  Johan Dahlin  <jdahlin@async.com.br>

	* po/fi.po: Add Finnish translation (Kalle Vahlman), 
	closes #307839

2005-06-14  Johan Dahlin  <johan@gnome.org>

	* gazpacho/application.py:
	* gazpacho/catalog.py:
	* gazpacho/debugwindow.py:
	* gazpacho/dialogs.py:
	* gazpacho/gladegtk.py:
	* gazpacho/parameter.py:
	* gazpacho/project.py:
	* gazpacho/util.py:
	* gazpacho/widget.py:
	* gazpacho/widgettreeview.py:

	Errors and unused imports found by pyflakes, 
	rearrange imports slightly aswell

2005-06-13  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/application.py (Application._construct_menu_and_toolbar): 
	Redo should use Shift-Ctrl-Z as shortcut. Mattias Karlsson #172172
	
	* gazpacho/dialogs.py: Allow second argument to be a string or a widget.

2005-06-11  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/util.py (get_button_state): Check so we have two children before
	trying to access the second one. Try a bit harder to get the 
	text and stock image from a glade file. Adjustment data is still not
	converted properly.

	* gazpacho/loader/widgettree.py (WidgetTree._parse_signal): 
	Replace _ with - in signals loaded from glade file, fixes #302305

	* gazpacho/parameter.py (adjustment_new): 
	For unsigned types, set the default lower to 0, fixes #304393

	* gazpacho/catalog.py:
	* gazpacho/loader/widgettree.py:

	Use util.get_pspec_by_name in two new places.
	Ignore construct only properties until we rewrite the loader

2005-06-11  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/catalog.py:
	* tests/test_gtkwindow.py:

	Fix optional properties, add a simple test (that
	assumes GtkWindow::default-width/default-height are optional 
	and has a default of 0)

2005-06-11  Johan Dahlin  <johan@gnome.org>

	* gazpacho/application.py:
	* gazpacho/catalog.py:
	* gazpacho/loader/widgettree.py:
	* gazpacho/property.py:
	* gazpacho/unittest/common.py:
	* gazpacho/util.py:
	* tests/test_gtkbutton.py:
	* tests/test_gtklabel.py:
	* tests/test_gtktable.py:
	* tests/test_gtkwindow.py:
	* tests/test_saveproperties.py:

	Fix GtkWindow::type save bug. Add a testcase.
	Remove glade files in all test cases, don't ignore
	tests/*.glade
	Return dom document in WidgetTree.parse_from_file
	In the Catalog, if the type cannot be found, set it
	explicitly.
	Save subclasses of enums and flags, not only the direct
	types.
	
2005-06-10  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/catalog.py:
	* gazpacho/propertyclass.py:
	* gazpacho/util.py:
	* gazpacho/widgetclass.py:
	Remove unused code, cleanup imports and move last
	part of xml parsing from widgetclass.py into
	catalog.py

2005-06-10  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/catalog.py: Clean up and refactor parts of it

	* gazpacho/propertyclass.py:
	* gazpacho/util.py:
	Move a big bunch of XML stuff from propertyclass to catalog, still
	need plenty of cleanups.

2005-06-10  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/catalog.py:
	* gazpacho/function.py:
	* gazpacho/propertyclass.py:
	* gazpacho/widgetclass.py:
	remove dependency of a widget class in PropertyClass.update_from_node
	pass in name of parent (so we can resolve the gtype when needed) and the
	library.
	Same for function.override, use library or sent in object.

2005-06-10  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/catalog.py:
	* gazpacho/widgetclass.py:
	Split up extend_by_node, move more xml parsing into
	catalog.py

2005-06-10  Johan Dahlin  <jdahlin@async.com.br>

	* catalogs/glade-catalog.dtd: Update DTD to parse gtk+.xml
	* catalogs/gtk+.xml: Small changes to match DTD
	* gazpacho/catalog.py: Rearrange, add DTD docstrings
	* gazpacho/widgetclass.py: Move back adaptor creation here

2005-06-10  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/widgetclass.py: Minor cleanups

	* bin/gazpacho:
	* gazpacho/catalog.py:
	* gazpacho/dialogs.py:
	* gazpacho/gladegtk.py:
	* gazpacho/widgetclass.py:
	* gazpacho/widgetregistry.py:
	* setup.py:
	Do more xml parsing in catalog, instead of doing it in the constructor
	of the widget class. Move gtk+ pixmaps to resources/gtk+.
	Add resources_dir to path.py

2005-06-09  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* examples/uimanager.glade: update example to
	conform the new uimanager format. Fixes #300741

2005-06-09  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/catalog.py: Refactor.

2005-06-09  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/application.py:
	* gazpacho/dialogs.py:
	Refactor dialogs, we have now have 
	info/error/warning/save/open/yesno/messagedialog dialogs.
	Use them in the application.
	
2005-06-09  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/catalog.py:
	* gazpacho/dialogs.py:
	Move error dialog to separate file. And clean up imports

2005-06-09  Lorenzo Gil Sanchez <lgs@sicem.biz>

	* gazpacho/bugreportdialog.py:
	* gazpacho/debugwindow.py:
	* gazpacho/application.py: New feature: allow the user
	to send a bug report if Gazpacho crashes
	
2005-06-08  Johan Dahlin  <jdahlin@async.com.br>

	* catalogs/gtk+.xml: Use True/False nothing else.

2005-06-07  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* pixmaps/plus.png
	* gazpacho/widgetclass.py: 
	* gazpacho/placeholder.py: 
	* gazpacho/widgettreeview.py: 
	* gazpacho/cursor.py: patch by Tim Evans to add a cursor with the
	icon of the widget class the user is adding. See bug #306336

2005-06-07  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/widgettree.py: Support gobject.TYPE_PYOBJECT

2005-06-06  Johan Dahlin  <johan@gnome.org>

	* gazpacho/choice.py (flags_to_string): Clean up, only print
	real flags.

	* doc/uieditor_ideas.txt: New document

2005-06-06  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/widgettree.py: some refactoring and object property
	support.

	* gazpacho/editor.py (EditorPropertyObject.load): Set the current value
	of the property when loading.

	* gazpacho/property.py: Basic support for saving object properties

	* doc/object-properties.txt: New document

	* catalogs/gtk+.xml: Remove disable for all object properties and 
	enable it for mnemonic-widget (the only one we're really interested in)

	* gazpacho/property.py: Don't set a default value for disabled properties.
	* gazpacho/propertyclass.py: Disable gobject properties by default
	* gazpacho/widgetclass.py: Don't remove disabled properties, we need them
	to be able to merge disabled widgets for parents.

2005-06-06  Lorenzo Gil Snchez <lgs@sicem.biz>

	* testing gazpacho-commits@sicem.biz
	
2005-06-06  Johan Dahlin  <jdahlin@async.com.br>

	* tests/test_saveproperties.py
	(SavePropertiesTest.testSaveProperties): Skip until #304539 is fixed.

2005-06-04  Lorenzo Gil Sanchez <lgs@sicem.biz>

	* po/it.po: added Italian translation
	
2005-06-03  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/widgetclass.py (WidgetClass.__init__): Premature 
	optimzations are the root of *all* evil.

	* catalogs/gtk+.xml: Disable GtkWindow::screen

	* gazpacho/loader/compat.py:
	* gazpacho/loader/widgettree.py:
	* gazpacho/util.py:
	s/_read_/_parse_/

2005-06-03  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/property.py: Also save objects as a string

2005-06-02  Johan Dahlin  <johan@gnome.org>

	* gazpacho/loader/widgettree.py (WidgetTree.load_from_file): Use 
	load_from_xml_document_instance so we share more code path with 
	load_from_stream

2005-06-02  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/widgetclass.py: Simplify and optimize.

2005-06-02  Johan Dahlin  <jdahlin@async.com.br>
    
	Reverted Lorenzos patch for #305210.
	
2005-06-02  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/editor.py (EditorPropertyWidget): New editor

	* gazpacho/propertyclass.py (get_type_from_spec): 
 	* gazpacho/editor.py (EditorTable.append_items):
 	* gazpacho/widget.py (Widget.apply_properties): Do not ignore 
 	GObject properties.

	* catalogs/gtk+.xml: Disable GtkContainer::child, GtkChild::bin and
	GtkWidget::parent.

	* gazpacho/gladegtk.py:
	* gazpacho/util.py:
	* gazpacho/widgetclass.py:
	Add a util.list_properties that filters out parent properties by
	default. Use this in a couple of places.

2005-06-02  Johan Dahlin  <jdahlin@async.com.br>

	* catalogs/gtk+.xml: Move xalign and yalign from GtkLabel to GtkMisc
		  
2005-05-31  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/debugwindow.py: 
	* gazpacho/main.py: 
	* gazpacho/application.py: improve the debug window so the user
	has the choice to save its project and also to send a bug report. This
	one is not finished

2005-05-30  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/gtk+.xml: clean up some properties and defaults

	* gazpacho/property.py: use a modified flag to decide whetever to
	save a property or not

	* gazpacho/widget.py: only use the defaults values provided in the
	catalog, and do it only in widget creation time

	* gazpacho/propertyclass.py: don't use defaults value in the property
	class except for those defined in the catalog file

	These changes should fix bugs #305210 and #304660

2005-05-26  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/unittest/common.py: install the _ function before
	importing anything else

	* gazpacho/gladegtk.py (ButtonContentsAdaptor.set_custom): fix typo

2005-05-25  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/gladegtk.py (ButtonContentsAdaptor.set_custom) 
	(ButtonContentsAdaptor.set_stock): don't assume the widget is set
	to the editor because there are some rare conditions where the
	selection-changed signal of the stock listview could be emited
	before the widget is set.

	* gazpacho/widget.py: 
	* gazpacho/signaleditor.py: Fix #166952 to allow deleting signal handlers
	from a widget. Patch from Mattias Karlsson.

	* gazpacho/unittest/test_application.py: added a test to
	validate_widget_names

2005-05-25  Richard Hult  <richard@imendio.com>

	* gazpacho/application.py (Application.validate_widget_names):
	Don't include names that are None (internal children) in the name
	uniqeness check. Fixes saving dialogs for example.

2005-05-23  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/command.py: 
	* gazpacho/application.py: let the user do whatever he/she wants
	with the widget names but do a validation just before saving the
	project. If the names are not valid refuse to save the project.
	Fix bug #304529

2005-05-23  Richard Hult  <richard@imendio.com>
 
 	* catalogs/gtk+.xml: 
 	- Disable "has-separator" for GtkMessageDialog, it's not used in
 	GTK.
 	- Don't override the properties "default-width", "default-height"
 	and "modal" for the subclasses of GtkWindow, since it's already
 	taken care of in the base class.
 	- Disable "resize-mode" for GtkMessageDialog and GtkDialog to make
 	things consistent with GtkWindow.
 
2005-05-23  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/gladegtk.py (ButtonContentsAdaptor.update_editor): 
	set the label entry sensitive when the button is a custom
	button. Patch by Mikael Hallendal that fixes #304654

2005-05-20  Richard Hult  <richard@imendio.com>

	* gazpacho/propertyclass.py (PropertyClass.update_from_node):
	Implement reading of booleans as default values, instead of just
	treating them as a string.

2005-05-18  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* tests/test_saveproperties.py : added a test for bug #304539
	by Hallski

	* tests/test_gtkbutton.py (GtkButtonTest.testProperty): change the
	test property from 'label' to 'relief' since we disabled the label
	property for buttons

2005-05-17  Richard Hult  <richard@imendio.com>
 
 	* gazpacho/debugwindow.py (show): Don't show the exception on
 	KeyboardInterrupt, just exit. 
	
2005-04-28  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widget.py (Widget.sync_properties_from_gtk): enable the 
	property when loading a glade file with optional properties that
	are set

2005-04-20  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/uieditor.py : code clean by Pachi renaming some variables
	to have better names

	* po/zh_CN.po: added Chinesse translation. Patch by hashao
	
2005-04-12  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/loader/widgettree.py: 
	* catalogs/gtk+.xml: 
	* gazpacho/command.py: 
	* gazpacho/util.py: 
	* gazpacho/editor.py: 
	* gazpacho/gladegtk.py: changes to make images on buttons working. There
	is a new command, and a new way to place custom editors in the editor.

	TODO: - fix other custom editors to follow the new system
	      - make labels on buttons translatables
	      - copy/cut/paste of buttons
	
2005-04-11  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/editor.py (EditorPropertyFlags.__init__): make editor flags
	simpler and more usable by embeding the treeview in the properties
	table

	* 0.5.3 released
	
	* gazpacho/catalog.py (load_all): don't catch general exceptions

	* gazpacho/util.py (class_from_gtype.is_gobject_subclass): don't use
	GtkPlug on win32
	
2005-04-09  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/command.py (CommandSetProperty.execute): checks that the
	name property is unique and not empty

	* gazpacho/application.py (Application.show_message.remove_msg): easy
	way to show a message in the status bar

	* gazpacho/editor.py (EditorProperty.set_property): don't try to load
	the editor again if the value has not changed

2005-04-08  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/debugwindow.py (DebugWindow.show_exception): fix a bug when
	the exception does not have any message. Also make the textview not
	editable

	* gazpacho/main.py (launch): install an exception hook to display errors
	in a nice way

2005-04-08  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/debugwindow.py: For displaying an exception nicely, not
	used yet

	* bin/showcoverage: New script

2005-04-08  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/gladegtk.py: 
	* catalogs/gtk+.xml: added fill-empty and replace-child custom functions
	to Viewport and ScrolledWindow

	* gazpacho/widget.py (Widget._event): return what the button press
	event returns

2005-04-07  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/editor.py (EditorTable._create_item_label): right align
	the labels and make the ClassName field a label instead of an
	uneditable entry

	* catalogs/gtk+.xml: set the text-column property of GtkComboEntry to
	have a default value of 0
	
	* gazpacho/property.py (Property.__init__): fix a bug about not using
	a default value when it is 0

	* gazpacho/widget.py (Widget._connect_signal_handlers): workaround the
	bug http://bugzilla.gnome.org/show_bug.cgi?id=171125

	* gazpacho/placeholder.py: make placeholder always as least 20x20 pixels
	sized

	* gazpacho/loader/compat.py: 
	* gazpacho/loader/widgettree.py: better support for deprecated widgets
	(GtkCombo and old GtkToolbar)

	* gazpacho/uim.py (GazpachoUIM._group_ui_definitions_by_name): only
	copy the ui definitions of the widgets we got

	* gazpacho/unittest/common.py (GazpachoTest.remove_child): another
	convenience method

	* tests/test_gtkbars.py (GtkBarsTest.testPastingTwoBars): test to
	reproduce a bug that Johan found

	* tests/test_gtkwindow.py: 
	* tests/test_gtktable.py: 
	* tests/test_gtklabel.py: 
	* tests/test_gtkbutton.py: updated tests 

	* gazpacho/unittest/common.py (GazpachoTest.add_child): added another
	useful method

2005-04-06  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/gtk+.xml: added fill empty function for scrolled windows

	* gazpacho/gladegtk.py (glade_gtk_tree_view_pre_create): don't create
	any column since they are not saved because are not supported and
	if we copy and paste the treeview they are not there for that reason.
	(glade_gtk_scrolled_window_fill_empty): added fill empty function
	for scrolled windows. Fix #172266

	* gazpacho/loader/widgettree.py (WidgetTree._build_GtkTreeView): when
	creating a widgetree always create a model with it. This avoid several
	problems later like bug #172264

	* catalogs/gtk+.xml: removed InputDialog since it's confusing and
	it does not make sense to have one of those in a glade file

	* gazpacho/widgetclass.py (WidgetClass._merge): merge some more
	functions we forgot to add. Fix #172420

	* gazpacho/command.py (CommandCutPaste._execute_cut): don't create
	the placeholder if it is already there. Fix #172605

	* gazpacho/gladegtk.py (CommonBarsAdaptor.save): 
	* gazpacho/widget.py (Widget.get_as_xml_document): 
	* gazpacho/project.py (Project.write): changed the way the UIManager
	is saved

	* gazpacho/widget.py (Widget._button_press_event): avoid double and
	triple clicks. Patch by Mattias that fix #167047

	* catalogs/gtk+.xml: remove the widgets that are not supported

	* gazpacho/loader/widgettree.py (WidgetTree._build_GtkMenuBar): added
	a check to help debugging.

	* bin/gazpacho: improvements for runing gazpacho in several modes.
	Patch by Pachi that fix #171296

	* gazpacho/catalog.py: fix reading the resource path and add some
	docs. Patch from Pachi that fix #172566

	* gazpacho/application.py (Application.__init__): load_all does not
	need the application anymore

	* gazpacho/gladegtk.py (MenuBarAdaptor.post_create): when creating
	the initiail ui remove the heading \n. This make tests easier

	* gazpacho/unittest/test_uim.py: improved tests to reflect the
	changes on the uim

	* gazpacho/unittest/common.py (GazpachoTest.create_gwidget): utility
	function to create widgets easily

	* gazpacho/uim.py (GazpachoUIM.update_widget_name): when changing
	the widget name, change the property before updating the ui definitions

2005-04-06  Mattias Karlsson  <matka134@student.liu.se>
 
  	* gazpacho/command.py:
 	* gazpacho/widget.py:
 	* gazpacho/clipboard.py
 	* gazpacho/application.py: Some clipboard refactorization
 	(Clipboard.get_selected_widget): Now returns a gazpacho.Widget.	
 	(Clipboard.get_selected_item): Now returns a ClipboardItem.
 	(Widget.get_as_xml_document) : New method. Moved the code that
 	converts a widget to an XML document from the Clipboard class to
 	the Widget class.

2005-04-06  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/uieditor.py (UIEditor._set_ui): 
	* gazpacho/gladegtk.py (BarNameAdaptor.set): 
	* gazpacho/uim.py (GazpachoUIM.update_ui): improve this function to
	handle the substitution of the old gtk widget by the new one

2005-04-05  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/uieditor.py: small adaptations to make it work with the
	new uimanager wrapper

	* catalogs/gtk+.xml: 
	* gazpacho/gladegtk.py: remove the setter since this is a real fake
	property now (no data inside)

	* gazpacho/uim.py (GazpachoUIM.create): reset the state here
	(GazpachoUIM.get_action_group): convenience function to get an action
	group by its name
	(GazpachoUIM.create_default_actions): don't create the default action
	group if it is already there. Same with actions. Also, don't use the
	command manager for adding these actions since it mess up the undo
	stack
	(GazpachoUIM._change_ui_definition): refactor this code to be able to
	use it from several methods
	(GazpachoUIM.save): added an extra parameter so we only save the info
	about that widget
	(GazpachoUIM.load): only add the action groups and actions if we don't
	already have them. When we load a uimanager don't merge any of its
	ui definitions until we load the widget that uses them. That's what
	the self.loaded_uis is for
	(GazpachoUIM.is_loading): with this function we can know if the we are
	in the middle of a loading operation, which is useful when pasting
	a widget.
	(GazpachoUIM.remove_widget, GazpachoUIM.add_widget): convenience methods
	for the commands that manipulate these kind of widgets

	* gazpacho/gladegtk.py: remove the 'save' virtual method of UI property
	since that information is now saved in the uimanager
	(CommonBarsAdaptor.load): loading a menubar/toolbar is tricky
	because we need to load the uimanager first and use the widget it
	gives to us. Also we need to apply the old widget properties into the
	new one.

	* gazpacho/command.py: join CommandCut and CommandPaste. For these
	commands and for CommandCreateDelete make some more stuff when the
	widget is a toolbar/menubar like saving its ui definitions and removing
	them from the uimanager

	* gazpacho/loader/widgettree.py (WidgetTree._set_up_accel_groups): fix
	a bug about adding accelgroups to a toolbar/menubar thinking that it
	was a window

	* gazpacho/application.py (Application._dump_data_cb): add a function
	to make debugging easier

	* gazpacho/clipboard.py (ClipboardWindow._row_activated_cb): print some
	debug information when double click on a clipboard item

	* gazpacho/util.py (write_xml): properly write CDATA sections

	* gazpacho/propertyclass.py (get_type_from_spec): make this function
	public since I need it from gladegtk.py

	* gazpacho/project.py (Project.open): clear the uim before loading the
	project. This avoid clearing the uim everytime we paste a
	menubar/toolbar

2005-04-04  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/uieditor.py (UIEditor._create_xml_node): 
	* gazpacho/gladegtk.py (MenuBarAdaptor.post_create): don't give names
	to separators since that is not needed anymore

	* gazpacho/unittest/test_uim.py: added more tests to cover the
	new methods

	* catalogs/gtk+.xml: commnet the ui property of menubars and toolbars.
	That's right, we can't edit them right now

	* gazpacho/uim.py: added support for saving/loading the uim

	* gazpacho/widget.py (load_child): don't assume that the gtk_widget
	will be the same after loading the gwidget from it

	* gazpacho/gladegtk.py: a lot of code has moved to GazpachoUIM

	* gazpacho/project.py: delegate the loading and saving of the uim to
	the GazpachoUIM. Remove the separator stuff since we don't need it
	anymore

	* gazpacho/loader/widgettree.py (WidgetTree._load_visible): convert the
	value before setting the property.
	Change the way we load uimanager, menubars and toolbars

	* gazpacho/unittest/test_uim.py (UIMTest.testUpdateWidgetName): test
	for the new method
	* gazpacho/uim.py (GazpachoUIM.update_widget_name): method added
	
	* gazpacho/gaction.py: 
	* gazpacho/project.py: 
	* gazpacho/unittest/test_uim.py: 
	* gazpacho/uim.py: full test coverage of uim.py

	* gazpacho/widget.py (Widget.__gproperties__): don't translate the
	name property

	* gazpacho/gladegtk.py (CommonBarsAdaptor.post_create): 
	* gazpacho/project.py (Project.add_action_group): add mos of this
	code to the GazpachoUIM

	* gazpacho/application.py (Application.close_current_project): refactor
	the close code so we can call it from the tests

	* gazpacho/unittest/common.py: base class for gazpacho unittests

	* gazpacho/unittest/test_uim.py: first unit test

	* gazpacho/uim.py: wrapper around uim that simplify a lot of code
	in a lot of places

2005-04-03  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/widget.py: Check for None, some widgets
	does not have a gazpacho widgets attached

2005-04-02  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widgetclass.py: support for custom loaders

	* gazpacho/project.py (Project.open): first load the ui manager
	and then load the rest of the widgets

	* gazpacho/widget.py: refactor load_widget_from_gtk_widget so we can
	reuse small parts from custom loaders

	* gazpacho/propertyclass.py: 
	* gazpacho/gaction.py: 
	* gazpacho/choice.py: 
	* gazpacho/loader/widgettree.py: 
	* gazpacho/widgetclass.py: 
	* gazpacho/popup.py: 
	* gazpacho/signaleditor.py: 
	* gazpacho/command.py: 
	* gazpacho/uieditor.py: pychecker changes

	* gazpacho/widget.py (Widget.write): fixed a small bug of yesterday
	commit
	(load_widget_from_gtk_widget): use a black list to avoid name clashes

2005-04-01  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widget.py: remove clone functions and reuse setup_toplevel

	* gazpacho/clipboard.py : remove todo comment since that task is
	done

	* gazpacho/project.py (Project.write_uimanager): make this function
	public
	(Project.write): call the custom saver of the widgets if they have one

	* gazpacho/widgetclass.py (WidgetClass.__init__): support custom
	saver with the self.custom_function attribute

	* gazpacho/widget.py: refactor the writing code so we can reuse
	small pieces of it from the custom savers

	* gazpacho/gladegtk.py (CommonBarsAdaptor.save): custom saver
	* catalogs/gtk+.xml: custom savers for menubars and toolbars

	* gazpacho/clipboard.py (Clipboard.add_widget): add the requires tag
	if necessary

	Big change to make copy/cut/paste use an internal XML representation
	of the widget instead of cloning widgets. This is because cloning
	widgets turned out to be a pain in the ass with menubars and toolbars
	and also because we will need XML serialization for templates anyway
	
	* gazpacho/loader/widgettree.py (WidgetTree._build_child_object): dont
	set any data for internal children

	* gazpacho/widget.py: rename create_widget_from_gtk_widget to
	load_widget_from_gtk_widget. This function now avoid name clashes
	when loading a widget which is useful when this widget comes from the
	clipboard. Also, it does not depends on the loader setting special
	info for the internal child but automatically discover if a widget is
	an internal child.

	* gazpacho/gladegtk.py: nuke all the clone functions, write an adaptor
	for the events and improve the get_internal_child function of the
	dialog adaptor to return a tuple of internal names if not name was
	provided

	* gazpacho/command.py: separate commands for cut and paste to make
	things a little bit easier to read. Maybe in the future we can merge
	them again

	* gazpacho/project.py: change the call to load the widgets from a file
	and also some refactoring because of an import change

	* gazpacho/clipboard.py: use XML to represent the widgets in the
	clipboard

	* gazpacho/application.py: changed the way it uses the clipboard

	* gazpacho/property.py (Property.__init__): give more preference to
	the default value defined in the catalog file than the default value
	provided by the pspec

	* gazpacho/widgetclass.py (WidgetClass.__init__): now the
	get_internal_child virtual function can accept a None value for the
	name parameter and in this case it just returns a tuple with the
	valid internal names
	
	* gazpacho/widgetclass.py (WidgetClass._extend_with_node) 
	* gazpacho/loader/tags.py: 
	* catalogs/gtk+.xml: 
	* catalogs/glade-catalog.dtd: we don't need the clone virtual function
	anymore

	By the way, menubars copy/cut/paste still does not work :-)
	
2005-03-31  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/gtk+.xml: add a custom setter for the name property of
	Toolbars and Menubars

	* gazpacho/gladegtk.py (DialogAdaptor.clone): copy the properties for
	the dialog
	(BarNameAdaptor.set): fix menubar and toolbar renaming: #169734

	* gazpacho/command.py (CommandManager.paste):
	* gazpacho/widget.py (Widget.resolve_name_collisions): make 
	resolve_name_collisions a method of the widget class instead of a
	function and make it work with internal children

	* gazpacho/loader/widgettree.py: remove _() i18n strings since it make
	more difficult to use from 3rd party programs that only want to use
	the loader

	* gazpacho/loader/tags.py: 
	* catalogs/glade-catalog.dtd: 
	* gazpacho/widgetclass.py: add a clone virtual function

	* gazpacho/widget.py (clone_widget): rename copy_widget to
	clone_widget and refactor it into sane pieces

	* gazpacho/gladegtk.py: big refactor as a result of 
	from gazpacho import widget.
	(DialogAdaptor.clone): 
	* catalogs/gtk+.xml: special clone function for dialogs

2005-03-30  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widget.py (Widget._button_press_event): when to a 
	right click first select the widget and then popup the menu

	* gazpacho/property.py (copy_property): new function to copy
	a property

	* gazpacho/command.py (CommandManager.paste): call
	get_selected_widget_copy instead of get_selected_widget

	* gazpacho/clipboard.py (Clipboard.get_selected_widget_copy): new
	method that return a copy of the selected widget
	(Clipboard.get_selected_widget): this method does not do a copy
	anymore

	* gazpacho/widget.py (Widget.setup_widget): always connect signal
	handlers to the widget, not only when it is a toplevel

	* gazpacho/application.py (Application._dnd_data_received_cb): add
	dnd of widget files to Gazpacho. Fix #170472. Patch by Mattias

	* gazpacho/widget.py (copy_widget): moved the previous code to 
	copy_widget since we copy the accel groups here
	(Widget._button_press_event): return the opposite of the selected value
	False in GTK event means we haven't finish handling this event.

	* gazpacho/command.py (CommandCutPaste._execute_paste): make pasted
	windows stay on top of the main window (set_transient_for)

2005-03-30  Mattias Karlsson  <matka134@student.liu.se>

	* gazpacho/application.py:
	* gazpacho/clipboard.py:
	* gazpacho/project.py:
	* gazpacho/command.py:
	* gazpacho/widget.py:
	* gazpacho/popup.py (Popup._paste_cb): 
	Lots of fixes relating to Cut, Copy, Paste and the clipboard. To
	name a few of the bugs that have been fixed: It's now possible to
	paste a widget from the clipboard multiple times (#167381), it's
	possible to undo cut/paste between different projects (#169659)
	and it's possible to select items from the clipboard to paste.

	Reviewed and slightly changed by lgs
	
2005-03-30  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/editor.py (EditorProperty._internal_load): fix #172096

	* gazpacho/widget.py (Widget._button_press_event): fix a bug introduced
	yesterday that makes this method always return true when clicking with
	button 1.

2005-03-29  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/gladegtk.py (_on_radio_button__toggled): don't run the code
	twice just because the toggle signal is emited for the button that
	was active before and for the button that is active now.

	* gazpacho/application.py (Application.refresh_editor): added a public
	refresh_editor method so custom plugin code can call it
	clean the namespace a little bit by import os instead of from os import
	path, ...

	* gazpacho/gladegtk.py: when selecting a stock image use the stock
	property of the button instead of creating a custom image

	* gazpacho/widget.py (Widget.apply_properties): don't ignore enum
	and flags properties. Should fix #169780

	* gazpacho/placeholder.py (Placeholder.do_button_press_event): use the
	placeholder's parent's project instead of the current one. Patch by
	Mattias that fixes #170450

	* gazpacho/project.py (Project.selection_set): 
	* gazpacho/widget.py (Widget._button_press_event): allow to select
	an already selected widget in a different project. Patch by Mattias
	that fixes #171635

2005-03-29  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/catalog.py (load_all): Fixes #172007 (Mattias Karlsson)

 	* gazpacho/loader/widgettree.py (WidgetTree.load_from_file) 
 	(WidgetTree.load_from_stream): Improve exceptions, add filename
 	
	* gazpacho/loader/widgettree.py (WidgetTree): refactor to use
	getattr _load_* and _build_* without a big hash table.

2005-03-29  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widget.py (copy_widget): properly copy a widget and its
	children (even when they are placeholders). Should fix #172012 and
	#171476
	(copy_widget): copy accelgroups when copying a toplevel. Patch by
	Mattias. Fix #172021

2005-03-29  Johan Dahlin  <jdahlin@async.com.br>

	* gazpacho/loader/widgettree.py (WidgetTree._build_child_object):
	Unbreak loading of dialogs. 
	(WidgetTree): delay setting of visibility until everything else is
	done.

2005-03-29  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widget.py (copy_widget): properly copy a widget and its
	children (even when they are placeholders). Should fix #172012 and
	#171476

	patches by Mattias:

	* gazpacho/application.py (Application._real_paste): 
	* gazpacho/command.py (CommandCopyCutPaste._execute_paste): allow to
	paste toplevel widgets without selecting placeholders. Fix #167376 and
	#171297

	* gazpacho/application.py (Application._update_save_action): 
	* gazpacho/command.py (CommandManager.set_translatable_property) 
	* gazpacho/application.py (Application._update_save_action): update
	the state of the save action depending of the project state. Fix
	#170819

	* gazpacho/loader/widgettree.py (WidgetTree._read_signal): 
	* gazpacho/widget.py (Widget.write): fix small bug about after
	attribute of signals. Fix #170735

	* gazpacho/main.py (launch): allow opening several projects from the 
	command line. Fix #170665

	* gazpacho/widget.py (Widget._key_press): 
	* gazpacho/widgettreeview.py (WidgetTreeView._key_press_cb): allow to
	delete using keypad delete. Fix #38843

	* gazpacho/application.py (Application._confirm_open_project): use the
	revert stock image. Fix #171879

	* gazpacho/loader/widgettree.py (WidgetTree._build_button): fixed typo:
	should fix #171729

	* gazpacho/application.py (Application._construct_menu_and_toolbar): 
	don't remove the project menu when closing the last project. Instead
	show an empty insensitive item. Fix #171962
	
	* catalogs/gtk+.xml: make the expander expanded by default. Fix #171981

2005-03-29  Anders Carlsson  <andersca@imendio.com>

	* gazpacho/editor.py:
	* gazpacho/library.py:
	* gazpacho/loader/tags.py:
	* gazpacho/loader/widgettree.py:
	* gazpacho/project.py:
	* gazpacho/propertyclass.py:
	* gazpacho/widget.py:
	Implement better support for loading
	custom properties in C widgets, also make get_internal_child
	work for C widgets.
	
2005-03-29  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/loader/widgettree.py: add a callback to resolve the path
	for image files
	(WidgetTree.__init__): correctly initialize the path resolver

2005-03-23  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widget.py (copy_widget): don't copy the name property when
	copying a widget
	(Widget.apply_properties): fix a bug about not copying the properties
	when using a properties parameter in this method. Should fix #169780

2005-03-22  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/loader/widgettree.py (WidgetTree._value_from_string): 
	return the raw string if there is not a known type. This let the
	widget handle this in its own way

	* gazpacho/clipboard.py: add documentation and remove unused methods
	and imports. Patch by Rafael

	* gazpacho/palette.py: add documentation and a small optimization.
	Patch by Rafael

	* gazpacho/widgetregistry.py (WidgetRegistry): add documentation.
	Patch by Rafael

	* gazpacho/util.py (get_property_value_from_string): fixed typo. Patch
	by Mattias

	* gazpacho/widget.py (replace_widget): fixed a bug about trying to
	connect signal handlers to placeholders

	* gazpacho/gladegtk.py (_image_icon_file_clicked): added support for
	xpm images
	(ImageSelector._on_file_button_clicked): 

	* gazpacho/util.py (class_from_gtype): removed a duplicated function

	* gazpacho/gladegtk.py (_glade_gtk_paned_set_position): fixed a small
	bug

	* gazpacho/widget.py (Widget.setup_widget): delay the connection of
	the signal handlers to the moment the widget is placed into a container
	except for toplevel widgets for obvious reasons. This is done because
	some widgets don't create all of their internal children until they
	are added to a parent (e.g. ComboBox) and we need to connect these
	signals to these children aswell.

2005-03-19  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/gladegtk.py: 
	* catalogs/gtk+.xml: proper support for packing properties of GtkTable

	* gazpacho/editor.py: refactor the load method of EditorProperty to
	allow a custom setter method to forbid an invalid value. For example
	if the user change a property value and then the setter discover that
	it is not valid, it reverts the editor to the old value.

	* gazpacho/widget.py: refactored the packing properties function to
	reuse an auxiliar function

2005-03-18  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/gtk+.xml: fixed toolbars by providing a custom save function
	for the ui property

	* gazpacho/catalog.py: make gtk+.xml mandatory since Gazpacho does
	not make a lot of sense without it. Also, load it the first so
	the other catalogs can benefit of gtk+ widgetclass already loaded.
	This fixes a subtle problem hard to debug.

2005-03-17  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/gtk+.xml: 
	* gazpacho/gladegtk.py (GroupAdaptor.__init__): we don't need anything
	special for spinbuttons since alignment is part of the core now

2005-03-15  Anders Carlsson  <andersca@imendio.com>
	
	* gazpacho/editor.py: 
	* gazpacho/property.py: 
	* gazpacho/propertyclass.py: 
	* gazpacho/widgetclass.py: make adjustments part of the core and 
	support for subproperties

	patch reviewed by lgs

2005-03-17  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/gladegtk.py: 
	* catalogs/gtk+.xml: add support for images on buttons, images and
	radio buttons

	* gazpacho/editor.py (EditorTable.append_items): don't add properties
	that are not editable and also only add properties of type object if
	they provide a custom editor

	* gazpacho/context.py (Context.get_project): added a method to get
	the project since it's pretty common to need that

	* gazpacho/widget.py (Widget.sync_properties_from_gtk): sync with
	properties that are not readable but have a custom getter (like the
	file property of GtkImage)

	* gazpacho/loader/widgettree.py: added custom loaders for buttons (to
	support images), file property of images and group property of radio
	buttons

	* gazpacho/loader/tags.py: 
	* catalogs/glade-catalog.dtd: 
	* gazpacho/propertyclass.py: add an 'editable' flag for the properties
	that is useful if we don't want the property to appear in the editor
	but still want it to be saved in the glade file. This is useful for
	properties that are too hard for the user to understand. Usually we
	have alternate fake properties, easier to understand that just set
	the value of this hard properties.

2005-03-15  Anders Carlsson  <andersca@imendio.com>

	* gazpacho/catalog.py:
	* gazpacho/library.py:
	* gazpacho/loader/tags.py:
	* gazpacho/project.py:
	Add a "libglade-module" attribute to the catalog format
	and use it to write the "requires" tags in the glade files

	* gazpacho/property.py:
	Don't write object types unless they have custom save functions
	
	* gazpacho/widget.py: Rearrange code somewhat.
	
 	* gazpacho/editor.py:
 	Use the right order when calling update_editor.
 	
 	* gazpacho/library.py:
 	Add support for proxies for C widgets.

2005-03-15  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/gtk+.xml: add support for spinbuttons

	* gazpacho/property.py (Property.write): allow a custom save function
	to get the content of the property for saving. Now we don't need the
	write_in_cdata function anymore.

	* gazpacho/widget.py (Widget.write): allow to save properties that
	are not gtk properties if they provide a custom save function. Don't
	save the 'name' property since it is already in the 'id' attribute of
	the widget tag. No special code for menubar or toolbars :-)

	* gazpacho/gladegtk.py: several adaptors to support Adjustments and
	a new save virtual method for UIAdaptor so we use this facility instead
	of hardcoding that in Gazpacho

	* gazpacho/loader/widgettree.py (WidgetTree._read_adjustment) 
	(WidgetTree._read_property): let the custom reader to convert the
	string data to the right value. New property reader for Adjustments

	* gazpacho/loader/tags.py: add a SAVE tag
	* gazpacho/propertyclass.py: add a _save_function attribute so we
	can override the default saving mechanism

2005-03-14  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/application.py: Better dialog to ask for unsaved projects
	when quiting Gazpacho. Patch by Mattias Karlsson that fixes #170361

2005-03-14  Anders Carlsson  <andersca@imendio.com>

	* catalogs/glade-catalog.dtd:
	* catalogs/gtk+.xml:
	* gazpacho/catalog.py:
	* gazpacho/loader/tags.py:
	Add a "priority" attribute to each catalog and sort the
	catalogs according to the priority value.
	
	* gazpacho/library.py:
	Add more callbacks for C widget libraries.
	
	* gazpacho/propertyclass.py:
	Handle enum types that haven't been registered with Python
	more gracefully.
	
	* gazpacho/widgettreeview.py:
	Only set the widget icon pixbuf if there is one.

	reviewed by lgs
	
2005-03-14  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/editor.py: manipulate the name property as any other
	property and don't try to load editors for propertis with object type

	* gazpacho/widget.py (Widget.create_gtk_widget): initialize the name
	property when creating the widget.

	* gazpacho/command.py (CommandSetProperty.execute): handle the name
	property as a regular one using the CommandSetProperty. Wipe out the
	CommandSetName.

	* gazpacho/propertyclass.py (PropertyClass.__init__): allow properties
	of type object and set translatable to false for the name property

	* gazpacho/widgetclass.py (WidgetClass._list_properties): don't use
	the user-data property.
	(WidgetClass._update_properties_from_node): simplify this method

	* gazpacho/application.py (Application._add_project): don't connect
	to the widget-name-changed property of the project since updating the
	editor does not make sense. The editor is the only way to change
	the name of a widget, so after changing the name, it is already updated

	reviewed several patches by Mattias:
	
	* gazpacho/application.py: handle the situation when the user wants
	to open an already opened project. Fix #169050

	* gazpacho/editor.py: 
	* gazpacho/gaction.py: Add mnemonics to the widgets of the dialogs.
	Fixes #170320

	* gazpacho/command.py (CommandCreateDelete._delete_execute): only
	set the default gtk packing properties for non toplevel widgets.
	Fixes #170317

	* catalogs/gtk+.xml: disable [column|row]-span-column properties in
	ComboBox and ComboEntry since they are buggy in GTK+ 2.4

2005-03-12  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/application.py (Application._set_project): don't clear
	the selection when swtiching project. Patch by Mattias. Fix #169613
	(Application._close_cb): when switching between projects update
	the undo/redo labels. Patch by Mattias. Fix #169690
	(Application._update_edit_actions): set the sensitive property of the
	cut/copy/paste/delete actions properly depending on the context.
	Patch by Mattias, reviewed and slightly changed by Lorenzo. Fix #169831
	(Application._project_save_as): fixed a typo (#169840)

	* gazpacho/catalog.py: show a dialog telling the user if there were
	errors while loading gazpacho. Slightly based on Mattias patch for
	bug #169584

	* gazpacho/application.py (Application._refresh_title) 
	(Application._project_changed_cb, Application._add_project): 
	* gazpacho/project.py (Project.set_changed): Draw an '*' on the window
	title when the project has unsaved changed. Patch by Mattias Karlsson
	that fix #169002 (reviewed by lgs)

	* gazpacho/widget.py (Widget.set_default_gtk_packing_properties): 
	* gazpacho/command.py (CommandCreateDelete._delete_execute): when
	removing a widget set the correct packing properties to the new
	placeholder. This mean, copying the old_widget non default packing
	properties, and for the default ones, use the real gtk defaults.
	Fix #167464

2005-03-11  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/project.py (Project.write): fixed a bug about retrieving
	the library module of a widgetclass before saving the widgets

2005-03-10  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/loader/tags.py: 
	* catalogs/glade-catalog.dtd: 
	* catalogs/gtk+.xml: support a library-type tag with two possible
	values so far: c and python

	* gazpacho/widget.py: let the library create the object in the right
	way
	* gazpacho/function.py: 
	* gazpacho/propertyclass.py: 
	* gazpacho/catalog.py: 
	* gazpacho/widgetclass.py: delegate most of the functions that involve
	importing modules and getting adaptors to the library object

	* gazpacho/library.py: abstract the library concept so we can have
	Python libraries and C libraries

	* gazpacho/loader/widgettree.py (WidgetTree._add_requirement): 
	* gazpacho/widgetclass.py (WidgetClass.__init__): try to look for the
	library in submodules too

	patch from andersca reviewed by lgs

2005-03-07  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/gtk+.xml: fix parameters for row-spacing and column-spacing
	of GtkTable. Also try a new organization of the Palette (the one that
	gjc suggested)

2005-03-05  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/glade-catalog.dtd: 
	* gazpacho/loader/tags.py: 
	* gazpacho/catalog.py (load_catalog): 
	* gazpacho/widgetclass.py (WidgetClass.__init__): added support to
	load catalog resources by adding a tag to the DTD format.

2005-03-04  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	The following is the list of changes made for andersca's big
	patch about changing the way plugins work
	
	* gazpacho/catalog.py (load_catalog): we don't call the init function
	anymore since we don't need it

	* gazpacho/gladegtk.py: lots of changes to add a context argument for
	most of the functions. Also, group some of them in Adaptor classes.
	This allow us to get rid of the global variables and also the
	init function for this plugin. We are getting clean

	* catalogs/glade-catalog.dtd: allow adaptor classes

	* catalogs/gtk+.xml: make some classes actually use the adaptors

	* gazpacho/editor.py (EditorPropertySpecial.__init__) 
	(EditorPropertySpecial.load): pass the context object to the create
	and update functions

	* gazpacho/function.py (override): create a function from an XML
	node when the type is 'override'

	* gazpacho/property.py: 
	* gazpacho/widget.py: pass the context of our project to the functions
	that need it (plugin functions)

	* gazpacho/loader/tags.py: new tag for 'adaptor-class'

	* gazpacho/util.py (get_class_from_path): new function to get a class
	given a path string like 'mod1.mod2.classA'

	* gazpacho/propertyclass.py: 
	* gazpacho/widgetclass.py: allow to define an AdaptorClass that
	override some of the virtual Widget/Property methods

	* gazpacho/project.py (Project.__init__): create one context in
	every project

	* gazpacho/context.py (Context.create_placeholder): new class to hold
	the public API of Gazpacho that we want to expose to plugins
	
	* gazpacho/application.py (Application.get_current_context): new
	method to return the context of the current project

	here ends andersca's patch
	
	* catalogs/gtk+.xml: make visible True by default. Also make -1 the
	minimum value for width-request, height-request, default-width and
	default-height properties.

	* gazpacho/widget.py (Widget.sync_properties_from_gtk): slight refactor
	and add doc string.
	Removed sync_properties since it was an old version of
	sync_properties_from_gtk and it was not being used.
	(Widget.create_gtk_widget): don't call sync_properties after creating
	the properties since they are supposed to be in sync and only the
	ones with 'ignore' setter and getter has different values that the gtk
	widget. Which is actually what we want.

2005-03-03  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/gtk+.xml: don't allow border-width to be negative

	* gazpacho/application.py (Application._add_project): fix #166962. Uses
	a slightly different approach that the one used by the patch sent by
	Mattias Karlsson.

	* gazpacho/loader/widgettree.py: don't use localized messages here
	since it's only for debugging

2005-03-03  Richard Hult <richard@imendio.com>

	* gazpacho/editor.py (EditorPropertyText._show_i18n_dialog): Make
	i18n metadata editing work again. Fix #167498

2005-03-02  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/util.py (class_from_gtype): saner version of the function

	* gazpacho/loader/widgettree.py (WidgetTree._build_instance): 
	* gazpacho/widget.py (copy_widget, Widget.create_gtk_widget): get
	the klass properly

	* gazpacho/widgetclass.py (WidgetClass.__init__): save the module where
	the widget gtk class is because we will need it to get the class from
	the gtype

	* gazpacho/util.py (class_from_gtype): new (ugly) function to get
	the python class from a gtype.

	* tests/utils.py (init_l10n): install _ in global namespace so we
	can using everywhere
	let's keep things easier and adjust the path if gazpacho is not found

	* gazpacho/loader/widgettree.py (WidgetTree._build_instance): simplify
	this function by creating the object using the gtype and gobject.new

	* gazpacho/widget.py (copy_widget, Widget.create_gtk_widget): get the
	widget class using gobject and the gtype, and then, create the widget
	calling this class

	* gazpacho/gladegtk.py:
	* gazpacho/widgetclass.py: use gtype and gobject api for introspection
	instead of using python introspection. This is better for plugins

	* gazpacho/widgettreeview.py (WidgetTreeView._row_activated_cb): make
	sure all the children are visible when double click on an widget

2005-03-01  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/uieditor.py: subclass from CustomPropertyEditor and get
	some work done for free

	* gazpacho/custompropertyeditor.py (CustomPropertyEditor._create_widgets): 
	general editor for editing custom properties

	* gazpacho/application.py (Application.__init__): now the catalog code
	need a reference to the application

	* gazpacho/widgetclass.py (WidgetClass.__init__): put some fragile code
	inside a try/except so we have better error reporting.
	Also don't use gobject.type_name to register a widget since it returns
	crap for libraries other than gtk (kiwi)

	* gazpacho/catalog.py (load_catalog): check if the library has a init
	function and if so, then call it with the application as the parameter

	* gazpacho/gladegtk.py (init_function): define an init_function so we
	can instrospect it at runtime and call it from the catalogs code

	* gazpacho/main.py (launch): don't call gladegtk.py init function from
	here since we don't want to do that for every plugin library

2005-02-28  Anders Carlsson  <andersca@imendio.com>

	* catalogs/glade-catalog.dtd: Update to new file format.
	gtk+.xml now validates against this.

	* catalogs/gtk+.xml: Update to new file format.

	* gazpacho/editor.py: Rename the "load" function to "update"
	since it updates an existing editor with a new widget.

	* gazpacho/function.py: New file; a Function class that
	can be called, acting differently depending on its type.

	* gazpacho/gladegtk.py: Update for new file format.
	* gazpacho/loader/tags.py: Update tags for new file format.

	* gazpacho/util.py (xml_get_elements_one_level): New function
	that searches for elements one level deep.

	* gazpacho/catalog.py (load_catalog): Better error reporting.
	Root node is always dom.documentElement.

	* gazpacho/propertyclass.py (PropertyClass.update_from_node): 
	Set functions from <function> nodes.

	* gazpacho/widgetclass.py (WidgetClass._extend_with_node): 
	Set functions from <function> nodes.	

	patch reviewed by Lorenzo
	
2005-02-24  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/main.py: 
	* gazpacho/loader/widgettree.py: 
	* gazpacho/loader/proxy.py: 
	* gazpacho/loader/compat.py: 
	* gazpacho/widgettreeview.py: 
	* gazpacho/widget.py: 
	* gazpacho/widgetclass.py: 
	* gazpacho/uieditor.py: 
	* gazpacho/signaleditor.py: 
	* gazpacho/property.py: 
	* gazpacho/propertyclass.py: 
	* gazpacho/project.py: 
	* gazpacho/popup.py: 
	* gazpacho/parameter.py: 
	* gazpacho/palette.py: 
	* gazpacho/gladegtk.py: 
	* gazpacho/gaction.py: 
	* gazpacho/editor.py: 
	* gazpacho/command.py: 
	* gazpacho/catalog.py: 
	* gazpacho/application.py: use gettext.install function to put the _
	function in the builtint namespace so we don't need to import l10n.py
	from everywhere anymore

	* gazpacho/loader/widgettree.py (GladeParseError) 
	(WidgetTree.load_from_stream, WidgetTree.load_from_file) 
	(WidgetTree._read_xml_tree): raise GladeParseError with some errors
	in the parsing stage

	* gazpacho/application.py
	(Application._update_sensitivity) 
	(Application._change_action_state): set some actions and the palette
	sensitiviness depending on if we have projects opened or not. Should
	fix #168164
	(Application._project_save_as): don't append .glade to the filename
	if it already have it. Fix #168170. Reported and fixed by Mattias
	Karlsson
	(Application.open_project): catch GladeParseError exceptions and show
	an appropiate message. Fix #168409. Again Mattias Karlsson :-)

	* gazpacho/application.py (Application._open_cb) 
	(Application._save): check for permission when saving a file. Fix
	#168153. Reported and fixed by Mattias Karlsson

	* CONTRIBUTORS: 
	* gazpacho/main.py (launch): check for permission before opening a file
	Fix #168152. Patch by Mattias Karlsson reviewed by Lorenzo

	* gazpacho/palette.py (Palette._widget_table_create): 
	* gazpacho/application.py (Application._application_window_create): 
	set a default size so we fit in 800x600
	(Application._widget_tree_view_create) 
	(Application._gactions_view_create): 
	
2005-02-23  Lorenzo Gil Sanchez  <lgs@async.com.br>

	* setup.py (else): fix a bug about not creating path.py when installing

2005-02-22  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* README : change license number from 2.1 to 2.0 to be consistent with
	the rest of the source code

2005-02-21  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* NEWS: 
	* setup.py (gazp_pyc_files): 
	* gazpacho/application.py (Application._about_cb): 0.5.2 version

2005-02-18  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/application.py (Application._construct_menu_and_toolbar): 
	mark the Edit label as translatable

	* gazpacho/loader/widgettree.py: add a task list and custom properties
	loaders. This was needed for the 'has-default' prop since we need to
	set it after the widget is inside a window

2005-02-17  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/gladegtk.py (_glade_gtk_paned_set_position): set the
	position of the bar to the middle of the pane

	* gazpacho/editor.py (Editor.__init__): display an initial help
	message telling the user to select a widget to edit its properties

	* gazpacho/application.py (Application._application_window_create): 
	try just another layout. I think this is the most usable so far.

	* catalogs/gtk+.xml: add parameters to xalign and yalign properties

	* gazpacho/editor.py (EditorPropertyNumeric._create_input_numeric): 
	change the climbrate to a smaller value

	* gazpacho/loader/widgettree.py (WidgetTree.load_widget_from_document_instance) 
	(WidgetTree._read_xml_tree): don't show the widgets explicitily
	(WidgetTree.get_widget): new function to get a closer libglade API

	* gazpacho/popup.py (Popup._find_parent_box_and_pos): fixed a typo

	* gazpacho/widget.py (Widget._find_inside_container): don't set
	data['found'] to None if coords is not valid because we may lose
	previous found widgets. This bug was discovered when using Notebook
	(Widget._find_inside_container): selection inside a Notebook is tricky:
	we need to check that the widget is mapped and visible

2005-02-16  Johan Dahlin  <johan@gnome.org>

	* gazpacho/application.py: Set default response for save/save as
	dialog to safe, so we can close by hitting enter.


2005-02-16  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/loader/widgettree.py (WidgetTree._build_child_object): 
	handle internal children better. Should fix #166950

	* gazpacho/widget.py (Widget._write_placeholder_properties): we have
	to save the placeholder packing properties because otherwise the
	container don't know where to put them

	* gazpacho/command.py (CommandCreateDelete._create_execute): don't set
	the visible property to True and let the user decide about this

	* gazpacho/property.py (Property._internal_write): 
	* gazpacho/propertyclass.py (PropertyClass.__init__): use an extra
	original_default property. This is useful when saving the property so
	we only save it if it is different from original_default. Can't use
	self.default for that because this attribute is sometimes overriden
	in the catalogs file.

	* gazpacho/property.py (Property.write): save the string readable
	names of enum and flags

	* gazpacho/choice.py (flags_to_string, enum_to_string): provide inverse
	functions to enum_from_string and flag_from_string

	* gazpacho/editor.py (EditorPropertyFlags._load_flags): refactor the
	code to fix a bug when closing the flags dialog

	* gazpacho/parameter.py (get_value, get_boolean): don't use
	comprehension lists unless they are needed

	* gazpacho/loader/widgettree.py: 
	* gazpacho/util.py: 
	* gazpacho/choice.py (enum_from_string, flag_from_string): move these
	functions from util to choice

	* gazpacho/loader/widgettree.py (WidgetTree._value_from_string): allows
	to read enum/flags strings and not only integers

	* gazpacho/util.py (get_enum_value_from_string) 
	(get_flag_value_from_string): function to get a enum/flag value from
	a string


2005-02-15  Rafael Villar Burke <pachi@mmn-arquitectos.com>
	
	* tests/test_gtklabel.py (readProperties): new test for GtkLabel

2005-02-15  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/editor.py (EditorPropertyEnum.load): bug of the month:
	idx += 0

	* gazpacho/property.py (Property.write): if the prop is of flag/enum
	type convert it to int before saving

	* gazpacho/widget.py (Widget.sync_packing_properties_from_gtk): when
	loading a widget sync its packing properties with the gtkwidget

	* gazpacho/loader/widgettree.py (WidgetTree._value_from_string): read
	flags and enums, otherwise lots of important properties got lost

	* tests/test_gtkbutton.py: 
	* tests/test_gtktable.py: 
	* tests/test_gtkwindow.py: changes because of the api changes

	* gazpacho/widget.py: big refactor to handle the several scenarios
	about creating a widget: normal widget creation, widget cloning,
	internal widget creation and widget loading

	* gazpacho/editor.py: 
	* gazpacho/uieditor.py: 
	* gazpacho/placeholder.py: 
	* gazpacho/gladegtk.py: 
	* gazpacho/command.py: 
	* gazpacho/util.py: 
	* gazpacho/project.py: 
	* gazpacho/application.py: 
	* gazpacho/popup.py: 
	* gazpacho/widgettreeview.py:
	- change widget.widget to widget.gtk_widget
	- change Widget.create_from_gtk_widget to create_widget_from_gtk_widget
	- change Widget.get_from_gtk_widget to get_widget_from_gtk_widget

	* gazpacho/widgetclass.py: change a tab for 4 spaces

	* gazpacho/property.py: 
	* gazpacho/propertyclass.py: optimize by not using properties unless
	they are needed

	* gazpacho/loader/widgettree.py (WidgetTree._build_frame): special
	loader for GtkFrame to handle the special label packing property
	
2005-02-14  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/gladegtk.py (glade_gtk_table_post_create): set the
	increments for the spin buttons. Fix #166961

	* gazpacho/loader/compat.py (MenuBarConverter.build_menu_item): typo
	fixed. Fix #167341 (Reported by Thomas Hinkle)

2005-02-13  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/application.py (Application._about_cb): 
	* setup.py: 
	* NEWS: 0.5.1 released

	* gazpacho/loader/compat.py: support for toolbars. Big refactoring to
	reuse most of the menubar code

	* gazpacho/util.py (xml_child_widgets): new (high level) function to
	get a list of children of a <child> node

	* gazpacho/loader/widgettree.py: load the ui definitions from the
	menubar and toolbar widgets and not from the uimanager

	* gazpacho/loader/compat.py (MenuBarConverter.build_menu_bar): store
	the merge_id in the menubar so the user can unmerge it later

	* catalogs/gtk+.xml: make the ui property unstraslatable

	* gazpacho/property.py (Property.write_in_cdata): new method to save
	a property as CDATA section. Also, refactor the old write method

	* gazpacho/widget.py (Widget.write): save the 'ui' property of
	the toolbars and menubars

	* gazpacho/gladegtk.py (glade_gtk_menu_bar_post_create): use unique
	names for the separators
	(glade_gtk_tool_bar_post_create): use unique names for the separator
	and don't create a quit button as recommended in the HIG

	* gazpacho/util.py (xml_find_node): new function to find a child node
	inside a xml tree

	* gazpacho/project.py: save the uidefinitions as widget properties and
	not as a property of the uimanager object. This allows
	merging/unmerging for the user

	* gazpacho/application.py (Application._confirm_close_project): return
	a close value when the user choose to save the project

2005-02-12  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/gaction.py (get_gaction_from_gtk_action): fix a bug about
	calling non existing set_property method of GAction

	* gazpacho/loader/compat.py: new module to handle deprecated widgets

	* gazpacho/loader/widgettree.py (WidgetTree._build_menu_bar_or_toolbar): 
	use a special loader when loading deprecated widgets as MenuBars
	built with Glade-2.
	Fix a bug about setting the name of a widget even when it was None
	Warn the user that we loaded deprecated widgets so if he save the
	file in Gazpacho it won't be compatible anymore with Glade-2

	* README : updated to reflect GNOME migration

2005-02-11  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalogs/gtk+.xml: added GtkAlignment
	added GtkComboEntry

	* gazpacho/uieditor.py (UIEditor.__init__): avoid a duplicated call
	to Dialog.__init__
	(UIEditor._set_ui_property): remove debug information

	* gazpacho/widget.py (Widget.__init__): if the gtk widget does not
	have the property don't synchronize it. Fix a bug about not setting
	the right value for the 'ui' property upon menu creation

	* gazpacho/gladegtk.py (_get_new_widget_after_uimanager_change): save
	the ui value into the property

2005-02-10  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/project.py (Project.write): don't write the require tag
	for gtk+ only projects

	* gazpacho/loader/widgettree.py (WidgetTree._build_instance) 
	(WidgetTree._add_requirement, WidgetTree._reset): don't use any prefix
	and just assume that prefix is the same as the 'lib' attribute. I
	convert them to lowercase so watch out for name conflicts

	* gazpacho/project.py (Project.write): don't write prefix='Gtk' in
	Glade files so libglade won't complain

2005-02-10  Marc Sabat Olive <marcsabat@gmail.com>

	* po/ca.po: new translation
	* CONTRIBUTORS: added marc

2005-02-05  Ross Burton  <ross@burtonini.com>

	* gazpacho/application.py (Application._construct_menu_and_toolbar): 
	remove quit button from the toolbar as the HIG recommends

	* gazpacho/gaction.py (GActionsView.__init__): set the same shadow
	to the action view as the other views

	reviewed by lgs
	
0.5.0 Released

2005-02-04  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* NEWS: entry for 0.5.0

2005-02-04  Lorenzo Gil Sanchez  <lgs@async.com.br>

	* gazpacho/widgetclass.py (_list_properties): don't read the
	'ellipsize' property of gtk.Label. This fix #128. More details in
	pygtk bug #166312

2005-02-04  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/application.py (Application._about_cb):
	* setup.py (gazp_pyc_files): changed version number

	* gazpacho/loader/proxy.py (Proxy._signal_magicconnect): fixed some
	bugs

	* gazpacho/project.py: use a separator_counter so we don't repite the
	separator name of a UI. Initializa this counter when loading a project

	* gazpacho/uieditor.py: assign names to separators
	- Implement on_up_clicked but hide the arrow buttons since not all of
	them works
	- put a Info label about the escape new feature since it is not obvious

	* gazpacho/util.py (xml_clean_node): new function to clean a XML
	subtree
	(unselect_when_press_escape): new function to unselect a tree item when
	pressing escape

2005-02-03  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* bin/create_path_on_win32.py: 
	* bin/gazpacho: 
	* gazpacho/widgettreeview.py: 
	* gazpacho/widgetclass.py: 
	* gazpacho/widget.py: 
	* gazpacho/util.py: 
	* gazpacho/signaleditor.py: 
	* gazpacho/propertyclass.py: 
	* gazpacho/property.py: 
	* gazpacho/project.py: 
	* gazpacho/popup.py: 
	* gazpacho/palette.py: 
	* gazpacho/main.py: 
	* gazpacho/loader/widgettree.py: 
	* gazpacho/l10n.py: 
	* gazpacho/gladegtk.py: 
	* gazpacho/gaction.py: 
	* gazpacho/editor.py: 
	* gazpacho/command.py: 
	* gazpacho/clipboard.py: 
	* gazpacho/choice.py: 
	* gazpacho/catalog.py: 
	* gazpacho/application.py: added copyright and license information

2004-02-03 Richard Hult <richard@imendio.com>

	* gazpacho/widget.py (Widget.__init__): Don't sync properties that
	are optional and optional default is False. Fixes default
	width/height for windows for example.

2005-02-03  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/gaction.py: provide functions to save the actions and
	action groups aswell as functions for creating them from their
	GTK+ twins

	* gazpacho/widget.py (Widget.create_from_gtk_widget): don't try to
	create the children of Menubars or Toolbars
	- Rename _project by project and remove that property

	* gazpacho/project.py (Project.__init__): new flag:
	save_uimanager_in_glade_file that tell us if the UI definition of the
	UIManager should be save in the .glade file or into a different file
	(Project._write_uimanager): new function to save the UIManager with
	its UI definition and the Action Groups
	(Project._load_ui): load the UI by setting the right piece of UI into
	the correct widget
	(Project.save): save the UI definition in another file if this is
	what we want

	* gazpacho/loader/widgettree.py: big refactoring to support <object>
	and <widget> and handle them like they are the same thing

	* gazpacho/util.py (xml_create_string_prop_node): new function to
	create properties with a string value
	(xml_filter_nodes): moved function from loader.widgettree to here
	(xml_read_raw_property): function for reading properties without type
	conversion

	* gazpacho/clipboard.py: use util.xml_filter_nodes instead of
	WidgetTree.filter_nodes

2005-02-02  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/gaction.py (GAction.write, GActionGroup.write):
	serialization code

	* gazpacho/loader/tags.py: new tags for 'object' and 'filename'

	* gazpacho/util.py (get_ui_path): new function to help when saving
	the ui file

	* gazpacho/project.py: save uimanager to another file and actions to
	the glade file
	
	* gazpacho/gladegtk.py: 
	* gazpacho/loader/widgettree.py: 
	* gazpacho/application.py: 
	* gazpacho/project.py: don't use properties unless it is necesary

	* gazpacho/gladegtk.py (_create_default_actions): 
	* gazpacho/gaction.py (GAction.__init__): change defaults from None to
	'' for tooltip, callback and accel.

	* gazpacho/loader/widgettree.py (WidgetTree._read_xml_tree): don't 
	require self._app. We can load interfaces outside Gazpacho

	* catalogs/gtk+.xml: 
	* gazpacho/gladegtk.py (_internal_menu_or_tool_bar_post_create) 
	(glade_gtk_tool_bar_post_create, glade_gtk_menu_bar_post_create): 
	create some default actions an items when creating an menubar or a
	toolbar

	* gazpacho/gaction.py: added support for the callback field of the
	actions in the dialog.
	(GActionGroup.get_action): new function to get an action by its name

	* gazpacho/command.py: 
	* gazpacho/application.py: refactor the actions and group actions
	callback so you can create them in a non interactive way by calling
	the actions directly

	Warning: save/load is probably broken after these changes. Many checks
	would be also good. Right now it is quite easy to break things
	
	* catalogs/gtk+.xml: changes in menubar and toolbar to use the
	new uieditor.

	* gazpacho/uieditor.py: new editor for the UI property of menubars and
	toolbars. Not finished

	* gazpacho/gladegtk.py: many changes to use the new UIEditor and the
	new editor plugin system by Mikael

	* gazpacho/gaction.py (GAction.__str__): improve doc strings
	- Change GActionGroup to keep a GtkActionGroup object in sync with it
	- Use util.select_iter for the ActionsView
	- Draw the stock_id for the actions in the ActionsView if it exists and
	the gtk-execute stock for the groups

	* gazpacho/project.py (Project.add_action_group): create the UIManager
	if it does not exist and attach this GtkActionGroup to it
	(Project.remove_action_group): update the uimanager
	- Rename ._uimanager to .uimanager

	* gazpacho/editor.py (EditorPropertySpecial.__init__): raise some
	exceptions if the functions are not found

	* gazpacho/command.py (CommandEditAction.execute): tell the action
	group that we updated the action so the uimanager is updated

	* gazpacho/widgettreeview.py (WidgetTreeView.add_item) 
	(WidgetTreeView.selection_update) 
	(WidgetTreeView._button_press_cb): use the new select_iter function
	- Removed _select_item method since select_iter substitutes it

	* gazpacho/util.py (select_iter): function to select an element of a
	textview
	(unselect_when_clicked_on_empty_space): function to unselect everything
	when the user clicks on an empty space of a treeview

2005-01-30  Richard Hult  <richard@imendio.com>
	
	* doc/how_to_add_widgets.txt: new useful document

2005-01-31  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/command.py (CommandManager.add_action) 
	(CommandManager.remove_action, CommandManager.edit_action) 
	(CommandManager.add_action_group) 
	(CommandManager.remove_action_group) 
	(CommandManager.edit_action_group): highlevel methods to manipulate
	GActions and GActionGroups
	(CommandAddRemoveAction.__init__, CommandEditAction.__init__) 
	(CommandAddRemoveActionGroup.__init__) 
	(CommandEditActionGroup.__init__): new commands for the actions

	* gazpacho/gaction.py: new classes GAction and GActionGroup. A
	GActionsView to view them and two dialogs to manipulate them.

	* gazpacho/project.py: new signals to handle the actions
	(Project.__init__): keep a list of actions groups in the project
	(Project.add_action_group, Project.remove_action_group) 
	(Project._add_action_cb, Project._remove_action_cb) 
	(Project.change_action_name): methods and callbacks to handle
	GActions and GActionGroups

	* gazpacho/application.py (Application._gactions_view_create): creation
	of the GActionsView
	(Application._application_window_create): new experimental layout more
	'horizontal' oriented
	(Application._create_frame): new function used instead of
	_create_expander. (_create_expander is deprecated now. I didn't remove
	it just in case we switch back to the old layout)
	(Application._construct_menu_and_toolbar): new actions for GActions :)
	(Application._add_action_cb, Application._add_action_cb) 
	(Application._remove_action_cb): new callbacks to manipulate the
	gactions and gactionsgroups.

	* gazpacho/uimanagereditor.py: 
	* gazpacho/project.py (Project._write_action_group):
	(Project.open): use GAction instead of GazpachoAction
	* gazpacho/gaction.py: renamed action.py to gaction.py
	* gazpacho/action.py: changed the class name to GAction

2005-01-31 Rafael Villar Burke  <pachi@mmn-arquitectos.com>

	* gazpacho.desktop: updated french and brazilian names

2005-01-31  Mikael Hallendal  <micke@imendio.com>
	* catalogs/gtk+.xml:
	* gazpacho/loader/tags.py:
	* gazpacho/propertyclass.py:
	* gazpacho/widgetclass.py:
	- Changed the argument visible to a tag called visibility-function 
	  for consistency.

2005-01-31  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho.desktop: updated version from Pachi. Probably fix #127

2005-01-30  Mikael Hallendal  <micke@imendio.com>

	* catalogs/glade-catalog.dtd:
	* gazpacho/loader/tags.py:
 	- Added editor, create-function and load-function
	* catalogs/gtk+.xml:
	- Added editor for icon and icon-size in GtkImage
	* gazpacho/editor.py:
 	- Huge refactor of EditorProperty.
 	- All EditorProperties are now subclasses of EditorProperty
 	- Added ValueSetProxy which is a proxy for values from an Custom 
	  Editor back to the EditorProperty.
	* gazpacho/gladegtk.py:
 	- Added first attempt on better support for chosing the image and
 	  image size. This will have to be better thought through (in libglade
 	  as well).
	* gazpacho/propertyclass.py:
 	- Read create-function and load-function for custom editors.
	
2005-01-30  Richard Hult  <richard@imendio.com>

	* gazpacho/popup.py (Popup._cut_cb, Popup._copy_cb)
	(Popup._paste_cb): Don't use app.real_*(), use the command
	directly since we need to perform the action on the widget
	corresponding to the used submenu, not the widget that is selected
	in the widget tree.
	(Popup._create_menu): Only add a paste menu item for placeholders,
	not other widgets.

	* catalogs/gtk+.xml: 
	* gazpacho/gladegtk.py (glade_gtk_box_post_create): Remove the
 	dialog asking for the number of children, since this can now be
 	changed easily at any time.
	
	* catalogs/gtk+.xml: Add test property for GtkTextView.

	* gazpacho/gladegtk.py (glade_gtk_text_view_get_text)
	(glade_gtk_text_view_set_text): Implement fake property for text
	in GtkTextView.

2005-01-29  Richard Hult  <richard@imendio.com>

	* gazpacho/popup.py (Popup._find_parent_box_and_pos)
	(Popup._create_menu, Popup._box_insert_after_cb): Add "insert
	before/after" menu items for boxes.
	(Popup.__init__): Keep the widget since it's needed for the insert
	menu item.
	(Popup.pop): Fix typo.

	* gazpacho/command.py (CommandManager.box_insert_placeholder)
	(CommandInsertPlaceholder.__init__): Add command for the above.

	* gazpacho/widget.py (Widget._apply_properties): Use prop._value
	instead of prop.value to get the default value instead of the
	value on the actual widget, which will be unset. Fixes default
	values for properties with custom set/get functions.

2005-01-29  Richard Hult  <richard@imendio.com>

	* gazpacho/editor.py (EditorTable._create_item_label): Set tooltip
 	for the property labels.
 	(Editor.__init__): Create tooltips object.
 	
	* gazpacho/gladegtk.py (glade_gtk_notebook_replace_child): Don't
 	set the label, it's already done in the insert_page call. Show the
 	page before trying to switch to it.

	* gazpacho/widget.py (Widget._find_inside_container): Don't assume
 	that translate_coordinates succeed, fixes expection spew.
	
	* gazpacho/gladegtk.py (glade_gtk_tree_view_pre_create): Setup two
 	columns so that the header properties can be previewed.
 	(glade_gtk_notebook_set_n_pages, glade_gtk_notebook_get_n_pages):
 	Use get_n_pages insted of counting the list of children.

	* catalogs/gtk+.xml: Disable the resize-mode property for the
 	treeview, it's only a container as an implementation detail, not
 	for packing things inside so this property doesn't make sense
 	here.
 	- Add ignore fill-empty-function for notebook to make it not add
 	an extra page at creation time.
 
	* gazpacho/widget.py (Widget.create_from_gtk_widget): Fix
	indentation to move the widget name assignment out of the looping
	over properties.
	- Remove some debug output.

	* gazpacho/propertyclass.py: Remove debug output.

2005-01-28  Richard Hult  <richard@imendio.com>

	* gazpacho/loader/widgettree.py (WidgetTree._read_xml_tree): Set
	toplevel windows as transient for the main window when loading
	files as well.

	* gazpacho/command.py (CommandManager.delete_placeholder)
	(CommandDeletePlaceholder): New command for deleting a
	placeholder. This is only for GtkBox and subclasses for now.

	* gazpacho/project.py (Project.delete_selection): Make it possible
	to delete placeholders as well.

	* gazpacho/popup.py (PlaceholderPopup._create_menu): Create a
	delete menu item for placeholders. This is special-cased for
	GtkBox and subclasses, since this only makes sense for those.
	(PlaceholderPopup._delete_placeholder_cb): Handle it here.

	* gazpacho/widget.py (Widget.__init__): The Property constructor
	doesn't take a gtk.Widget, pass a gazpacho.Widget.

	* gazpacho/property.py (Property.set): Get the value from
	self._value instead of the getter that might call into a custom
	setter, which will get the old value instead of the new one.
	(Property.get_value): Use a custom get function if available,
	fallback to the regular value.

	* gazpacho/gladegtk.py (glade_gtk_widget_get_tooltip): Don't
	assume that we always have data. For example, the first time we
	get it, it can be None.

2005-01-28  Richard Hult  <richard@imendio.com>

	* gazpacho/application.py (Application._expander_activated)
	(Application._application_window_create): When one of the
	tree/editor expanders is collapsed, make the other one use all
	available space.

2005-01-28 Rafael Villar Burke  <pachi@mmn-arquitectos.com>

	* po/es.po
	* po/gl_ES.po: updated translations

2005-01-28  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* NEWS: 
	* RELEASES: post 0.4.0 changes

	* gazpacho/application.py (Application._about_cb): 
	* setup.py: released 0.4.0
	(data_files): fix for win32

	* setup.py : 
	* bin/create_path_on_win32.py : win32 fixes
	
	* setup.py: save the list of files installed on a special python file
	called 'files.py' inside the gazpacho package.

	* gazpacho/main.py (uninstall): add an uninstall option

	* gazpacho/popup.py: make copy/cut/paste work from right button menu

2005-01-28  Mikael Hallendal  <micke@imendio.com>

	* gazpacho/gladegtk.py:
	* gazpacho/util.py:
	- Set entries in size of boxes and tables dialogs to activate default.
	- Set default action to be OK.
	
2005-01-26  Mikael Hallendal  <micke@imendio.com>
	
	* catalogs/gtk+.xml: Added some packing defaults
	* gazpacho/loader/tags.py: 
	- Added defines for the new tags (packing defaults)
	* gazpacho/util.py (get_property_value_from_string):
	- Added function to transform a string to a value based on
	  property value type.
	- Refactored xml_get_property_boolean some to reuse code.
	* gazpacho/widget.py:
	- Set default packing values when packing widgets.
	* gazpacho/widgetclass.py:
	- Read the packing defaults from the catalog file
	- Added function that recursively looks up a default packing value
	  by iterating through parents of container class until it finds
	  the id looked for or hits a base class that isn't a GtkContainer.

	reviewed by lgs
	
2005-01-27  Richard Hult  <richard@imendio.com>
	
	* catalogs/gtk+.xml: Setup translatable parameters.

	* gazpacho/editor.py (EditorProperty._show_i18n_dialog): Implement
	i18n metadata editor dialog.
	(EditorProperty._create_input_text): Add i18n button for
	translatable string properties.
	(EditorProperty._load_text): Get the entry/textview as first child
	of the box.

	* gazpacho/property.py (Property.__init__)
	(Property.{get,set}_has_i18n_context)
	(Property.{get,set}_i18n_comment)
	(Property.{get,set}_is_translatable): Add i18n metadata.
	(Property.write): Write i18n metadata.

	* gazpacho/widget.py (Widget.create_from_gtk_widget): Get i18n
	metadata for translatable string properties.

	* gazpacho/loader/widgettree.py (WidgetTree._read_property): Read
	 any i18n metadata and set as object data so the wrappers can
	 access it when the wrapper widget tree is created.

	* gazpacho/command.py (CommandManager.set_translatable_property)
	(CommandSetTranslatableProperty): new command for setting i18n
	metadata on string properties.

	* gazpacho/util.py (gtk_widget_{get,set}_metadata): Add helper
	functions that make setting/getting object data a bit more robust
	and easier to read.

	* gazpacho/propertyclass.py (PropertyClass._set_default_values):
	Initialize translatable.
	(PropertyClass.{get,set}_is_translatable): Add
	getter/setter/property for translatable.
	(PropertyClass.update_from_node): Read translatable parameter from
	catalog.

	* gazpacho/loader/tags.py: Add tags for glade file i18n metadata
	and the translatable parameter for catalogs.

	reviewed by lgs: There is a problem in the 'icon-name' property of
	Windows and Images as it seems pygtk 2.4.0 doesn't have it. So gtk+.xml
	is not modified as in the original patch
	
2005-01-27  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* remove xml directory and its files
	
	* setup.py: don't generate xml_dir and don't copy xml files from the
	xml directory when installing

	* bin/gazpacho (localmode): don't generate xml_dir

	* gazpacho/gladegtk.py (glade_gtk_tree_view_pre_create): create a
	dummy model to avoid warnings

	* catalogs/gtk+.xml: set ignore as fill-empty-function for treeview

2005-01-27  Richard Hult  <richard@imendio.com>
	
	* gazpacho/editor.py (EditorProperty._changed_text): Check
	self.property.loading, not self.loading. Fixes weird behavior with
	undo for string properties.
	(Editor.load_widget_real)
	(Editor.load_widget):
	(Editor.refresh): Refactor the loading and implement refreshing
	for the editor that reloads the properties.

	* gazpacho/application.py (Application._undo_cb) 
       (Application._redo_cb): Refresh the editor.
	
	* gazpacho/command.py (CommandCreateDelete._create_execute): Make
	created toplevels transient for the editor window, makes window
	management a lot more convenient. Only add the accel group to
	toplevels when it's first created, fixes critical warning.
	
 	* catalogs/gtk+.xml: Fix type (ClibmRate->ClimbRate), set min
 	value to 1 instead of 0 for size of boxes and n_rows/cols of
 	tables.
	
	* gazpacho/placeholder.py (Placeholder.do_button_press_event):
	Select the parent when shift is pressed.

	reviewed by lgs
	
2005-01-27  Mikael Hallendal  <micke@imendio.com>

	* gazpacho/widgetclass.py:
        - Sort the property list so that properties defined in the catalog file
	  gets sorted first in order. This way it's possible to order the 
	  properties so that they make sense on a widget basis.
	
	* catalogs/gtk+.xml: Set GtkEntry width-chars property to be optional 
	         and width to be 0 to be able to shrink.
	
	* gazpacho/widget.py:
       -  Make sure that GazpachoWidget's property values are the same as
	  the ones the GtkWidget has by iterating through all properties and 
	  set the GazpachoWidget Property value to the ones read from GtkWidget

	patches reviewed by lgs
	
2005-01-27  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widgetclass.py (WidgetClass.__init__): use get_by_type
	instead of get_by_name. Otherwise it does not work.

	* gazpacho/widgetregistry.py (WidgetRegistry.get_by_type): make
	get_by_name accept default parameters

2005-01-27  Mikael Hallendal  <micke@imendio.com>

       * gazpacho/application.py:
       - Corrected callback signature for widget_name_changed
       * gazpacho/project.py:
       - _widget_old_names uses widget as key and name as value, not the
         other way around.
       * gazpacho/widget.py:
       - Notify when property 'name' is changed
       * gazpacho/widgettreeview.py:
       - Update the tree model when widget name changes

	patch reviewed by lgs
	
2005-01-27  Johan Dahlin  <johan@gnome.org>

	* gazpacho/widget.py (copy_widget): 
	* gazpacho/catalog.py (WidgetGroup.load): 
	* gazpacho/main.py (dump_properties): 
	* gazpacho/gladegtk.py (glade_gtk_table_post_create): 
	* gazpacho/widgetclass.py (WidgetClass.__init__): use widget_registry
	and remove the old get_by_name class method

	* gazpacho/widgetregistry.py (WidgetRegistry.clean): more clean way
	to handle widgets types

	patch reviewed by lgs
	
2005-01-27  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* tests/test_gtkbutton.py
	* tests/utils.py
	* tests/test_gtktable.py
	* tests/test_gtkwindow.py: fixed to work with recent Gazpacho changes

2005-01-27  Rafael Villar Burke <pachi@mmn-arquitectos.com>

	* po/gl_ES.po: 
	* po/es.po: updated translations

2005-01-27  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widget.py: several changes needed to implement the function
	copy_widget. Most of them are hacks so first thing we need is a
	redesign of Widget initialization stuff. It has to be far more flexible
	because several modules create Widgets but they all have different
	requirements.

	* gazpacho/loader/widgettree.py: use the application when creating
	placeholders

	* gazpacho/command.py: implement copy/cut/paste

	* gazpacho/util.py (draw_nodes_idle): use project.get_selection instead
	of project.selection_get

	* gazpacho/project.py: remove function selection_get since it does the
	same as get_selection.
	(Project.open): pass the application to the widgettree so placeholders
	are created properly

	* gazpacho/application.py: rewrite cut/copy/paste callbacks to use
	the command_manager so these actions can be undoned. Provide accesors
	for clipboard and clipboard view

	* gazpacho/clipboard.py: lots of changes that simplifies the Clipboard:
	now we don't put XML data on it but the widgets themselves. Also, new
	ClipboardView class to have a view of the widgets in the clipboard

	* gazpacho/widgettreeview.py (WidgetTreeView.selection_update): update
	the project call from selection_get to get_selection
	Remove ClipboardView and put it on clipboard.py since it seems it can
	no inherit from WidgetTreeView

2005-01-25  Henrique Romano <henrique@async.com.br>

	* po/pt_BR: first version of portuguese translation

2005-01-25  Lorenzo Gil Sanchez <lgs@sicem.biz>

	* Change tabs to 4 spaces for indentation purposes

2005-01-25  Mikael Hallendal  <micke@imendio.com>
 
  	* gazpacho/catalog.py:
 	- Load catalog files containing widget classes and/or widget groups.
 	  A widget group is what used to be a catalog. The GladePalette has 
 	  been removed and instead all catalog files found in the catalogs 
 	  directory are loaded.
 	* gazpacho/loader/tags.py:
 	- Updated the catalog file format to be more .glade like and more
 	  consistent. glade-widget-class instead of GladeWidgetClass etc.
 	* gazpacho/palette.py:
 	- Load groups instead of catalogs.
	* gazpacho/propertyclass.py:
 	- Use tags-defines instead of strings directly.
 	* gazpacho/widgetclass.py:
 	- Load from an XML node given by catalog instead of a filename.
 	* setup.py:
 	- Install catalogs/gtk+.xml
 	* catalogs/gtk+.xml:
 	- The new Gtk+ catalog, this obsoletes all the .xml files in xml/
 	* catalogs/glade-catalog.dtd:
 	- DTD file for the new Catalog file format.

	* patch revised by lgs

2005-01-25  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/clipboard.py (Clipboard.paste): fixed a bug

	* gazpacho/widgettreeview.py : added an update_widgets so this view
	is actually doing something

	* gazpacho/application.py: changes to add a clipbard window

	* gazpacho/widgettreeview.py: added a ClipboardView class to show the
	contents of the Clipboard.
	Changed the name from ProjectView to WidgetTreeView

2005-01-24  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/loader/widgettree.py (WidgetTree.load_from_xml_document_instance): new way of loading widgets
	(WidgetTree._value_from_string): make it work with '-1' integers like

	* gazpacho/property.py (Property.write): save everything, including
	properties with default values

	* gazpacho/widget.py (Widget.create_from_gtk_widget): 
	* gazpacho/command.py (CommandCreateDelete._create_execute): add
	the application window accel groups to new toplevel widgets

	* gazpacho/util.py (write_xml): refactor some code to be more efficient

	* gazpacho/application.py: implement cut/copy/paste using a new
	Clipboard class
	(Application.get_accel_groups): new function

2005-01-24  Rafael Villar Burke <pachi@mmn-arquitectos.com>

	* po/es.po, po/gl_ES.po: spanish and gallego preliminary translations
	
2005-01-24  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/projectview.py: fix some things so when placeholders are
	selected this view doesn't crash. It just show no widget selected

	* gazpacho/placeholder.py (Placeholder.do_button_press_event): let the
	user select placeholders

2005-01-22  Gustavo J. A. M. Carneiro <gjc@gnome.org>
 
 	* gazpacho/application.py (Application._quit_cb): Uncomment the
 	code that asks to save work before quitting.
 	(Application._confirm_close_project): Make it work for unnamed
 	projects too.
 	(Application._save_as_cb): split in two, main code goes to
 	_project_save_as.
 	(Application._project_save_as): Returns a boolean indicating if
 	save was successful.
	
	* gazpacho/projectview.py (ProjectView._row_activated_cb): double click
	on the widget tree show the selected widget (fix #125). Reviewed by lgs
	
2005-01-22  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/application.py: create separate debugging window and a menu
	to show/hide them

	* gazpacho/widget.py: 
	* gazpacho/placeholder.py: 
	* gazpacho/projectview.py: use the new popup system

	* gazpacho/popup.py: hard refactoring to make it Object Oriented.
	Also show the name of the widget the menu is popup over

	* setup.py: changes needed after the rename of bin/gazpacho

	* bin/gazpacho: renamed (again) bin/gazpacho.py to bin/gazpacho since
	we don't need xgettext to parse that file and so .py it's not needed
	anymore

	* bin/gazpacho.py (localmode): we can't do translations here since
	the path.py (needed by l10n.py) may not exist yet

	* gazpacho/project.py (Project.remove_widget): fixed very little nasty
	bug that was making redo not working properly (e.g. when you undo a
	widget creation command you couldn't select it again)

2005-01-21  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* langadmin.py (LangAdmin.generate_mo_files): fixed a wrong error
	message

	* doc/how_undo_redo_works.txt: hey, today I had a documentation orgy!

	* gazpacho/command.py:
	* gazpacho/application.py: added a CommandStackView so we can debug
	undo/redo easily

	* gazpacho/command.py: more documentation

	* gazpacho/projectview.py, gazpacho/application.py,
	gazpacho/project.py, gazpacho/command.py, gazpacho/gladegtk.py,
	gazpacho/placeholder.py, gazpacho/signaleditor.py, gazpacho/main.py,
	gazpacho/editor.py: serious refactoring due the creation of a 
	CommandManager inside the application object to handle all the command
	stuff. More changes will come soon.

	Warning popup.py is broken right now because of these changes
	
	* langadmin.py: make pychecker happier

	* doc/module_dependencies.txt: more useful documentation

	* gazpacho/widgetclass.py: 
	(WidgetClass._list_signals): don't use WidgetClassSignal anymore and
	use a simple two elements tuple

	* gazpacho/propertyclass.py: 
	(PropertyClass.update_from_node): fixed typo

	* gazpacho/loader/widgettree.py: 
	* gazpacho/loader/proxy.py: 
	* gazpacho/widget.py: 
	* gazpacho/uimanagereditor.py: 
	* gazpacho/signaleditor.py: 
	* gazpacho/property.py: 
	* gazpacho/project.py: 
	* gazpacho/popup.py: 
	* gazpacho/parameter.py: 
	* gazpacho/main.py: 
	* gazpacho/gladegtk.py: 
	* gazpacho/editor.py: 
	* gazpacho/command.py: 
	* gazpacho/catalog.py: 
	* gazpacho/application.py: 
	* gazpacho/actioneditor.py: 
	* gazpacho/action.py: mark strings with _()

	* po
	* langadmin.py: added l10n support and the first po file (spanish)

	* gazpacho/l10n.py: this module provides the _ function
	
	* MANIFEST.in: distribute the po files, the tests, langadmin.py script
	and some of the text files (CONTRIBUTORS, NEWS and RELEASES)

	* setup.py: generate mo files and install them. Also changed the name
	of gazpacho to gazpacho.py since xgettext must know it is a python
	file. In installation time it is renamed to just gazpacho

	* gazpacho/application.py: start to mark some strings

	* xml/gtk-additional.xml: I forgot the Eventbox widget

2005-01-20  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/editor.py (EditorProperty._create_input): fix a bug about
	not creating the button for special editors correctly

	* gazpacho/widget.py (Widget._find_inside_container): fix a bug with
	the selection code. Added some doc strings and clean things a little
	bit

	* gazpacho/placeholder.py (Placeholder.do_expose_event): add a comment

	* doc/how_selection_works.txt: some useful documentation

	* gazpacho/signaleditor.py: make it more pychecker friendly

	* gazpacho/editor.py: use dictionaries for easy access to the loader
	and creator methods for each property type. Also make it more pychecker
	friendly

	* gazpacho/property.py: 
	* gazpacho/loader/tags.py: 
	* gazpacho/propertyclass.py: changed UNICHAR to UINT and take care of
	the special case of 'invisible-char' property

	* tests/utils.py (init_gazpacho): changed to use the new application
	class

	* gazpacho/editor.py (EditorProperty.load) 
	(EditorProperty._create_input): 
	* gazpacho/property.py (Property.__init__, Property.set_value): 
	* gazpacho/widget.py (Widget._apply_properties): 
	* gazpacho/propertyclass.py (type2str) 
	(PropertyClass.update_from_node) 
	(PropertyClass._get_default_from_spec) 
	(PropertyClass._get_type_from_spec): 
	* gazpacho/widgetclass.py: use gobject.TYPE_* instead of our custom
	types

2005-01-19  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* doc/classes.dia: improve the diagram adding some variables and
	methods

	* gazpacho/main.py (launch): use the new Application class and
	set a reference to it in the modules that need so. Also don't create
	a new project if we are loading an existing one

	* gazpacho/placeholder.py (Placeholder): use a class variable called
	app to have access to Gazpacho Application in the methods we need to
	(basically to see the content of the add_class variable)

	* gazpacho/gladegtk.py: 
	* gazpacho/command.py: use a global app variable (which is set during
	initialization in main.py:launch()) when we needed access to the old
	ProjectWindow instance.

	* gazpacho/util.py: don't forget to import gobject if you are using
	it (gobject.idle_add)

	* gazpacho/projectview.py (ProjectView._motion_notify_cb): comment this
	method since creating widgets in the projectview is not working right
	now and we want to avoid the old ProjectWindow dependency

	* gazpacho/widget.py: write some needed documentation

	* gazpacho/util.py (queue_draw_nodes): 
	* gazpacho/actioneditor.py (ActionEditor.__init__): changed
	gtk.idle_add for gobject.idle_add (avoid deprecated warning)

2005-01-19  Miguel hernandez  <enlavin@gmail.com>

	* bin/gazpacho (localmode): use raw strings (r"%s") for dir paths.
	Reviewed by lgs

2005-01-16  Johan Dahlin  <johan@gnome.org>

	* gazpacho/projectview.py: Fix popup menu and select the current row
	before selecting the widget.

2005-01-18  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* setup.py (scripts): add a .pyw version of launch-gazpacho for win32.
	Should fix #97

	* gazpacho/projectwindow.py (ProjectWindow._add_project): save the id
	for the menu entry of the newly created project
	(ProjectWindow._close_cb): when closing a project, destroy all its
	widgets and also its entry in Gazpacho menu

	* gazpacho/project.py (Project.__init__): added a property for the
	UI id of this project in Gazpacho main menu

	* gazpacho/widget.py (Widget.create_from_gtk_widget): sanity checks
	when getting the class

	* gazpacho/loader/widgettree.py (WidgetTree._value_from_string): check
	if it is a Unichar (Gustavo)
	(WidgetTree._build_child_widget): before adding a child to a parent
	check if it is None
	(WidgetTree._build_widget): when loading toolbars or menubars check
	if they are old style ones and print a warning message in this case

	* gazpacho/projectwindow.py (ProjectWindow._save_cb): fixed a bug with
	Gustavo Noronha patch. Also improve the comments.
	(ProjectWindow._save_as_cb): refactor some code so we avoid duplicates
	blocks (_save_cb now calls _save_as_cb if the user needs to choose a
	filename)

	* bin/create_path_on_win32.py: post installation script to create the
	path.py file on Windows

	* RELEASES: don't forget to remove path.py

	* MANIFEST.in: added create_path_on_win32.py

	* setup.py (scripts): only write the path.py on Linux systems and
	handle --prefix= and --prefix so we avoid stupid mistakes (Johan)

2005-01-17  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/projectwindow.py (ProjectWindow._about_cb): 
	* setup.py: released 0.3.2

2005-01-16  Johan Dahlin  <johan@gnome.org>
 	* gazpacho/widget.py (Widget._find_inside_container): 
 	widget.translate_coordinates can return an empty tuple, make sure
 	we can handle that case.
	r
 	* gazpacho/uimanagereditor.py (UIManagerEditor._update_preview):
 	Check so it's a real widget before we continue.
	
	* gazpacho/editor.py:
	* gazpacho/palette.py:
	* gazpacho/projectwindow.py:
	* gazpacho/util.py:
	* gazpacho/gladegtk.py:
	* gazpacho/actioneditor.py:
	* gazpacho/projectview.py:
	* gazpacho/uimanagereditor.py:
	* gazpacho/signaleditor.py: Take advantage of default values for
	gtk.Box/gtk.TreeViewColumns constructors and pack_start/pack_end functions.

	* gazpacho/projectview.py: Update selection in the tree view here
	when we change the widget selection. Kiko noticed this a back while.

	* gazpacho/editor.py (EditorTable._create_item_label): Set the
	minimum width for a label.

	* gazpacho/palette.py (Palette._widget_table_create): Clean up

	* gazpacho/projectview.py (ProjectView._button_press_cb): Show
	popup menu when right clicking on an item here. And rearrange the
	logic a little bit.

	* gazpacho/projectwindow.py
	(ProjectWindow._project_window_create): set window icon.

	* xml/gtk-base.xml:
	* xml/Makefile.am:
	* xml/gtkoptionmenu.xml:
	* gazpacho.nsi: Remove all signs of OptionMenu, it's deprecated.

	* xml/gtk-base.xml: Fix expanders palette_name

	* xml/gtk-base.xml: Arrange things a little bit, VBox/HBox should
	be higher up, since they are used a lot. Move down menubar/toolbar
	a little bit too.

	* gazpacho/signaleditor.py:
	* gazpacho/editor.py:
	* gazpacho/propertyclass.py:
	* gazpacho/projectview.py:
	* gazpacho/uimanagereditor.py: Clean up const definitions to make
	them all fit on 79 character wide pages and use it consistently

	* gazpacho/widgetclass.py: General cleanups
	
	* bin/gazpacho: 
	* gazpacho/gladegtk.py: Remove some print output

	* gazpacho/palette.py:
	* gazpacho/project.py:
	* gazpacho/action.py:
	* gazpacho/uimanagereditor.py:
	* gazpacho/widget.py:
	* gazpacho/signaleditor.py:
	* gazpacho/editor.py:
	* gazpacho/projectview.py: Use real python types instead of
	constants from the gobject module.

	* gazpacho/palette.py:
	* gazpacho/project.py:
	* gazpacho/action.py:
	* gazpacho/uimanagereditor.py:
	* gazpacho/widget.py:
	* gazpacho/signaleditor.py:
	* gazpacho/editor.py:
	* gazpacho/projectview.py: Use real python types instead of
	constants from the gobject module.

        * gazpacho/gladegtk.py: Make UIManager global, clean up imports.

	* README:
	* bin/gazpacho: Require 2.4.0 and document the requirement.
	
	* gazpacho/editor.py:
	* gazpacho/projetview.py:
	* gazpacho/projetwindow.py: Clean up imports a tiny bit
	
2005-01-15  Lorenzo Gil <lgs@sicem.biz>

	* big pepeightification from Johan
		
	* applied patch from Johan that fix a lot of code ugliness detected by
	pychecker
	
2004-12-13  Johan Dahlin  <johan@gnome.org>

	* gazpacho/widget.py: Clean up imports

2004-12-12  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/util.py (draw_nodes_idle): check if the internal window
	exists before trying to draw the nodes. (John Ehresman)

	* xml/gtk-base.xml: added gtkexpander support

	* gazpacho/loader/widgettree.py (WidgetTree._reset): add 'gtk' module
	to the initial module dictionary so glade files doesn't need to
	explicit require it

2004-12-11  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* tests/test_gtktable.py: remove non used function from the import

2004-11-17  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* bin/gazpacho (localmode): fixed a bug about not finding the path.py
	when running locally

2004-11-15  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* xml/gtktable.xml: remove the Default attribute for the n-rows and
	n-columns properties they are different default values from gtk+ ones

	* gazpacho/loader/widgettree.py (WidgetTree.get_actions): added a read
	only property to get the actions
	(WidgetTree._read_child_property): convert '_' to '-' for property
	names
	(WidgetTree._reset): store the actions in a dict for easy access

	* gazpacho/property.py (Property.write): use the sax.utils escape
	function to write properties with forbidden xml characters (<, &, ...)

	* gazpacho/widget.py (Widget.__init__): propagate the interactive
	flag to the pre and post create functions. I don't think we need it
	for the fill_empty functions

	* gazpacho/gladegtk.py: added interactive argument for a bunch of
	pre_create and post_create functions

	* gazpacho/command.py (create): added an 'interactive' argument so
	we can create widgets from the tests without answering dialogs

2004-10-19  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* tests/test_gtkwindow.py: some refactoring to make the code easier

	* tests/utils.py (init_gazpacho): added
	don't use setup_gazpacho but do that stuff when importing utils.py

	* gazpacho/projectwindow.py (ProjectWindow._set_project): remove the
	(unused) first argument

2004-10-18  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/main.py (main): allow main to be called without arguments

	* gazpacho/catalog.py (load_all): clear previous loaded classes

	* gazpacho/widgetclass.py (WidgetClass.__init__): fixed error message

	* gazpacho/palette.py (Palette.select_widget): added

	* gazpacho/projectwindow.py (ProjectWindow.get_action): added
	(ProjectWindow.get_current_project): added

	* bin/gazpacho (currentdir): use an absolute path for the prefix

	* tests/utils.py (setup_gazpacho): added to abstract some common
	initialization code

	* xml/gtkwindow.xml: disabled the type property since it is a construct
	only property

	* gazpacho/catalog.py (load_all): don't prepend 'xml' twice when
	opening the catalogs. Should fix #114

2004-10-12  Johan Dahlin  <johan@gnome.org>

	* gazpacho/*.py: Fix pygtk imports

2004-10-12  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widgetclass.py (WidgetClass._list_properties): ignores
	construct-only properties (jrb)

	* gazpacho/projectview.py (ProjectView.__init__): fixes a shadow (jrb)

	* xml/gtk-obsolete.xml: add FileSel (jrb)

	* xml/gtk-dialogs.xml: use FileChooser instead of FileSel (jrb)

	* bin/gazpacho (localmode): improve localmode (jrb)

	* gazpacho/propertyclass.py: Johan explained me that 'import pygtk' is
	only useful once (in the startup script) so I removed it here. Need to
	be done in every gazpacho/*.py file

	* gazpacho/catalog.py (load_all): allow catalogs to be optional and
	don't scream it we can't find them (Johan)

	* xml/glade-palette.xml: make gruppy-widgets.xml optional (Johan)

	* gazpacho/projectwindow.py (ProjectWindow.open_project): renamed the
	method _open to open_project so it is now public and can be used from
	the main module

	* gazpacho/propertyclass.py: fixed typo

	* gazpacho/main.py: new file with command line args for Gazpacho and
	much cleaner code estructure (Johan)

	* bin/gazpacho: moved the main function to gazpacho/main.py (Johan)

	* gazpacho/propertyclass.py: patch from Johan to optimize Gazpacho
	startup by making 'id' not a property but a regular member.

2004-10-08  Johan Dahlin  <johan@gnome.org>

	* gazpacho/gladegtk.py: s/widget.Widget/widget/

2004-10-08  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/projectwindow.py (ProjectWindow._project_window_create):
	commented out the calls to set the window icon as it seems to crash
	with GTK+ 2.5.X
	(ProjectWindow._about_cb): changed version number

2004-10-06  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/loader/widgettree.py (WidgetTree._reset): create a emtpy
	UIManager instead of initalizing it to None

	* gazpacho/projectwindow.py (ProjectWindow.__init__): load the catalogs
	here

	* gazpacho/choice.py (list_new_from_spec, _enum_from_string): added
	sanity checks to avoid init crashes

	* bin/gazpacho (main): let the ProjectWindow to load the catalogs by
	itself instead of loading them here

	* tests/test_proxy.py: use refresh_gui from utils

	* tests/utils.py: new file to put utility functions for all tests

2004-09-07  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/loader/widgettree.py (WidgetTree._widget_iterator): added an
	iterator to loop through the widgets

	* gazpacho/loader/proxy.py: extend the magicconnect method to also
	treat the actions. Add a property for the widgets iterator.

	* README: 
	* bin/gazpacho: 
	* COPYING: changed license from GPL to LGPL

	* gazpacho/loader/widgettree.py: 
	* gazpacho/uimanagereditor.py: 
	* gazpacho/action.py: put the GazpachoAction class in its own file
	to drop some dependencies

	* tests/test_proxy.py: first test for gazpacho

	* gazpacho/loader/proxy.py: proxy class heavily inspired (aka copied)
	from Kiwi Proxies

	* gazpacho/loader/widgettree.py: make this class more flexible by
	loading the glade file either from a file or a xml stream. Also
	don't wait for the autoconnect call to set up the accel groups

2004-09-06  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/loader/widgettree.py: removed the on_window1_destroy
	example callback

	* gazpacho/editor.py (EditorProperty._load_integer): set the enable
	button with the value of the enabled flag

	* gazpacho/property.py (Property.set_value): set the enabled flag
	when setting a non default value for a property

	* gazpacho/widget.py (Widget.write): write the visible property at the
	end so other properties (default-width, default-height) work

	* gazpacho/project.py (Project.open): better check to see if there
	is an accelerator

	* bin/gazpacho (prefix): prepend the prefix instead of append so
	the local copy is searched first

	* xml/gtktoolbar.xml: added ignore to the FillEmptyFunction

	* xml/gtkmenubar.xml: fix typo

2004-08-04  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/loader/widgettree.py: proper loading of Actions and also
	adding the ui manager accelerator to the right window

	* gazpacho/loader/tags.py (SIGNAL_HANDLER): new tag to store activate
	signal handlers of Actions

	* gazpacho/actioneditor.py (ActionEditor._on_accel_key_press): don't
	use <control>+A but <control>A for accelerators

	* gazpacho/uimanagereditor.py : initialize the properties of
	GazpachoAction to None
	(GazpachoAction.set_accelerator): added

	* gazpacho/project.py (Project._write_action_group): fixed so all
	GazpachoAction properties are saved
	(Project.open): fixed so all GazpachoAction properties are loaded

	* gazpacho/actioneditor.py (ActionEditor.__init__): added support for
	editing tooltips

	* gazpacho/editor.py (EditorProperty._load_enum) 
	(EditorProperty._changed_enum, EditorProperty._create_input_enum):
	migrated OptionMenu to ComboBox

2004-08-03  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/widget.py (Widget.create_from_gtk_widget): make the value
	transformation when setting a property from a gtk widget

	* gazpacho/util.py (write_xml): stop smoking crack and end the xml tags
	properly

	* gazpacho/project.py (Project.open): check for the existence of the
	ui manager and also fix a stupid bug in the loop that read the actions

	* gazpacho/gladegtk.py (glade_gtk_menu_bar_post_create) 
	(glade_gtk_tool_bar_post_create, _add_element_to_ui_manager): 
	* xml/gtkmenubar.xml: 
	* xml/gtktoolbar.xml: added postcreate function

	* gazpacho/projectwindow.py (ProjectWindow._save_cb): provides a 
	default filename and check if that file exists
	(ProjectWindow._save_as_cb): idem

	* gazpacho/util.py (write_xml): custom function to dump xml trees
	* gazpacho/project.py (Project.save): use our own function to save
	xml files so we get nicer output

	* xml/gtkbutton.xml: deactivated the stock property since it is casuing
	an exception

	* gazpacho/project.py (Project.open): load the signals and check for
	the existence of an uimanager in the widget tree

	* gazpacho/widget.py (Widget.create_from_gtk_widget): load the signals

	* gazpacho/signaleditor.py: use the new dictionary based signals

	* gazpacho/widget.py: use the new dictionary based signals

	* gazpacho/command.py (remove_signal): 
	(add_signal): use the new dictionary based signals

	* gazpacho/project.py (Project.write): check if we really have an
	ui manager before trying to save it

	* gazpacho/loader/widgettree.py (WidgetTree.signal_autoconnect): added
	signal_autoconnect and signal support in general

2004-08-02  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/uimanagereditor.py (UIManagerEditor._update_ui_manager): 
	* gazpacho/gladegtk.py (glade_gtk_menu_bar_edit): removed the 'ui'
	section before copying the uimanager

	* bin/gazpacho: removed the registry lookup since using the gladewin32
	installer

	* setup.py: changed the version number

	* README: added a section about running Gazpacho

	* gazpacho/uimanagereditor.py (UIManagerEditor._load_element): load
	the action group for every element we load

	* gazpacho/projectwindow.py (ProjectWindow._about_cb): changed the
	version number

	* gazpacho/project.py (Project.open): load the uimanager from the file

2004-07-30  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/loader/widgettree.py: support for UI Manager. Also loops
	simplification with the use of the filter_nodes function

	* gazpacho/loader/tags.py: added several tags for UI Manager support

	* gazpacho/project.py (Project._write_action_group): support for saving
	the UI Manager and its action groups

	* gazpacho/uimanagereditor.py: change several things so we can set
	the state with extra methods allowing to reuse the editor

	* gazpacho/gladegtk.py (_uimanager_editor): create the ui manager
	editor once and reuse it every time we edit a menubar or a toolbar

	* gazpacho/uimanagereditor.py (ActionEditor.__init__): put the combo
	in grid mode so it's easier to pick a stock icon

2004-07-29  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/uimanagereditor.py (UIManagerEditor._on_edited): fix the
	"skippy" bug

	* gazpacho/gladegtk.py (glade_gtk_menu_bar_edit): some trickery so we
	don't loose our uimanager after destroying the dialog

	* gazpacho/uimanagereditor.py : tons of changes and features added

2004-07-26  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* bin/gazpacho: don't need to set PYTHONPATH

	* gazpacho/editor.py: when the property has an editor function create
	a button that triggers that function, as the editor

	* gazpacho/property.py (Property.set_value): handle the object types

	* gazpacho/gladegtk.py (glade_gtk_menu_bar_edit): added
	(glade_gtk_tool_bar_edit): added

	* gazpacho/loader/tags.py: added a tag for EDITOR_FUNCTION

	* gazpacho/propertyclass.py (PropertyClass._set_default_values): added
	an editor function for the cases of properties which needs a special
	editor widget

	* gazpacho/project.py (Project.__init__): added a uimanager object with
	its getter and setter methods

	* gazpacho/projectwindow.py: make ProjectWindow a new style class so
	we can have Python properties. Make the gtk window a property because
	we needed when we open a dialog

	* xml/gtkmenubar.xml: new property to have an ui manager editor button

	* xml/gtktoolbar.xml: new property to have an ui manager editor button

	* gazpacho/uimanagereditor.py : new file with three classes to
	implement an UI Manager editor for toolbars and menubars

2004-07-21  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/editor.py (EditorProperty._load_flags) 
	(EditorProperty._flag_toggled, EditorProperty._show_flags_dialog): 
	thanks to Johan now we have flags introspection in pygtk so we can
	support them in Gazpacho
	(EditorProperty._show_flags_dialog): flags sorted as requested by Johan

	* gazpacho/property.py (Property.set_value): include flags and enums
	as supported types. Treat them like integers

	* gazpacho/propertyclass.py: store the spec object in the PropertyClass
	because we need it in the editor for instrospecting the flags

2004-07-20  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/editor.py (EditorProperty._changed_enum): import the command
	module and get the value from the choice dictionary
	(EditorProperty._load_enum): read the value from the dictionary
	(EditorProperty._create_input_enum_item): read the name from the
	dictionary

	* gazpacho/signal.py (Signal.new_from_node): import fixed

	* gazpacho/propertyclass.py: removed the _choice_list_new_from_spec
	method and put it on choice.py
	(PropertyClass.update_from_node): read the choices from the xml file
	properly

	* gazpacho/choice.py: don't use a class for a Choice but a dictionary.
	Implement _enum_from_string, list_new_from_node and list_new_from_spec
	now that we have Enum introspection support in PyGTK

	* gazpacho/loader/widgettree.py: changed import from pyglade to
	gazpacho (bug reported by enlavin)

	* gazpacho/editor.py: eye candy fixes by Doug Quale. Also fixes in the
	spinbuttons when displaying integers.

	* gazpacho/widgetclass.py (WidgetClass._list_signals): order signal
	list (patch by Doug Quale)

	* gazpacho/projectwindow.py (ProjectWindow._about_cb): fixed version
	number in about dialog as reported by enlavin

2004-07-19  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gazpacho/catalog.py (load_catalog): print the error so we know what
	is happening

	* gazpacho/projectview.py (ProjectView._button_press_cb): check if
	get_path_at_pos is failing

	* setup.py (f): we need to use raw strings for the path (Windows sucks)

	* pyglade/editor.py (EditorTable.__init__): create the table_widget
	with 1 row and 1 column by default to avoid a new gtk warning

	* gazpacho.py: use the new imports

	* pyglade/project.py: fixed a typo

	* pyglade/command.py: moved the import projectwindow as pw to local
	places to avoid import cycles

	* setup.py: changed to reflect the package name changes and the path.py
	changes.

	* pyglade/widgetclass.py: use the new path variables
	* pyglade/projectwindow.py: 
	* pyglade/palette.py: 
	* pyglade/catalog.py: 

	* pyglade/signaleditor.py: import pyglade.signal instead of gladesignal

	* pyglade/loader/widgettree.py: don't use single level imports

	* pyglade/util.py: don't use single level imports
	* pyglade/property.py: 
	* pyglade/propertyclass.py:
	* pyglade/projectview.py: 
	* pyglade/project.py: 
	* pyglade/popup.py: 
	* pyglade/placeholder.py: 
	* pyglade/parameter.py: 
	* pyglade/palette.py: 
	* pyglade/gladesignal.py: 
	* pyglade/gladegtk.py: 
	* pyglade/editor.py: 
	* pyglade/command.py: 
	* pyglade/choice.py: 
	* pyglade/catalog.py:

2004-07-14  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* src/placeholder.py (Placeholder.do_realize): there was a wrong tab
	at self.window.set_user_data(self)

	* src/widgetclass.py (WidgetClass.__init__): don't change sys.path and
	do a proper __import__ instead

2004-07-13  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* setup.py: added license metadata and changed version number

	* catalog.py: load the xml files from the xml directory, which
	depends on the prefix choosen by the user

	* palette.py: load the icons from the pixmap directory, which
	depends on the prefix choosen by the user

	* projectwindow.py: load the icons from the pixmap directory, which
	depends on the prefix choosen by the user

	* widgetclass.py: load the icons from the pixmap directory, which
	depends on the prefix choosen by the user

2004-07-12  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* widget.py (Widget.create_from_gtk_widget): new function to load
	widgets. It does basically the same that __init__ but with some
	differences as the GtkWidget already exists. Also removed most of the
	old functions to load the widgets in the pre-loader era

	* property.py (Property.__init__): better value initialization: if the
	widget has a non default value for this property don't override it

	* gladegruppy.py (gruppy_form_post_create): use the real name of the
	FormBody class, which is pretty ugly :(

	* projectwindow.py (ProjectWindow._about_cb): fix the name of the about
	image from gazpacho.jpg to gazpacho.png

	* gladegtk.py: removed some prints

	* widgetclass.py (WidgetClass.__init__): use the name returned by
	gobject.type_name to index the class instead of the name we define in
	the XML file

	* project.py (Project.open): use the loader module to open a project
	and make that method a staticmethod instead of a classmethod

	* projectview.py (ProjectView._populate_model_real): fixed a type and
	fixed a difficult bug about setting the parent iter only in a few cases

	* loader/widgettree.py (WidgetTree._value_from_string): improved type
	checking
	(WidgetTree._build_child_widget): set a special data key when the child
	is an internal widget
	(WidgetTree._fill_from_node): set the name here instead of build_widget
	so we get the name of internal children

2004-07-09  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* xml/gruform.xml: we need a get_internal_child function here

	* xml/gruformbody.xml: simplified a little bit

	* xml/gruppy-widgets.xml: added datablock and grid

	* property.py: import tags from the 'loader' submodule

	* gladegruppy.py: added lots of functions to handle forms and
	datablocks

	* placeholder.py (Placeholder.__init__): load the pixmap in a more
	flexible way so we can subclass placeholder

	* parameter.py: import tags from the 'loader' submodule

	* catalog.py: import tags from the 'loader' submodule

	* projectwindow.py: use Widget.get_from_gtk_widget instead of the old
	function from util.py

	* editor.py: import tags from the 'loader' submodule

	* widget.py (Widget.get_from_gtk_widget): added this staticmethod
	(Widget.get_parent): delegate this function to the util module
	(Widget.replace): added a parent argument so we can handle situations
	where old_widget is None
	(Widget._get_glade_widgets): added aux method

	* gladegtk.py (glade_gtk_container_replace_child): allow to replace
	None for a new child. Changes in the use of
	glade_widget_get_from_gtk_widget and the imports of placeholder

	* command.py (CommandCreateDelete.__init__): extend this class so we
	hold a reference to the parent of the widget we are creating
	(CommandCreateDelete._create_execute): allows to create a widget even
	if no placeholder has been selected (e.g. clicking on the Widget Tree)

	* util.py: moved the glade_widget_get_from_gtk_widget function to the
	Widget class.
	(get_parent): modified so it can handle gwidgets that are children of
	a non gwidget
	(ask_for_number): moved this function from gladegtk.py to here so we
	can reuse it

	* propertyclass.py: import tags from the 'loader' submodule

	* widgetclass.py: import tags from the 'loader' submodule

	* project.py: changes because glade_widget_get_from_gtk_widget is not
	in util anymore and tags is in the loader submodule
	(Project.write): save the libraries needed by the widgets of the
	project

	* projectview.py (ProjectView.__init__): use the button-press-event
	to add new widgets
	(ProjectView._populate_model_real): load the children of non
	GladeWidgets direct parents. Use Widget.get_from_gtk_widget instead
	of importing it from util
	(ProjectView._motion_notify_cb): set the cursor to the plus cursor if
	we are adding a widget
	(ProjectView._button_press_cb): use this callback to add a widget to
	the clicked node or to select it depending on if we have a class
	selected in the palette
	(ProjectView._selection_changed_cb): we also need this old callback
	to handle keyboard selection changes

	* choice.py: import tag changed

2004-07-05  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* xml/gruppy-widgets.xml: add support to GruForm and GruFormBody

	* gladegruppy.py (widget_prefix): add support to GruForm and
	GruFormBody

	* widget.py (Widget.get_parent): modified so we can handle widget
	hierarchies where not every gtkwidget maps to a gwidget

	* projectview.py (ProjectView._add_children): modified so we can handle
	widget hierarchies where not every gtkwidget has a gwidget associated

2004-07-02  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* xml/gtkstatusbar.xml: setting ignore to the PostCreateFunction fix
	statusbar bug reported by Inigo

	* xml/gruppy-widgets.xml: added the Form

	* gladegruppy.py: added the ignore function

	* widget.py (Widget.__init__): extend the constructor to support
	creation of internal widgets

	* gladegtk.py (glade_gtk_dialog_post_create): create the internal
	children

	* projectview.py (ProjectView.add_item): check for the children of
	the current widget to see if we need to add them.

	* projectwindow.py (ProjectWindow._project_window_create): set the icon
	file for the windows.

	* tags.py: fixed typo in ChildPropertyApplies

	* pixmaps/glade-3.png, pixmaps/gazpacho.jpg: removed
	* pixmaps/gazpacho.png, pixmaps/gazpacho-icon.png: added

2004-07-01  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* catalog.py (load_all): don't crash if one catalog can not be loaded

	* xml/glade-palette.xml: change the obsolte gtk+ widgets by the gruppy
	widgets

	* gladegtk.py (root_library): added to important variables:
	root_library and widget_prefix

	* widgetclass.py (WidgetClass.__init__): make the library loading more
	generic by storing its name in the module of that library.

	* projectwindow.py (ProjectWindow.refresh_undo_and_redo): implemented
	(ProjectWindow._construct_menu_and_toolbar): put the undo and redo
	actions in separate groups so we can set_sensitive() them.

2004-06-30  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* command.py: implemented the undo/redo logic

	* projectwindow.py (ProjectWindow._undo_cb): implemented
	(ProjectWindow._redo_cb): implemented

	* editor.py: pep-8-ize all the file

	* project.py (Project.__init__): properly initialize prev_redo_item.
	Also added properties for undo_stack and prev_redo_item

	* editor.py (Editor._load_packing_page): fix a couple of bugs

	* README: more typos fixed

	* projectview.py (ProjectView._key_press_cb): added

2004-06-28  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* property.py (Property.set_value): use ord() to convert the string

	* widget.py (Widget._apply_properties): removed the try/except since
	we were wrong not pygtk

	* editor.py (EditorProperty._load_unichar): convert the value to a
	string before putting it into the text entry

	* projectwindow.py: lots of changes to put the main widgets all
	together in the main window.

	* projectview.py (ProjectView.__init__): hide the tree view headers

	* xml/gtkcombobox.xml: added

	* xml/gtk-base.xml: renamed GtkCombo to GtkComboBox and use an external
	file to redefine some functions

	* parameter.py (adjustment_new): take the default value into account

	* gladegtk.py (glade_gtk_combo_box_pre_create): added

	* propertyclass.py (PropertyClass.update_from_node): convert the
	default value to its correct type
	(PropertyClass._get_parameters_numeric): return [] and not None

	* dependencies.py (download): improved the 'Downloading ...' message
	by using \r to overwrite the current message
	fixed the /bin/env to /usr/bin/env
	(install_pygtk): add the path to the environment variables

	* projectwindow.py (ProjectWindow._delete_cb): implemented

	* widget.py (Widget._key_press): remove the widget if we press the 
	Delete key on a widget

	* command.py (CommandCreateDelete._delete_execute): parent is not a
	Widget attribute but fortunately we have get_parent()

	* project.py (Project.delete_selection): implemented

	* popup.py (delete_cb): implemented

2004-06-27  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* dependencies.py: utility script to build the dependencies

2004-06-25  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* widget.py (Widget.__init__): added a flag to not call the post
	create and fill empty functions if we are creating the widget from a
	XML node. Also changed the order of some sentences to avoid
	dependency bugs between the properties
	(Widget._apply_properties): implemented with some TODO items
	(Widget._set_packing_properties): implemented
	(Widget.write): only write the gtk properties, not the glade ones
	(Widget._get_internal_child): implemented
	(Widget._apply_property_from_node): added
	(Widget._fill_from_node): added
	(Widget._new_from_node): added
	(Widget._new_child_from_node): added
	(Widget.read): added

	* pyglade.py (main): added a flag to run everything under the Python
	debugger

	* property.py (Property.set_value): comment the warning to get cleaner
	output. Also don't call the set_property() in the set_value() method
	but in the set() method. This way we don't initialize wrong values
	when creating Properties.
	(Property._set_property): avoid an error of pygtk about the
	'invisible-char' of a GtkEntry
	(Property.set): convert the value (with the set_value method) before
	sending it to the widget

	* gladegtk.py (glade_gtk_box_post_create): set the size properly

	* command.py (CommandSetProperty.execute): set the property properly

	* util.py: removed object_set_property

	* propertyclass.py (PropertyClass.set_packing): added a setter

	* gladesignal.py (Signal.new_from_node): added to deserialize signals

	* widgetclass.py (WidgetClass._list_child_properties): remove the evil
	try/except block since we want to know the exceptions that are bein
	thrown

	* project.py (Project.open): implemented with (_new_from_node)

	* projectview.py (ProjectView._populate_model_real): only add the
	widget if it h as a glade widget

	* projectwindow.py (ProjectWindow._save_cb): fixed the call to
	project.save
	(ProjectWindow._open_cb): implemented (with _open)

	* tags.py: added XML_TAG_PACKING and XML_TAG_INTERNAL_CHILD

2004-06-23  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* editor.py (EditorProperty._load_boolean): set the button state to
	the value of the property

	* property.py (Property.write): convert the value to string before
	creating the text node

	* widget.py (Widget._write_child): serialize the packing properties
	(Widget.write): serialize the signals

	* command.py (CommandCreateDelete._create_execute): always set the
	visible property to true when creating a widget

	* project.py (Project.save): actually writting to a file instead of 
	just dumping it to stdout

2004-06-22  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* choice.py: first support for choices but pygtk lacks some
	functionality so far

	* editor.py (EditorProperty._create_input): improve the error message

	* property.py: changed the way we set the value of a property (fixing
	several bugs in the way)

	* gladegtk.py (glade_gtk_widget_set_tooltip): implemented
	(glade_gtk_box_post_create): set the size with the new property style

	* parameter.py (get_value): fixed a but accessing the value
	(list_new_from_node): new function to load a list of parameters from an
	xml node

	* command.py (CommandSetProperty.execute): set the value with the new
	property style

	* propertyclass.py (PropertyClass.update_from_node): fixed some bugs
	and added support for properties and choices (not finished). Also
	added the utility function type2str

	* widgetclass.py: added some useful debug messages

	* tags.py: added a bunch of tags for the properties and choices

	* widget.py (Widget.do_change_signal_handler): fixed several typos

	* gladesignal.py: added. This file can't be name signal.py since there
	is already a signal.py in the standard library

	* widgetclass.py (WidgetClass._list_signals): fixed the signal creation

	* widgetclasssignal.py : change the pass sentence for a more
	meaningful one

	* tags.py : added some tags for signals serialization

	* widget.py (Widget.do_change_signal_handler): implemented the signal
	adding/removing/changing stuff

	* command.py (remove_signal): added the CommandAddRemoveSignal class

	* signaleditor.py : implemented most of the signal handlers stuff

	* editor.py (Editor._widget_name_changed): implemented

	* projectview.py (ProjectView._find_iter): fixed a call to
	self._model.iter_children()

	* command.py : cleaned up the code and added a CommandSetName class

2004-06-21  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* projectview.py: implemented most of the stuff to have a functional
	project list/tree view

	* projectwindow.py: added widget tree. also pop-8-ize the file

	* property.py (Property.write): implemented

	* widget.py : implemented selection, popup menu and write methods

	* propertyclass.py: removed the clone method

	* widgetclass.py (WidgetClass._merge_properties): removed the calls to
	PropertyClass.clone since we are using Python own shallow copy

	* project.py (Project.save): 80% implemented

	* popup.py: fixed widget_pop and implemented select_cb. Also pep-8-ize
	all the file to make Johan glad

	* tags.py: added some XML tags for saving

	* projectwindow.py : save and save as implemented

	* popup.py (select_cb): implemented

2004-06-18  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* util.py (queue_draw_nodes): draw nodes implemented and all the
	internal functions needed for that. _can_draw_nodes is not finished

	* placeholder.py (Placeholder.do_expose_event): call to
	queue_draw_nodes

	* gladegtk.py: added most of the functions. Not tested!!
	(glade_gtk_table_set_n_common): forgot a comma
	(glade_gtk_table_set_n_common): fixed some minor stupid mistakes
	(glade_gtk_dialog_post_create): more stupid mistakes

2004-06-17  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gladegtk.py (glade_gtk_container_replace_child): handling the child
	properties we fix the bug about adding a widget in the wrong
	placeholder

	* editor.py: added most of the changer and their connections in the
	input makers

	* property.py (Property.set_enabled): add a setter for enabled since
	we use it from the Editor

	* widgetclass.py (WidgetClass._list_properties): fixed bug that was
	making properties goes to the wrong tab

2004-06-16  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* editor.py: added most of the loaders and the text changer

	* property.py (Property._set_property): fixed a tiny bug that was
	making me crazy. Remember: you need to differenciate between a gtk
	widget and a (pyglade) widget. Also implemented the get_value accesor

	* widget.py (Widget.__init__): moved the call to Gobject.__init__

	* command.py: addded CommandSetProperty

	* editor.py: only property loading and bug hunting left

	* signaleditor.py: first steps to get a signal editor working

	* property.py: inherit from object to get Python properties, added doc
	and implemented the set method

	* widget.py: added some error checking and most of the properties code

	* gladegtk.py (glade_gtk_box_post_create): implemented, to set the
	placeholders of a box. Also glade_gtk_box_get_size and *_set_size

	* parameter.py: new class

	* util.py (object_set_property): added

	* propertyclass.py (PropertyClass._choice_list_new_from_spec): return
	[] instead of None to fix a bug. Also added some accesors for 
	parameters, choices and packing

	* tags.py: added more and more tags: FALSE, TRUE, YES, NO,
	VISIBLE_LINES, ENUM_DATA_TAG, FLAGS_DATA_TAG, ...

2004-06-15  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* propertyclass.py: several bugs fixed

	* widgetclass.py: several bugs fixed

	* editor.py: first attempt to implement properties editing. So far the
	general tab is filled with controls but several things are broken.

	* pyglade.py: added two handy command flags to dump specs and glade
	properties

	* gladegtk.py : added a lot of stubs to avoid warnings

	* util.py : added utility function xml_get_property_boolean and renamed
	get_text_from_xml_node to xml_get_text_from_node. Also cleaned
	has_nodes

	* tags.py: added several tags

	* projectwindow.py (ProjectWindow._quit_cb): commented the call to
	confirm_close_project because it was being annoying

	* util.py (has_nodes): fixed a bug that was making has_nodes work wrong

2004-06-14  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* gladegtk.py (_ask_for_number): added this function to ask for the
	size of the boxes

	* widget.py: fixed the typo with fill_emtpy_function, implemented the
	important set_widget and get_parent methods, also added some event
	handlers

	* widgetclass.py: lots of changes: widget_class is a class field now,
	and we actually use this cache, fixed a bug that was making
	fill_empty_function to get lost on the way, implemented the merged
	logic and added a dummy function _direct_children

	* propertyclass.py (PropertyClass.__init__): changed the constructor
	so we can create a propertyclass from another one (aka clone). Also
	added a readonly property for 'is_modified'

	* gladegtk.py: added several functions: ignore,
	glade_gtk_container_replace_child and glade_gtk_container_fill_empty

	* pyglade.py: use the project_window global from the projectwindow
	module

	* placeholder.py: moved the import pyglade to a local scope and
	substitute it with import projectwindow

	* command.py: moved the import projectwindow to a local scope to avoid
	import cycles
	(create): unselect the widget after creating it

	* util.py (get_parent): changed the parameter name to improve code
	readability

	* project.py: changed the add_widget signal parameter from TYPE_POINTER
	to TYPE_PYOBJECT

	* tags.py (EVENT_HANDLER_CONNECTED): added

	* projectwindow.py (ProjectWindow.get_palette): added a readonly
	property for the palette. Also put the global project_window here
	instead of in pyglade.py

	* pyglade.py: added a check for PyGTK 2.3.93

	* editor.py : added some dummy methods to avoid exceptions

	* util.py : new functions: has_nodes, add_nodes and remove_nodes

	* projectwindow.py : implement some more methods

	* pyglade.py (project_window): put project_window as a global

2004-06-13  Lorenzo Gil Sanchez  <lgs@sicem.biz>

	* project.py: implement some more methods

	* property.py (Property.__init__): removed the check for TYPE_OBJECT
	since we don't support those properties

	* widget.py (Widget.__init__): changed the order of the sentences

	* cursor.py (set): fixed the number of arguments

	* widgetclass.py : added some checks because we don't support
	TYPE_OBJECT properties

	* popup.py: added popup menues utility functions

	* placeholder.py : class implemented
	

