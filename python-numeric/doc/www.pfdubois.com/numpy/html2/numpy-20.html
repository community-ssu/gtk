<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 6.0/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="numpy.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE> 18.	 Independent Random Streams</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">
<H1 CLASS="Chapter">
<A NAME="pgfId-290702"></A>18.	 <A NAME="46054"></A><A NAME="71863"></A>Independent Random Streams</H1>
<P CLASS="ChapterDescription">
<A NAME="pgfId-304418"></A>The RNG package provides any number of independent random number generators tied to a distribution. Distributions include exponential, normal, and log-normal distributions, but adding others is not difficult. Contributions of code for other distributions are welcome! </P>
<DIV>
<H6 CLASS="FM1Heading">
<A NAME="pgfId-304780"></A>Background</H6>
<P CLASS="Body">
<A NAME="pgfId-304786"></A>RNG was written by Konrad Hinsen based on the package URNG by Paul Dubois and Fred Fritsch of LLNL. This package has been released for unlimited redistribution. Please see <A HREF="numpy-16.html#66303" CLASS="XRef">License and disclaimer for packages MA, RNG, Properties</A>.</P>
</DIV>
<DIV>
<H6 CLASS="FM1Heading">
<A NAME="pgfId-304419"></A>Usage</H6>
<P CLASS="Body">
<A NAME="pgfId-304420"></A>Package RNG installs two modules: RNG.RNG, and RNG.ranf. The former is a C extension that does the generation. The latter is an easy-to-use interface for a single uniform distribution.</P>
<DIV>
<H6 CLASS="FM2Heading">
<A NAME="pgfId-304559"></A>Module RNG</H6>
<P CLASS="Body">
<A NAME="pgfId-304558"></A>Module RNG defines the function:</P>
<P CLASS="Body">
<A NAME="pgfId-304421"></A>CreateGenerator(s, distribution=UniformDistribution(0., 1.)) </P>
<P CLASS="Body">
<A NAME="pgfId-304422"></A>creates a new random number generator with a distribution. The random numbers produced by the generator sample the distribution and are independent of other generators created earlier or later. Its first argument, an integer, determines the initial state: </P>
<UL>
<LI CLASS="Bullet">
<A NAME="pgfId-304423"></A> &lt; 0 ; Use the default initial seed value. </LI>
<LI CLASS="Bullet">
<A NAME="pgfId-304462"></A>0 ; Set a random value for the seed from the system clock. </LI>
<LI CLASS="Bullet">
<A NAME="pgfId-304463"></A>&gt;0 ; Set seed directly (32 bits only). </LI>
</UL>
<P CLASS="Body">
<A NAME="pgfId-304424"></A>The default distribution is a uniform distribution on [0., 1.); other distributions are obtained by supplying a second argument which must be a distribution. Currently RNG defines the following distribution types: </P>
<UL>
<LI CLASS="Bullet">
<A NAME="pgfId-304425"></A>UniformDistribution(a, b) -- a uniform distribution of numbers in the interval [a, b) </LI>
<LI CLASS="Bullet">
<A NAME="pgfId-304482"></A>NormalDistribution(mu, sigma) -- a normal distribution with mean mu and standard deviation sigma </LI>
<LI CLASS="Bullet">
<A NAME="pgfId-304483"></A>ExponentialDistribution(l) -- an exponential distribution of positive numbers with decay constant l. </LI>
<LI CLASS="Bullet">
<A NAME="pgfId-304484"></A>LogNormalDistribution(mean, std) -- a log normal distribution with given mean and standard deviation.</LI>
</UL>
<DIV>
<H6 CLASS="FM3Heading">
<A NAME="pgfId-304635"></A>Generator objects</H6>
<P CLASS="FirstBody">
<A NAME="pgfId-304639"></A>Once a generator is created, it contains these methods:</P>
<UL>
<LI CLASS="Bullet">
<A NAME="pgfId-304644"></A>sample(n) will return an array of n samples from the generator.</LI>
<LI CLASS="Bullet">
<A NAME="pgfId-304654"></A>ranf() will return one sample from the generator.</LI>
</UL>
</DIV>
</DIV>
<DIV>
<H6 CLASS="FM2Heading">
<A NAME="pgfId-304493"></A>Module ranf</H6>
<P CLASS="FirstBody">
<A NAME="pgfId-304568"></A>Module ranf, whose main function ranf() is equivalent to the old ranf generator on Cray 1 computers, defines these facilities.</P>
<P CLASS="FirstBody">
<A NAME="pgfId-304497"></A>Attribute standard_generator is an instance of RNG.UniformDistribution(0., 1.).</P>
<P CLASS="Body">
<A NAME="pgfId-304534"></A>ranf(): returns a random number from the standard_generator.</P>
<P CLASS="Body">
<A NAME="pgfId-304545"></A>random_sample(*n) returns a Numeric array of samples from the standard_generator.</P>
<P CLASS="Python">
<A NAME="pgfId-304508"></A>random_sample(n) = array of n random numbers;</P>
<P CLASS="Python">
<A NAME="pgfId-304509"></A>random_sample(n1, n2, ...)= array of shape (n1, n2, ..)</P>
</DIV>
</DIV>
<DIV>
<H6 CLASS="FM1Heading">
<A NAME="pgfId-304426"></A>Examples</H6>
<P CLASS="Body">
<A NAME="pgfId-304427"></A>The test routine Demo/RNGdemo.py illustrates some common usage of both RNG and Numeric.</P>
<P CLASS="Body">
<A NAME="pgfId-304428"></A>The test routine RNGtest2.py combines RNG with Konrad Hinsen's Statistics package to do a test of the log normal distribution.</P>
<P CLASS="Body">
<A NAME="pgfId-304616"></A>Here is one function from RNGdemo.py, showing a test of a normal distribution.</P>
<P CLASS="Python">
<A NAME="pgfId-304574"></A>from Numeric import *</P>
<P CLASS="Python">
<A NAME="pgfId-304579"></A>import RNG</P>
<P CLASS="Python">
<A NAME="pgfId-304580"></A>&nbsp;</P>
<P CLASS="Python">
<A NAME="pgfId-304581"></A>def test_normal (mean, std, n=10000):</P>
<P CLASS="Python">
<A NAME="pgfId-304582"></A>    dist = RNG.NormalDistribution(mean, std)</P>
<P CLASS="Python">
<A NAME="pgfId-304583"></A>    rng = RNG.CreateGenerator(0, dist)</P>
<P CLASS="Python">
<A NAME="pgfId-304584"></A>    values = rng.sample(n)</P>
<P CLASS="Python">
<A NAME="pgfId-304585"></A>    m = sum(values)/n</P>
<P CLASS="Python">
<A NAME="pgfId-304586"></A>    s = sqrt(sum((values-m)**2)/n)</P>
<P CLASS="Python">
<A NAME="pgfId-304587"></A>    return (m, s)</P>
</DIV>
<P><A HREF="numpy.html">Go to Main</A>      <A HREF="numpy-19.html">Go to Previous</A>       <A HREF="numpy-21.html">Go to Next</A></P>
</BODY>
</HTML>
