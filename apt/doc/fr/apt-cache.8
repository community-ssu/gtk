.\"Generated by db2man.xsl. Don't modify this, modify the source.
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "APT-CACHE" 8 "29 Février 2004" "Linux" ""
.SH NAME
apt-cache \- Gestion des paquets et manipulation du cache par APT
.SH "SYNOPSIS"
.ad l
.hy 0
.HP 10
\fBapt\-cache\fR [\fB\-hvsn\fR] [\fB\-o=\fIoption\ de\ configuration\fR\fR] [\fB\-c=\fIfichier\fR\fR] {\fBadd\ \fIfichier\fR...\fR | \fBgencaches\fR | \fBshowpkg\ \fIpaquet\fR...\fR | \fBshowsrc\ \fIpaquet\fR...\fR | \fBstats\fR | \fBdump\fR | \fBdumpavail\fR | \fBunmet\fR | \fBsearch\ \fIregex\fR\fR | \fBshow\ \fIpaquet\fR...\fR | \fBdepends\ \fIpaquet\fR...\fR | \fBrdepends\ \fIpaquet\fR...\fR | \fBpkgnames\ \fIprefix\fR\fR | \fBdotty\ \fIpaquet\fR...\fR | \fBpolicy\ \fIpaquets\fR...\fR | \fBmadison\ \fIpaquets\fR...\fR}
.ad
.hy

.SH "DESCRIPTION"

.PP
 \fBapt\-cache\fR réalise différentes opérations sur le cache de paquet d' APT\&. \fBapt\-cache\fR ne manipule pas l'état du système mais fournit des moyens de recherche dans les métadonnées d'un paquet desquelles il extrait d'intéressantes informations\&.

.PP
À moins que l'option \fB\-h\fR ou \fB\-\-help\fR ne soit donnée, l'une des commandes suivantes doit être présente\&.

.TP
add \fIfichier(s)\fR
La commande add ajoute des fichiers indexant des paquets au cache des paquets\&. Cela sert uniquement pour le débogage\&.

.TP
gencaches
La commande gencaches fait la même chose que \fBapt\-get check\fR\&. Elle construit les caches des sources et des paquets à partir des sources répertoriées dans \fB\fIsources\&.list\fR\fR(5)   et dans \fI/var/lib/dpkg/status\fR\&.

.TP
showpkg \fIpaquet(s)\fR
La commande showpkg affiche des informations sur les paquets donnés en argument\&. Les arguments restants sont les noms de paquets\&. Les versions disponibles et les dépendances inverses de chaque paquet répertorié sont listées, ainsi que les dépendances normales pour chaque version\&. Les dépendances normales d'un paquet sont constituées par les paquets dont il dépend\~; les dépendances inverses sont les paquets qui dépendent du paquet en question\&. Les dépendances normales doivent donc être satisfaites et les dépendances inverses n'ont pas besoin de l'être\&. Ainsi, la commande \fBapt\-cache showpkg libreadline2\fR donnera ce résultat\~:


.IP

.nf

Package: libreadline2
Versions: 2\&.1\-12(/var/state/apt/lists/foo_Packages),
Reverse Depends: 
  libreadlineg2,libreadline2
  libreadline2\-altdev,libreadline2
Dependencies:
2\&.1\-12 \- libc5 (2 5\&.4\&.0\-0) ncurses3\&.0 (0 (null))
Provides:
2\&.1\-12 \- 
Reverse Provides: 

.fi
On peut voir que libreadline2, version 2\&.1\-12, dépend de libc5, ncurses3\&.0\~; ces paquets doivent être installés au préalable pour que libreadline2 fonctionne\&. À leur tour, libreadlineg2 et libreadline2\-altdev dépendent de libreadline2\&. Si libreadline2 est installé, libc5 et ncurses3\&.0 doivent être installés\~; libreadlineg2 et libreadline2\-altdev n'ont pas à l'être\&. Pour connaître le sens de la fin de chaîne, il est préférable de consulter le code source d'APT\&.

.TP
stats
La commande stats affiche des statistiques à propos du cache\&. Aucun autre argument n'est attendu\&. Voici les informations rapportées\~: 

.RS
.TP 3
\(bu
 Total package names est le nombre de paquets trouvés dans le cache\&.
.TP
\(bu
 Normal packages est le nombre de paquets simples, ordinaires\~; ces paquets tolèrent une correspondance bijective entre leur nom et le nom utilisé par les autres paquets pour les qualifier comme dépendance\&. La majorité des paquets appartient à cette catégorie\&.
.TP
\(bu
 Pure virtual packages est le nombre des paquets qui n'existent que sous la forme d'un nom représentant un paquet virtuel\~; ces paquets «\~fournissent\~» seulement un nom de paquet virtuel et aucun paquet n'utilise véritablement ce nom\&. Par exemple, au sein du système Debian GNU/Linux, le nom «\~mail\-transport\-agent\~» est un paquet virtuel pur\~; plusieurs paquets peuvent «\~remplir\~» ce nom «\~mail\-transport\-agent\~», mais il n'existe aucun paquet nommé «\~mail\-transport\-agent\~»\&.
.TP
\(bu
 Single virtual packages est le nombre de paquets virtuels qui ne peuvent être remplis que par un seul paquet\&. Par exemple, au sein du système Debian GNU/Linux, «\~X11\-text\-viewer\~» est un paquet virtuel\~; seul le paquet «\~xless\~» remplit «\~X11\-text\-viewer\~»\&.
.TP
\(bu
 Mixed virtual packages est le nombre des paquets qui remplissent un paquet virtuel particulier ou dont le nom est un nom de paquet virtuel\&. Par exemple, au sein du système Debian GNU/Linux, «\~debconf\~» est un paquet réel et il est aussi fourni par «\~debconf\-tiny\~»\&.
.TP
\(bu
 Missing est le nombre de paquets référencés dans une dépendance mais qui ne sont fournis par aucun paquet\&. Les paquets manquants peuvent être mis en évidence quand on n'accède pas à une distribution complète ou si un paquet (réel ou virtuel) a été sorti d'une distribution\&. Habituellement on les trouve dans les champs «\~Conflicts\~»\&.
.TP
\(bu
 Total distinct versions est le nombre de versions de paquets trouvées dans le cache\~; cette valeur est par conséquent au moins égale au nombre total de paquets\&. Quand on accède à plus d'une distribution («\~stable\~» et «\~unstable\~», par exemple), cette valeur peut être considérablement plus grande que le nombre total de paquets\&.
.TP
\(bu
 Total dependencies est le nombre de relations de dépendances déclarées par tous les paquets présents dans le cache\&.
.LP
.RE
.IP
 

.TP
showsrc \fIpaquet(s)\fR
 showsrc affiche toutes les entrées de paquet source qui correspondent aux noms donnés\&. Toutes les versions sont affichées et toutes les entrées qui déclarent que ces noms correspondent à des paquets binaires\&.

.TP
dump
La commande dump affiche un court résumé sur chaque paquet du cache\&. Elle est d'abord destinée au débogage\&.

.TP
dumpavail
La commande dumpavail affiche sur la sortie standard une liste des paquets disponibles\&. Elle convient à une utilisation avec \fB\fBdpkg\fR\fR(8)   et la méthode \fB\fBdselect\fR\fR(8) s'en sert\&.

.TP
unmet
La commande unmet affiche un résumé concernant toutes les dépendances absentes dans le cache de paquets\&.

.TP
show \fIpaquet(s)\fR
La commande show est semblable à \fBdpkg \-\-print\-avail\fR\~; elle affiche des informations sur les paquets donnés en argument\&.

.TP
search \fIregex [ regex \&.\&.\&. ]\fR
La commande search recherche l'expression régulière donnée en argument sur tous les paquets disponibles\&. Elle cherche une occurrence de la chaîne dans les noms de paquets et dans les descriptions puis elle affiche le nom du paquet et sa description courte\&. Quand on donne l'option \fB\-\-full\fR, la sortie est identique à show pour chaque paquet\~; l'option \fB\-\-names\-only\fR ne recherche pas la chaîne dans les descriptions longues mais seulement dans les noms de paquets\&.

On peut utiliser des arguments distincts pour indiquer des expressions régulières différentes sur lesquelles sera réalisé un «\~et\~» logique\&.

.TP
depends \fIpaquet(s)\fR
La commande depends affiche la liste de toutes les dépendances d'un paquet et la liste de tous les paquets possibles qui satisfont ces dépendances\&.

.TP
rdepends \fIpaquet(s)\fR
La commande rdepends affiche la liste de toutes les dépendances inverses d'un paquet\&.

.TP
pkgnames \fI[ prefix ]\fR
Cette commande affiche le nom de chaque paquet du système\&. Un préfixe pour filtrer la liste des noms peut être donné en argument\&. La sortie est appropriée à une utilisation au sein d'une fonction complète de shell\~; elle est produite très rapidement\&. On utilise au mieux cette commande avec l'option \fB\-\-generate\fR\&.

.TP
dotty \fIpaquet(s)\fR
La commande dotty prend une liste de paquets sur la ligne de commande et affiche une sortie appropriée à une utilisation par la commande dotty du paquet GraphViz: \fIhttp://www.research.att.com/sw/tools/graphviz/\fR\&. Il en résulte un ensemble de noeuds et d'arcs représentant les relations entre les paquets\&. Par défaut les paquets donnés en argument suivent toutes leurs dépendances, ce qui peut produire un graphe très volumineux\&. Pour limiter la sortie aux seuls paquets listés sur la ligne de commande, positionnez l'option APT::Cache::GivenOnly\&.

Les noeuds résultants ont plusieurs formes\~; les paquets normaux sont des boîtes, les «\~provides\~» purs sont des triangles, les «\~provides\~» mixtes sont des diamants et les paquets manquants sont des hexagones\&. Les boîtes oranges expriment un arrêt de la récursivité [paquet feuille], les lignes bleues représentent des prédépendances et les lignes vertes représentent des conflits\&.

Attention, dotty ne peut pas représenter des ensembles très grands de paquets\&.

.TP
policy \fI[ paquet(s) ]\fR
 policy sert à déboguer des problèmes relatifs au fichier des préférences\&. Sans argument, la commande affiche la priorité de chaque source\&. Sinon, elle affiche des informations précises sur la priorité du paquet donné en argument\&.

.TP
madison \fI[ paquet(s) ]\fR
La commande madison d'apt\-cache cherche à mimer le format de sortie propre à l'outil debian de gestion d'archives, madison, ainsi qu'une part de ses fonctionnalités\&. Elle affiche les versions disponibles d'un paquet dans un tableau\&. Contrairement au programme original madison, elle n'affiche que des informations concernant l'architecture pour laquelle Apt a lu la liste des paquets disponibles (APT::Architecture)\&.

.SH "OPTIONS"

.PP
Toutes les options en ligne de commande peuvent être positionnées via le fichier de configuration\~; les descriptifs indiquent l'option de configuration à positionner\&. En ce qui concerne les options booléennes, on peut annuler le fichier de configuration en utilisant quelque chose comme \fB\-f\-\fR,\fB\-\-no\-f\fR, \fB\-f=no\fR ou d'autres variantes\&.

.TP
\fB\-p\fR, \fB\-\-pkg\-cache\fR
Indique le fichier servant de cache des paquets\&. Le cache des paquets est le cache primaire utilisé par toutes les opérations\&. Élément de configuration\~: Dir::Cache::pkgcache\&.

.TP
\fB\-s\fR, \fB\-\-src\-cache\fR
Indique le fichier servant de cache des sources\&. Ce cache n'est utilisé que par gencaches\~; une version des informations sur les paquets, faite à partir d'une analyse de sources distantes, est conservée\&. Quand le cache des paquets est créé, le cache des sources est utilisé afin d'éviter d'analyser à nouveau tous les paquets\&. Élément de configuration\~: Dir::Cache::srcpkgcache\&.

.TP
\fB\-q\fR, \fB\-\-quiet\fR
Mode silencieux\~; produit une sortie pertinente pour l'enregistrement dans un fichier\-journal, sans afficher d'indicateur de progression\&. Un plus grand nombre de q produira un plus grand silence, avec un maximum de 2\&. Vous pouvez aussi utiliser \fB\-q=#\fR pour positionner le niveau de silence, annulant le fichier de configuration\&. Élément de configuration\~: quiet\&.

.TP
\fB\-i\fR, \fB\-\-important\fR
N'affiche que les dépendances importantes\~; à utiliser avec la commande unmet pour n'afficher que les relations Depends et Pre\-Depends\&. Élément de configuration\~: APT::Cache::Important\&.

.TP
\fB\-f\fR, \fB\-\-full\fR
Affiche la totalité des champs d'information sur le paquet lors d'une recherche\&. Élément de configuration\~: APT::Cache::ShowFull\&.

.TP
\fB\-a\fR, \fB\-\-all\-versions\fR
Affiche la totalité des champs d'information pour toutes les versions disponibles\~: c'est la valeur par défaut\&. Pour la désactiver, utilisez l'option \fB\-\-no\-all\-versions\fR\&. Quand l'option \fB\-\-no\-all\-versions\fR est choisie, seuls les éléments de la version choisie (celle qui serait installée) seront affichés\&. Cette option concerne seulement la commande show\&. Élément de configuration\~: APT::Cache::AllVersions\&.

.TP
\fB\-g\fR, \fB\-\-generate\fR
Réalise une mise à jour automatique du cache des paquets plutôt que de se servir du cache actuel\&. Pour désactiver cette option (option par défaut), utilisez l'option \fB\-\-no\-generate\fR\&. Élément de configuration\~: APT::Cache::Generate\&.

.TP
\fB\-\-names\-only\fR, \fB\-n\fR
N'effectue une recherche que sur les noms de paquets et pas sur les descriptions longues\&. Élément de configuration\~: APT::Cache::NamesOnly\&.

.TP
\fB\-\-all\-names\fR
Avec cette option pkgnames affiche tous les noms, les noms des paquets virtuels et les dépendances manquantes\&. Élément de configuration\~: APT::Cache::AllNames\&.

.TP
\fB\-\-recurse\fR
Avec cette option depends et rdepends sont récursives de manière à n'afficher qu'une seule fois les paquets mentionnés\&. Élément de configuration\~: APT::Cache::RecurseDepends\&.

.TP
\fB\-\-installed\fR
Cette option limite la sortie de depends et de rdepends aux paquets qui sont actuellement installés\&. Élément de configuration\~: APT::Cache::Installed\&.

.TP
\fB\-h\fR, \fB\-\-help\fR
Affiche un mode d'emploi succinct\&.

.TP
\fB\-v\fR, \fB\-\-version\fR
Affiche la version du programme\&.

.TP
\fB\-c\fR, \fB\-\-config\-file\fR
Fichier de configuration\~; indique quel fichier de configuration utiliser\&. Le programme lit le fichier de configuration par défaut, puis celui\-ci\&. Voyez \fB\fIapt\&.conf\fR\fR(5)  pour la syntaxe\&.

.TP
\fB\-o\fR, \fB\-\-option\fR
Donne une option de configuration\~; cela fixe une option de configuration arbitraire\&. La syntaxe est : \fB\-o Foo::Bar=bar\fR\&.

.SH "FICHIERS"

.TP
\fI/etc/apt/sources\&.list\fR
Emplacements où aller chercher les paquets\&. Élément de configuration\~: Dir::Etc::SourceList\&.

.TP
\fI/var/lib/apt/lists/\fR
Zone de stockage pour les informations qui concernent chaque ressource de paquet spécifiée dans \fB\fIsources\&.list\fR\fR(5)   Élément de configuration\~: Dir::State::Lists\&.

.TP
\fI/var/lib/apt/lists/partial/\fR
Zone de stockage pour les informations en transit\&. Élément de configuration\~: Dir::State::Lists (partial est implicite)\&.

.SH "VOIR AUSSI"

.PP
 \fB\fIapt\&.conf\fR\fR(5)  , \fB\fIsources\&.list\fR\fR(5)  , \fB\fBapt\-get\fR\fR(8) \&.

.SH "DIAGNOSTICS"

.PP
 \fBapt\-cache\fR retourne zéro après un déroulement normal, et le nombre décimal 100 en cas d'erreur\&.

.SH "BOGUES"

.PP
Voyez la page concernant les bogues de APT: \fIhttp://bugs.debian.org/src:apt\fR\&. Si vous voulez rapporter un bogue, consultez le texte \fI/usr/share/doc/debian/bug\-reporting\&.txt\fR ou utilisez la commande \fB\fBreportbug\fR\fR(1) \&.

.SH "TRADUCTION"

.PP
Jérôme Marant\&. 2000\~; mise à jour : Philippe Batailler\&. 2005\&.

.SH AUTHORS
Jason Gunthorpe, APT team.
