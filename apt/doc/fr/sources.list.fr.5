.\"     Title: sources.list
.\"    Author: Jason Gunthorpe
.\" Generator: DocBook XSL Stylesheets v1.71.0 <http://docbook.sf.net/>
.\"      Date: 29 February 2004
.\"    Manual: 
.\"    Source: Linux
.\"
.TH "SOURCES.LIST" "5" "29 February 2004" "Linux" ""
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.SH "NOM"
sources.list \- Liste des sources de paquets
.SH "DESCRIPTION"
.PP
La liste des sources de paquets indique où trouver les archives du système de distribution de paquets utilisé. Pour l'instant, cette page de manuel ne documente que le système d'empaquetage utilisé par le système Debian GNU/Linux. Ce fichier de contrôle est
\fI/etc/apt/sources.list\fR.
.PP
La liste des sources est conçue pour prendre en compte un nombre quelconque de sources actives et différents média. Le fichier présente une source par ligne et la source préférée apparaît en premier. Le format de chaque ligne est\ :
type uri args. Le premier élément,
type, détermine le format des
args.
uri
est un identificateur universel de ressources (URI), qui est un sur\-ensemble du plus spécifique et bien connu repère universel de ressources, ou URL. La fin de la ligne peut être un commentaire commençant par un caractère #.
.SH "SOURCES.LIST.D"
.PP
Le répertoire
\fI/etc/apt/sources.list.d\fR
permet de lister des sources de paquets dans des fichiers distincts qui se terminent par
.list. Leur format est le même que celui du fichier
\fIsources.list\fR.
.SH "LES TYPES DEB ET DEB\-SRC."
.PP
Le type
deb
décrit une archive Debian classique à deux niveaux,
\fIdistribution/composant\fR.
distribution
peut prendre l'une des valeurs suivantes\ :
stable,
unstable, ou
testing, et composant\ :
main,
contrib,
non\-free, ou
non\-us. Le type
deb\-src
décrit le code source pour une distribution Debian dans le même format que le type
deb. Une ligne
deb\-src
est nécessaire pour récupérer les index des sources.
.PP
Le format d'une entrée dans
\fIsources.list\fR
utilisant les types
deb
et
deb\-src
est de la forme\ :
.sp
.RS 3n
.nf
deb uri distribution [composant1] [composant2] [...]
.fi
.RE
.PP
L'URI de type
deb
doit indiquer la base de la distribution Debian dans laquelle APT trouvera les informations dont il a besoin.
distribution
peut spécifier le chemin exact\ : dans ce cas, on doit omettre les composants et
distribution
doit se terminer par une barre oblique (/). C'est utile quand seule une sous\-section particulière de l'archive décrite par cet URI est intéressante. Quand
distribution
n'indique pas un chemin exact, un
composant
au moins doit être présent.
.PP

distribution
peut aussi contenir une variable
$(ARCH), qui sera remplacée par l'architecture Debian (i386, m68k, powerpc, ...) sur laquelle s'exécute le système. On peut ainsi utiliser un fichier
\fIsources.list\fR
qui ne dépend pas d'une architecture. En général, ce n'est intéressant que si l'on indique un chemin exact\ ; sinon
APT
crée automatiquement un URI en fonction de l'architecture effective.
.PP
Puisqu'on ne peut indiquer qu'une seule distribution par ligne, il peut être nécessaire de disposer le même URI sur plusieurs lignes quand on veut accéder à un sous\-ensemble des distributions ou composants disponibles à cette adresse. APT trie les URI après avoir crée pour lui\-même la liste complète\ ; il regroupe les références multiples au même hôte Internet en vue d'une connexion unique et il évite ainsi, par exemple, d'établir une connexion FTP, de la fermer, faire autre chose, puis d'établir encore cette connexion. Cette fonctionnalité permet l'accès à des sites FTP surchargés qui limitent le nombre de connexions simultanées pour les utilisateurs anonymes. APT parallélise aussi les connexions à différents hôtes pour tirer plus efficacement parti des sites à faible bande passante.
.PP
Il est important d'indiquer les sources par ordre de préférence, la source principale apparaissant en premier. Un tri est fait, de la plus rapide à la plus lente\ ; par exemple, un cédérom suivi par les hôtes d'un réseau local, puis les hôtes distants.
.PP
Voici quelques exemples\ :
.sp
.RS 3n
.nf
deb http://http.us.debian.org/debian stable main contrib non\-free
deb http://http.us.debian.org/debian dists/stable\-updates/
   
.fi
.RE
.SH "LA SPÉCIFICATION DES URI"
.PP
Les URI actuellement reconnus sont\ : cdrom, file, http et ftp.
.PP
file
.RS 3n
Le procédé
file
permet qu'un répertoire arbitraire au sein du système de fichier soit considéré comme une archive. On s'en sert avec les montages NFS, les miroirs et les archives locaux.
.RE
.PP
cdrom
.RS 3n
Le procédé
cdrom
permet l'utilisation d'un lecteur de cédérom avec la possibilité de changer de media. Utilisez le programme
\fBapt\-cdrom\fR(8)
pour créer des entrées dans la liste des sources.
.RE
.PP
http
.RS 3n
Le procédé
http
indique un serveur HTTP comme archive. Si une variable d'environnement
\fBhttp_proxy\fR
(au format http://server:port/) existe, le serveur mandataire indiqué par
\fBhttp_proxy\fR
est utilisé. Quand un serveur mandataire HTTP/1.1 demande une authentification, on peut utiliser la chaîne http://user:pass@server:port/. Notez qu'il s'agit d'une méthode d'authentification peu sûre.
.RE
.PP
ftp
.RS 3n
Le procédé
ftp
indique un serveur FTP comme archive. Le fonctionnement en mode ftp est largement configurable\ ; référez\-vous à la page de manuel de
\fBapt\-cdrom\fR(8)
pour d'autres informations. On remarquera qu'on peut indiquer un mandataire ftp avec la variable d'environnement
\fBftp_proxy\fR. On peut aussi spécifier un mandataire http (les serveurs mandataires http comprennent souvent les URL ftp) en utilisant cette méthode et SEULEMENT cette méthode. Les mandataires ftp utilisant http et qui sont spécifiés dans le fichier de configuration seront ignorés.
.RE
.PP
copy
.RS 3n
Le procédé
copy
est identique au procédé
file
excepté que les paquets sont copiés dans le cache du répertoire au lieu d'être utilisés directement depuis leur emplacement. C'est utile aux gens qui utilisent un disque zip pour recopier des fichiers avec APT.
.RE
.PP
rsh, ssh
.RS 3n
Le procédé rsh/ssh utilise rsh/ssh pour se connecter à une machine distante en tant que tel utilisateur donné et pour accéder aux fichiers. Aucune authentification par mot de passe n'est possible\ : il faut au préalable régler ce problème avec des clés RSA ou bien rhosts. Pour l'accès aux fichiers de la machine distante et le transfert, on utilise les commandes standard
\fBfind\fR
et
\fBdd\fR.
.RE
.SH "EXEMPLES"
.PP
Utiliser l'archive stockée localement (ou montée via NFS) dans /home/jason/debian pour stable/main, stable/contrib et stable/non\-free.
.sp
.RS 3n
.nf
deb file:/home/jason/debian stable main contrib non\-free
.fi
.RE
.PP
Comme ci\-dessus, excepté que cette ligne utilise la distribution \(Fo\ unstable\ \(Fc (développement).
.sp
.RS 3n
.nf
deb file:/home/jason/debian unstable main contrib non\-free
.fi
.RE
.PP
La précédente ligne, mais pour les sources.
.sp
.RS 3n
.nf
deb\-src file:/home/jason/debian unstable main contrib non\-free
.fi
.RE
.PP
Utiliser HTTP pour accéder à l'archive située à archive.debian.org, et n'utiliser que la section hamm/main.
.sp
.RS 3n
.nf
deb http://archive.debian.org/debian\-archive hamm main
.fi
.RE
.PP
Utiliser FTP pour accéder à l'archive située à ftp.debian.org, dans le répertoire debian, et n'utiliser que la section stable/contrib.
.sp
.RS 3n
.nf
deb ftp://ftp.debian.org/debian stable contrib
.fi
.RE
.PP
Utiliser FTP pour accéder à l'archive située à ftp.debian.org, dans le répertoire debian, et n'utiliser que la section unstable/contrib. Si cette ligne et celle de l'exemple précédent dans
\fIsources.list\fR
apparaissent, une seule session FTP sera utilisée pour les deux lignes.
.sp
.RS 3n
.nf
deb ftp://ftp.debian.org/debian unstable contrib
.fi
.RE
.PP
Utiliser HTTP pour accéder à l'archive située à nonus.debian.org, dans le répertoire debian\-non\-US.
.sp
.RS 3n
.nf
deb http://nonus.debian.org/debian\-non\-US stable/non\-US main contrib non\-free
.fi
.RE
.PP
Utiliser HTTP pour accéder à l'archive située à nonus.debian.org, dans le répertoire debian\-non\-US, et n'utiliser que les fichiers trouvés dans
\fIunstable/binary\-i386\fR
pour les machines i386, dans
\fIunstable/binary\-m68k\fR
pour les machines m68k et ainsi de suite pour les autres architectures reconnues. [Notez que cet exemple montre seulement la manière d'utiliser la variable à substituer, non\-us n'étant plus structuré de cette manière.]
.sp
.RS 3n
.nf
deb http://ftp.de.debian.org/debian\-non\-US unstable/binary\-$(ARCH)/
.fi
.RE
.SH "VOIR AUSSI"
.PP
\fBapt\-cache\fR(8)
\fBapt.conf\fR(5)
.SH "BOGUES"
.PP
Voyez la
[1]\&\fI page concernant les bogues d'APT\fR. Si vous voulez signaler un bogue, consultez le texte
\fI/usr/share/doc/debian/bug\-reporting.txt\fR
ou utilisez la commande
\fBreportbug\fR(1).
.SH "TRADUCTION"
.PP
Philippe Batailler.
<debian\-l10n\-french@lists.debian.org>. 2005.
.SH "AUTHORS"
.PP
\fBJason Gunthorpe\fR
.sp -1n
.IP "" 3n
Auteur.
.PP
\fBAPT team\fR
.sp -1n
.IP "" 3n
Auteur.
.SH "REFERENCES"
.TP 3
1.\ page concernant les bogues d'APT
\%http://bugs.debian.org/src:apt
