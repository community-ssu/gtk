.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "APT.CONF" "5" "10 November 2005" "" ""

.SH NAME
apt.conf \- Archivo de configuración de APT
.SH "DESCRIPCIóN"
.PP
\fIapt.conf\fR es el fichero principal de configuración del conjunto de
herramientas APT, todas las herramientas hacen uso del fichero de
configuración y un analizador común de sintaxis de la línea de órdenes
para proporcionar un entorno uniforme. Cuando se inicia una utilidad APT,
este leerá la configuración especificada en la variable de entorno
\fBAPT_CONFIG\fR (si existe), luego leerá los ficheos en
Dir::Etc::Parts, entonces leerá el fichero de configuración
principal especificado por Dir::Etc::main, finalmente aplicará
las opciones de la línea de órdenes para reescribir la directrices de la
configuración, posiblemente cargando incluso más ficheros de configuración.
.PP
El fichero de configuración está organizado en forma de árbol con las
opciones organizadas en grupos funcionales. Las opciones especificadas son
dadas con dobles dos puntos, por ejemplo APT::Get::Assume-Yes es
un opción de la función GET del conjunto de herramientas APT.
Las opciones no son heredadas de sus grupos padres.
.PP
Sintácticamente, el lenguaje de configuración es modelado como en utilidades
ISC, como bind y dhcp. Las líneas que comienzan con // se
tratan como comentarios (se ignoran). Cada línea es de la forma

.nf
APT::Get::Assume-Yes "true";
.fi
Los 
espacios entre los dos puntos son obligatorios, y las comillas son
opcionales. Un nuevo ámbito puede abrirse con llaves, por ejemplo:
.PP

.nf
   
APT {
  Get {
    Assume-Yes "true";
    Fix-Broken "true";
  };
};
.fi
con nuevas líneas en cada lugar para hacerlo más legible. Las listas pueden
crearse abriendo un nuevo ámbito e incluyendo una única palabra acotada
entre comillas seguido de un punto y coma. Pueden ser incluidas múltiples
entradas, cada una separada por un punto y coma.
.PP

.nf
   
DPkg::Pre-Install-Pkgs {"/usr/sbin/dpkg-preconfigure --apt";};
.fi
.PP
En general, el fichero de configuración de ejemplo
\fI/usr/share/doc/apt/examples/apt.conf\fR \fI/usr/share/doc/apt/examples/configure-index.gz\fR es una buena guía
para entender su aspecto.
.PP
Se permiten dos valores especiales, #include y #clear\&. 
#include incluirá el fichero dado, a menos que el final del nombre
del fichero acabe en una barra, entonces se incluye el directorio entero.
#clear se usa para suprimir la lista de nombres.
.PP
Todas las utilidades APT permiten la opción -o como una directriz
arbitraria de configuración que es especificada en la línea de órdenes. La
sintaxis es un nombre de opción completo (APT::Get::Assume-Yes
por ejemplo) seguido por signos de igualdad y el nuevo valor de la
opción. Las listas también pueden ser añadidas incluyendo :: al final del
nombre de la lista.
.SH "EL GRUPO APT"
.PP
Este grupo de opciones controlan la conducta general de APT así como el
mantenimiento de las opciones para todas las utilidades.
.TP
\fBArquitectura\fR
Arquitectura del sistema; ajusta la arquitectura a usar cuando se obtengan
los ficheros y se analicen las listas de paquetes. El valor por defecto es
la arquitectura para la que ha sido compilado apt.
.TP
\fBIgnore-Hold\fR
Ignorar paquetes retenidos: Esta opción global causa que el solucionador de
problemas ignore paquetes retenidos cuando tome decisiones.
.TP
\fBClean-Installed\fR
Activo por defecto. Cuando se activa la función de auto-limpieza, ésta
eliminará cualquier paquete de la caché que ya no pueda descargarse. Si se
desactiva, entonces los paquetes que están localmente instalados son
excluidos de la limpieza - nótese que APT no provee ningún medio directo
para reinstalarlos.
.TP
\fBImmediate-Configure\fR
Deshabilita la configuración inmediata: Esta peligrosa opción
deshabilita algunas partes del código de ordenación de APT para inducir a éste
a hacer pocas llamadas a dpkg. Hacer esto podría ser necesario en algún
sistema de usuario extremadamente lento, pero sería muy peligroso y
podría causar que los scripts de instalación del paquete fallaran o algo
peor. Úselo a su cuenta y riesgo.
.TP
\fBForce-LoopBreak\fR
Nunca habilite esta opción a menos que usted -realmente- conozca lo que
está haciendo. Esto permite a APT eliminar temporalmente un paquete
esencial para romper conflictos o bucles conflictos/pre-dependencias
entre dos paquetes esenciales. EL BUCLE NO DEBERÍA EXISTIR NUNCA COMO TAL
Y ES UN ERROR GRAVE. Esta opción trabajará si el paquete esencial no es
tar, gzip, libc, dpkg, bash o cualquier otro del que dependan estos
paquetes.
.TP
\fBCache-Limit\fR
APT usa un fichero de caché de memoria mapeada de tamaño fijo para
almacenar la información disponible. Esto fija el tamaño de esa caché.
.TP
\fBBuild-Essential\fR
Define que paquete(s) son considerados dependencias de construcción
esenciales.
.TP
\fBGet\fR
La subsección Get controla la herramienta \fBapt-get\fR(8), por favor, mire su
documentación para más información sobre esta opción.
.TP
\fBCache\fR
La subsección Cache controla la herramienta \fBapt-cache\fR(8), por favor, mire
su documentación para más información sobre esta opción.
.TP
\fBCDROM\fR
La subsección CDROM controla la herramienta \fBapt-cdrom\fR(8), por favor, mire
la documentación para más información sobre esta opción.
.SH "EL GRUPO ACQUIRE"
.PP
El grupo de opciones Acquire controla la descarga de paquetes y los
manejadores de URI.
.TP
\fBQueue-Mode\fR
Modo de cola; Queue-Mode puede ser host o
access que determina como paralelizar las conexiones salientes
de APT. host significa que se abrirá una conexión
por puesto de destino, access significa que será abierta una
conexión por cada tipo de URI.
.TP
\fBRetries\fR
Número de reintentos. Si es distinto de cero APT volverá a intentar obtener
los ficheros fallidos el número de veces dado.
.TP
\fBSource-Symlinks\fR
Usar enlaces simbólicos para los archivos fuente. Si es true los archivos
fuente se enlazarán a ser posible, en vez de copiarse. Por omisión es true.
.TP
\fBhttp\fR
HTTP URIs; http::Proxy es el proxy http predeterminado a usar. Usa el
formato general http://[[usuario][:clave]@]puesto[:puerto]/\&.
También se puede especificar un proxy por cada puesto usando la forma 
http::Proxy::<puesto> con la palabra especial DIRECT 
queriendo decir que no se use proxy. La variable de entorno
\fBhttp_proxy\fR modifica todas las preferencias.

Para los proxies que cumplen con HTTP/1.1 se proporcionan tres opciones de
configuración. No-Cache dice al proxy que no use su caché bajo
ninguna circunstancia, Max-Age sólo se envía para los ficheros de
índice y le pide a la caché que refresque su copia si es más antigua que
un determinado número de segundos. Debian actualiza sus ficheros de índices
diariamente, debido a esto el valor predeterminado es 1 día.
No-Store especifica que la caché nunca deberá almacenar la
petición, sólo está habilitada para los ficheros de archivo. Puede ser
útil para prevenir que un proxy se contamine con ficheros .deb muy
grandes. Nota: Squid 2.0.2 no soporta ninguna de estas opciones.

La opción timeout establece el tiempo máximo de espera del
método, esto se aplica a todo, incluyendo el tiempo de espera para realizar
la conexión y para recibir datos.

Se proporciona una opción para controlar la profundidad de la tubería en
casos en que el servidor no cumpla con RFC o tenga fallos (como pasa con
Squid 2.0.2).
Acquire::http::Pipeline-Depth puede ser un valor entre 0 y 5 
indicando cuantas peticiones sin resolver puede envíar APT. DEBE
especificarse si el puesto remoto no demora apropiadamente las conexiones
TCP - de otro modo los datos se corromperán. Los puesto que necesiten esto
violan el RFC 2068.
.TP
\fBftp\fR
FTP URIs; ftp::Proxy es el servidor proxy a usar de forma
predeterminada. Se encuentra en el formato estándar
ftp://[[usuario][:clave]@]puesto[:puerto]/ y se modifica mediante
la variable de entorno \fBftp_proxy\fR\&. Para usar un proxy ftp es
necesario establecer el script ftp::ProxyLogin en el fichero de
configuración. Esta entrada especifica órdenes que se mandan al servidor
proxy para decirle a donde debe conectarse. Consulte \fI/usr/share/doc/apt/examples/configure-index.gz\fR para
ver un ejemplo de como hacerlo. Las variables de substitución disponibles
son $(PROXY_USER), $(PROXY_PASS),
$(SITE_USER), $(SITE_PASS), $(SITE), y
$(SITE_PORT)\&. Cada una se toma del componete de la URI
correspondiente. 

La opción timeout establece el tiempo máximo de espera del
método, esto se aplica a todo, incluyendo el tiempo de espera para realizar
la conexión y para recibir datos.

Se proporcionan varias opciones para controlar el modo pasivo. Generalmente
es seguro dejar activado el modo pasivo, funciona en casi todos los
entornos. Sin embargo algunas situaciones requieren desactivar el modo
pasivo y usar el modo puerto e su lugar. Esto se puede hacer globalmente,
para conexiones a través de proxy o para un puesto específico (Consulte el
fichero de configuración de muestra para ver ejemplos).

Es posible usar proxy FTP a través de HTTP estableciendo la variable de
entorno \fBftp_proxy\fR a una dirección http - mire la discusión del
método http de arriba para la sintaxis. No se puede habilitar en el fichero
de configuración y no se recomienda su uso debido a su poca eficiencia.

La opción ForceExtended controla el uso de las órdenes de RFC2428 
EPSV y EPRT\&. Por omisión es false, que quiere decir que
sólo se usan si el control de conexión es IPv6. Poniéndolo a true fuerza su
uso incluso en conexiones IPv4. Dese cuenta que la mayoría de los
servidores FTP no soportan RFC2428.
.TP
\fBcdrom\fR
CDROM URIs; la única opción de configuración para los CDROM es el punto de
montaje, cdrom::Mount debe ser el punto de montaje de la unidad
de CDROM tal y como se especifica en \fI/etc/fstab\fR\&. Es posible
proporcionar órdenes mount y unmount alternativas si el punto de montaje no
puede especificarse en fstab (como con SMB y versiones de mount
antiguas). Respecto a la sintaxis se pone 

.nf
"/cdrom/"::Mount
     "tal";
.fi
dentro del bloque cdrom. Es importante no tener una
barra final. Las órdenes de unmount pueden especificarse usando UMount.
.SH "DIRECTORIOS"
.PP
La sección Dir::State contiene directorios que pertenecen a
información del estado local. lists es el directorio donde se
almacenan las listas de paquetes descargados y status es el nombre
del fichero de estado de dpkg.
preferences es el nombre del fichero de preferencias de APT.
Dir::State contiene el directorio que se usará como prefijo por
omisión en todas las opciones restantes en caso de que no empiezen con
\fI/\fR o \fI\&./\fR\&.
.PP
Dir::Cache contiene lugares pertenecientes a información de la
caché local, como las dos cachés de paquetes srcpkgcache y 
pkgcache o como el lugar donde se guardan los ficheros descargados, 
Dir::Cache::archives\&. La generación de cachés puede desactivarse
dejando sus nombres en blanco. Ésto enlentecerá el arranque pero ahorrará
espacio. Normalmente se prefiere deshabilitar pkgcache en vez de
srcpkgcache. Al igual que con Dir::State el directorio
predeterminado está en Dir::Cache
.PP
Dir::Etc contiene el lugar de los ficheros de configuración, 
sourcelist contiene el lugar de sourcelist y main es el
fichero de configuración predeterminado (esta opción de configuración no
tiene ningún efecto a menos que se realice desde el fichero de configuración
especificado por \fBAPT_CONFIG\fR).
.PP
La opción Dir::Parts lee en todos los fragementos de configuración
en orden léxico  desde el directorio
especificado. Después de esto se carga el fichero principal de configuración.
.PP
Dir::Bin apunta a los programas
binarios. Dir::Bin::Methods especifica la localización de los
manejadores de los métodos y gzip, dpkg,
apt-get, dpkg-source, dpkg-buildpackage y
apt-cache especifican la localización de los respectivos programas.
.SH "APT CON DSELECT"
.PP
Cuando APT se usa como método de \fBdselect\fR(8) varias directivas de configuración
controlan el comportamiento predeterminado. Se encuentran en la sección
DSelect\&.
.TP
\fBClean\fR
Modo de borrado de caché; este valor puede ser always, prompt, auto,
pre-auto y never. always y prompt borrarán todos los paquetes de la caché
después de actualizar, prompt (predeterminado) pregunta primero. 
auto borra sólo aquellos paquetes que ya no se pueden descargar (han sido
reemplazados por otra versión, por ejemplo). pre-auto realiza esta última
acción antes de descargar los paquetes nuevos.
.TP
\fBOptions\fR
El contenido de esta variable se pasa a \fBapt-get\fR(8) como opciones de línea de
ordenes cuando se ejecuta en la fase de instalación.
.TP
\fBUpdateOptions\fR
El contenido de esta variable se pasa a \fBapt-get\fR(8) como opciones de línea de
ordenes cuando se ejecuta en la fase de actualización.
.TP
\fBPromptAfterUpdate\fR
Si es true la operación de [U]pdate en \fBdselect\fR(8) preguntará siempre antes
de continuar. Por omisión sólo pregunta en caso de error.
.SH "COMO APT LLAMA A DPKG"
.PP
Varias directivas de configuración controlan como APT llama a \fBdpkg\fR(8)\&. Se
encuentran en la sección DPkg\&.
.TP
\fBOptions\fR
Lista de opciones que se pasan a dpkg. Las opciones deben especificarse
usando la notación de lista y cada elemento de la lista se pasa a \fBdpkg\fR(8)
como un sólo argumento.
.TP
\fBPre-Invoke\fR
.TP
\fBPost-Invoke\fR
Es una lista de órdenes de shell que se ejecutarán antes de llamar a
\fBdpkg\fR(8)\&. Como Options, debe de especificarse con notación de
lista. Las órdenes se ejecutan en orden usando \fI/bin/sh\fR, si
alguna falla APT abortará.
.TP
\fBPre-Install-Pkgs\fR
Lista de órdenes de shell que se ejecutarán antes de llamar a
\fBdpkg\fR(8)\&. Como Options, debe de especificarse con notación de
lista. Las órdenes se ejecutan en orden usando \fI/bin/sh\fR, si
alguna falla APT abortará. APT pasará a los programas los nombres de
fichero de todos los .deb que va ha instalar por la entrada estándar, uno
por línea.

La versión 2 de este protocolo vuelca más información, incluyendo la
versión del protocolo, el espacio de configuración de APT , los ficheros y versiones que cambian. La versión 2 se habilita
estableciendo DPkg::Tools::Options::cmd::Version a
2. cmd es una orden dada a Pre-Install-Pkgs\&.
.TP
\fBRun-Directory\fR
APT hace que éste sea su directorio de trabajo antes de llamar a dpkg, por
omisión es \fI/\fR\&.
.TP
\fBBuild-Options\fR
Éstas opciones se pasan a \fBdpkg-buildpackage\fR(1) cuando compila paquetes,
por omisión se limita a deshabilitar el firmado de paquetes y producir
todos los binarios.
.SH "OPCIONES DE DEPURACIóN"
.PP
La mayoría de las opciones de la sección debug no son interesantes
para el usuario normal, sin embargo Debug::pkgProblemResolver
muestra una salida interesante acerca de las decisiones que realiza
dist-upgrade. Debug::NoLocking deshabilita el bloqueo de fichero de
forma que APT puede realizar algunas operaciones sin permisos de superusuario
y Debug::pkgDPkgPM mostrará la línea de órdenes para cada llamada a
dpkg. Debug::IdentCdrom deshabilitará la inclusión de datos de
statfs en los ID's de los CDROM.
.SH "EJEMPLOS"
.PP
\fI/usr/share/doc/apt/examples/configure-index.gz\fR contiene un fichero de configuración de ejemplo mostrando
los valores predeterminados para todas las opciones posibles.
.SH "FICHEROS"
.PP
\fI/etc/apt/apt.conf\fR
.SH "VéASE TAMBIéN"
.PP
\fBapt-cache\fR(8), \fBapt-config\fR(8), \fBapt_preferences\fR(5)\&.
.SH "FALLOS"
.PP
Vea la página de fallos de APT <URL:http://bugs.debian.org/src:apt>\&.
Si desea avisar de un fallo en APT, vea 
\fI/usr/share/doc/debian/bug-reporting.txt\fR o la orden  \fBreportbug\fR(1)\&.
.SH "AUTOR"
.PP
APT fue escrito por el equipo de APT <apt@packages.debian.org>\&.
.SH "TRADUCTOR"
.PP
Traducción de Rubén Porras Campo
<debian-l10n-spanish@lists.debian.org>
