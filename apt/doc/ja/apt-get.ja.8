.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "APT-GET" "8" "10 November 2005" "" ""

.SH NAME
apt-get \- APT パッケージ操作ユーティリティ -- コマンドラインインターフェース
.SH SYNOPSIS

\fBapt-get\fR [ \fB-hvs\fR ] [ \fB-o=\fIconfig string\fB\fR ] [ \fB-c=\fIfile\fB\fR ] { \fBupdate\fR | \fBupgrade\fR | \fBdselect-upgrade\fR | \fBinstall  \fIpkg\fB\fI ...\fB\fR | \fBremove  \fIpkg\fB\fI ...\fB\fR | \fBsource  \fIpkg\fB\fI ...\fB\fR | \fBbuild-dep  \fIpkg\fB\fI ...\fB\fR | \fBcheck\fR | \fBclean\fR | \fBautoclean\fR }

.SH "説明"
.PP
\fBapt-get\fR はパッケージを操作するコマンドラインツールで、
APT ライブラリを用いる他のツールのユーザ側バックエンドともいえるものです。
.PP
\fB-h\fR や \fB--help\fR を除き、以下に挙げるコマンドが必要です。
.TP
\fBupdate\fR
update はそれぞれ取得元からパッケージインデックスファイルの
再同期を行うのに使用します。利用可能なパッケージのインデックスは 
\fI/etc/apt/sources.list\fR に記述した場所から取得します。
例えば Debian archive を利用する際、このコマンドが \fIPackages.gz\fR 
ファイルを検索することで、新規または更新されたパッケージの情報が利用可能
となります。update は upgrade や 
dist-upgrade を行う前に常に実行するべきです。
前もってパッケージファイルのサイズを知ることができないため、
全体のプログレスメータは正しく表示されません。
.TP
\fBupgrade\fR
upgrade は、現在システムにインストールされている全パッケージの
最新バージョンを、\fI/etc/apt/sources.list\fR に列挙した取得元から
インストールするのに使用します。現在インストール中のパッケージに新しい
バージョンがあれば更新しますが、いかなる時も現在インストール中の
パッケージの削除は行いません。対象のパッケージが
他のパッケージのインストール状態を変更せずに更新できない場合は、
現在のバージョンのままとなります。
update をはじめに実行しておいて、\fBapt-get\fR に
パッケージの新しいバージョンが利用できることを知らせる必要があります。
.TP
\fBdselect-upgrade\fR
伝統的な Debian GNU/Linux パッケージ管理フロントエンドの \fBdselect\fR(8) 
と共に使用されます。dselect-upgrade は \fBdselect\fR(8) で作られた
利用可能パッケージの Status フィールドの変更を追跡し、
その状態を反映させるのに必要なアクションを実行します。
(例えば、古いパッケージの削除や新しいパッケージのインストールなど) 
.TP
\fBdist-upgrade\fR
dist-upgrade は upgrade の機能に加え、新バージョンの
パッケージに対する依存関係の変更を知的に操作します。
\fBapt-get\fR は「洗練された」競合解決システムを持ち、必要なら
比較的重要でないパッケージを犠牲にして、最重要パッケージの更新を
試みます。
\fI/etc/apt/sources.list\fR ファイルに必要なパッケージファイルを
検索する場所のリストが含まれています。
.TP
\fBinstall\fR
install の後にはインストールするパッケージを1つ以上指定します。
指定するパッケージは、完全なファイル名ではなくパッケージ名です。
(例えば Debian GNU/Linux システムでは libc6_1.9.6-2.deb ではなく libc6 を
引数として与えます) インストールするよう指定したすべてのパッケージに対し
検索・インストールを行います。\fI/etc/apt/sources.list\fR ファイル
を、要求するパッケージの場所を特定するのに使用します。
パッケージ名の後ろに (空白を含まず) ハイフンが追加されている場合、
そのパッケージがインストールされていれば削除します。
同様に、インストールするパッケージを明示するのにプラス記号も使用できます。
この文字は apt-get の競合解決システムの判断に利用されるかもしれません。

パッケージにイコール記号とバージョンを続けることで、
選択したバージョンのパッケージをインストールすることができます。
つまり指定のバージョンのパッケージをインストールするように選択
するといいうことです。
別の方法としては、ディストリビューションを特定するのに、
パッケージ名の後に続いてスラッシュとディストリビューションのバージョンや
アーカイブ名 (stable, frozen, unstable) を記述できます。 

バージョン選択機構はダウングレード時にも使用できるため、注意を払って
使用しなければなりません。

もし'.'、'?'、'*'を含む構文に一つもパッケージ名がマッチしなかった場合、
POSIX 正規表現であると見なし、データベース内の全パッケージ名に対して
適用します。
マッチしたパッケージすべてがインストール(もしくは削除)されます。
注) 'lo.*' のような文字列は 'how-lo' や 'lowest' にマッチします。
これを望まなければ、先頭に '^' をつけてください。
.TP
\fBremove\fR
remove は パッケージが削除されることを除き、install
と同様です。
プラス記号がパッケージ名に (間に空白を含まずに) 付加された場合、
識別されたパッケージをインストールします。
.TP
\fBsource\fR
source はソースパッケージを取得するよう \fBapt-get\fR 
することを意味します。
APT はどのソースパッケージを取得するか決定するよう、利用可能なパッケージを
検討します。
その後、最新の利用可能なソースパッケージを見つけ、カレントディレクトリへ
ダウンロードします。
ソースパッケージは、バイナリパッケージとは別に \fB\fIsources.list\fB\fR(5) ファイルの
deb-src 行より追跡されます。
これは、インストールした (またはインストールできる) パッケージと、
取得元を変えることができることを示しています。
--compile オプションが指定された場合、dpkg-buildpackage を用いて
バイナリ .deb ファイルへコンパイルを行います。
--download-only の場合はソースパッケージを展開しません。

パッケージと同様に、ソース名の後ろにイコールと取得したいバージョンを
置くことで、指定したバージョンのソースを得ることができます。
APT::Get::Only-Source オプションで暗黙のうちに有効になって
いるため、ソースパッケージ名とバージョンに厳密にマッチングするように
なっています。

注) tar ball はカレントディレクトリにのみダウンロードされ、
カレントディレクトリに展開されます。
.TP
\fBbuild-dep\fR
build-dep はソースパッケージの構築依存関係を満たすように、
パッケージのインストール・削除を行います。
.TP
\fBcheck\fR
check は、パッケージキャッシュの更新や壊れた依存関係をチェックする
診断ツールです。
.TP
\fBclean\fR
clean は取得したパッケージのローカルリポジトリを掃除します。
\fI/var/cache/apt/archives/\fR と 
\fI/var/cache/apt/archive/partial/\fR から
ロックファイル以外すべて削除します。
APT が \fBdselect\fR(8) から呼ばれるときには、自動的に clean が
実行されます。
dselectを使用しない場合は、ディスクスペースを解放するため、時々 
apt-get clean を実行したくなるでしょう。
.TP
\fBautoclean\fR
clean 同様、autoclean は取得したパッケージのローカル
リポジトリを掃除します。違いは、もうダウンロードされることがない
パッケージファイルや、ほとんど不要なパッケージファイルのみを削除することです。
このため、長い期間、キャッシュが管理できずに肥大化することなく、
維持することができます。
設定オプション APT::Clean-Installed に off がセットしていれば、
インストール済のパッケージファイルが削除されるのを防ぐことができます。
.SH "オプション"
.PP
この説明で示したオプションは、すべて設定ファイルを使用して設定できます。
設定ファイルに書いた真偽値をとるオプションは \fB-f-\fR,\fB--no-f\fR, 
\fB-f=no\fR などのようにして上書きすることができます。
.TP
\fB-d\fR
.TP
\fB--download-only\fR
ダウンロードのみ - パッケージファイルの取得のみを行い、
展開・インストールを行いません。
設定項目 - APT::Get::Download-Only
.TP
\fB-f\fR
.TP
\fB--fix-broken\fR
修復 - 依存関係が壊れたシステムの修正を試みます。
このオプションを install や remove と一緒に使うときは、パッケージを
指定しなくてもかまいません。どのパッケージを指定しても、完全に問題を
解決します
APT 自体はシステムに存在する壊れたパッケージ依存関係を許すことができない
ので、初めて APT を実行する場合、このオプションが必要になることがあります。
システムの依存関係構造にかなり問題がある場合は、手動で修正するよう
要求することがあり得ます。
(通常は、問題のあるパッケージを取り除くのに\fBdselect\fR(8) や
\fBdpkg --remove\fR を使用します)
このオプションを \fB-m\fR オプションと同時に使用すると、
ある状況ではエラーになるかもしれません。
設定項目 - APT::Get::Fix-Broken
.TP
\fB-m\fR
.TP
\fB--ignore-missing\fR
.TP
\fB--fix-missing\fR
欠落パッケージの無視 - パッケージが取得できなかったり、
(パッケージの破損で) 取得した後の整合性チェックを通らなかった場合、
そのパッケージの処理を保留し最後まで処理を続けます。
このオプションを \fB-f\fR オプションと同時に使用すると、
ある状況ではエラーになるかもしれません。
パッケージをインストールするよう選択している場合 
(特にコマンドラインでの操作時) や、ダウンロードできなかった場合に
なにも表示せず保留することになります。
設定項目 - APT::Get::Fix-Missing
.TP
\fB--no-download\fR
パッケージのダウンロードをさせません。これはすでにダウンロードした .deb 
に対してのみAPTを行う際に、\fB--ignore-missing\fR と併せて
使うのがよいでしょう。
設定項目 - APT::Get::Download
.TP
\fB-q\fR
.TP
\fB--quiet\fR
静穏 - 進捗表示を省略してログをとるのに便利な出力を行います。
最大 2 つまで q を重ねることでより静かにできます。
また、\fB-q=#\fR のように静穏レベルを指定して、設定ファイルを
上書きすることもできます。
注) 静穏レベル 2 は \fB-y\fR の意味を含んでいます。
APT が意図しない決定を行うかもしれないので -d, --print-uris, -s のような
操作を行わないオプションをつけずに -qq を使用するべきではありません。
設定項目 - quiet
.TP
\fB-s\fR
.TP
\fB--simulate\fR
.TP
\fB--just-print\fR
.TP
\fB--dry-run\fR
.TP
\fB--recon\fR
.TP
\fB--no-act\fR
動作なし - なにが起こるのかのシミュレーションを行い、
実際のシステム変更はしません。
設定項目 - APT::Get::Simulate

シミュレートの結果、dpkg の動作を表す一連の行のそれぞれに、設定 (Conf)、
削除 (Remv)、 展開 (Inst) を表示します。
角カッコは壊れたパッケージを表し、空の角カッコは大した問題ではないことを
表します(まれです)。
.TP
\fB-y\fR
.TP
\fB--yes\fR
.TP
\fB--assume-yes\fR
プロンプトへの自動承諾 - すべてのプロンプトに自動的に "yes" と答え、
非対話的に実行します。
保留したパッケージの状態を変更したり、必須パッケージを削除するような不適切な状況の場合、
apt-get は中断するでしょう。
設定項目 - APT::Get::Assume-Yes
.TP
\fB-u\fR
.TP
\fB--show-upgraded\fR
更新パッケージ表示 - 更新される全パッケージの一覧を表示します。
設定項目 - APT::Get::Show-Upgraded
.TP
\fB-b\fR
.TP
\fB--compile\fR
.TP
\fB--build\fR
ソースパッケージをダウンロード後、コンパイルします。
設定項目 - APT::Get::Compile
.TP
\fB--ignore-hold\fR
保留パッケージ無視 - パッケージの保留指示を無視して \fBapt-get\fR 
を行います。
大量のパッケージを保留の解除をするのに dist-upgrade と共に
使用すると便利です。
設定項目 - APT::Ignore-Hold
.TP
\fB--no-upgrade\fR
パッケージ更新なし -  install と同時に使用すると、
no-upgrade は指定したパッケージがすでにインストールしてある場合
更新を行いません。
設定項目 - APT::Get::Upgrade
.TP
\fB--force-yes\fR
強制承諾 - APT が何か損傷を与えかねない動作をしようとした場合でも、
確認の入力なしで実行してしまう、危険なオプションです。
よほどの状況でなければ、使用しない方がいいでしょう。
force-yes はあなたのシステムを破壊しかねません!
設定項目 - APT::Get::force-yes
.TP
\fB--print-uris\fR
インストールするファイルを取得する代わりに、そのURIを表示します。
URIには、パス、対象ファイル名、ファイルサイズ、予測される md5 ハッシュ
が含まれています。
注) 出力したファイル名が、常にリモートサイトのファイル名と一致するわけ
ではありません! これは source コマンド、 update 
コマンドでも動作します。
MD5 やファイルサイズを含まず update で使用したときに、
圧縮ファイルを展開することはユーザの責任において行ってください。
設定項目 - APT::Get::Print-URIs
.TP
\fB--purge\fR
削除する場合、削除ではなく完全削除を使用します。
設定項目 - APT::Get::Purge
.TP
\fB--reinstall\fR
すでに最新版がインストールされていても、パッケージを再インストールします。
設定項目 - APT::Get::ReInstall
.TP
\fB--list-cleanup\fR
この機能はデフォルトで ON になっています。
OFF にするには --no-list-cleanup としてください。
ON の場合、\fBapt-get\fR は古くなったファイルを確実に消去するため、
自動的に \fI/var/lib/apt/lists\fR の中身を管理するでしょう。
これを OFF にするのは、あなたが取得元リストを頻繁に変更する時ぐらいです。
設定項目 - APT::Get::List-Cleanup
.TP
\fB-t\fR
.TP
\fB--target-release\fR
.TP
\fB--default-release\fR
このオプションはポリシーエンジンへのデフォルト入力を制御します。
これは、指定されたリリース文字列を使用し、デフォルト pin を優先度 990 
で作成することです。
優先ファイルはこの設定を上書きします。
要するにこのオプションは、どの配布パッケージを取得するかを簡単に
管理しています。
いくつか一般的な例は、\fB-t '2.1*'\fR や \fB-t unstable\fR 
でしょう。
設定項目 - APT::Default-Release
.TP
\fB--trivial-only\fR
「重要でない」操作のみを行います。これは論理的に \fB--assume-yes\fR の
仲間と見なすことができます。\fB--assume-yes\fR は質問にすべて yes と
答えますが、\fB--trivial-only\fR はすべて no と答えます。
設定項目 - APT::Get::Trivial-Only
.TP
\fB--no-remove\fR
パッケージが削除される状況になったとき、プロンプトを表示せず中断します。
設定項目 - APT::Get::Remove
.TP
\fB--only-source\fR
source コマンドでのみ意味があります。
指定されたソース名がバイナリテーブルにマップされないことを示します。
設定項目 - APT::Get::Only-Source
.TP
\fB--diff-only\fR
.TP
\fB--tar-only\fR
ソースアーカイブの diff ファイルや tar ファイルのダウンロードのみを行います。
設定項目 - APT::Get::Diff-Only と APT::Get::Tar-Only
.TP
\fB--arch-only\fR
構築依存関係の解決をアーキテクチャに依存したもののみ行います。
設定項目 - APT::Get::Arch-Only 
.TP
\fB-h\fR
.TP
\fB--help\fR
使い方の短い要約を表示します。
.TP
\fB-v\fR
.TP
\fB--version\fR
プログラムのバージョンを表示します。
.TP
\fB-c\fR
.TP
\fB--config-file\fR
設定ファイル。 使用する設定ファイルを指定します。
この設定ファイルが読めない場合はデフォルトの設定ファイルを読み込みます。
文法の情報は \fB\fIapt.conf\fB\fR(5) を参照してください。
.TP
\fB-o\fR
.TP
\fB--option\fR
設定オプションのセット -  任意の設定オプションをセットします。
文法は \fB-o Foo::Bar=bar\fR となります。
.SH "ファイル"
.TP
\fB\fI/etc/apt/sources.list\fB\fR
パッケージの取得元。
設定項目 - Dir::Etc::SourceList
.TP
\fB\fI/etc/apt/apt.conf\fB\fR
APT 設定ファイル。
設定項目 - Dir::Etc::Main
.TP
\fB\fI/etc/apt/apt.conf.d/\fB\fR
APT 設定ファイルの断片。
設定項目 - Dir::Etc::Parts
.TP
\fB\fI/etc/apt/preferences\fB\fR
バージョン優先ファイル。
設定項目 - Dir::Etc::Preferences
.TP
\fB\fI/var/cache/apt/archives/\fB\fR
取得済みパッケージファイル格納エリア。
設定項目 - Dir::Cache::Archives
.TP
\fB\fI/var/cache/apt/archives/partial/\fB\fR
取得中パッケージファイル格納エリア。
設定項目 - Dir::Cache::Archives (必然的に不完全です)
.TP
\fB\fI/var/lib/apt/lists/\fB\fR
\fB\fIsources.list\fB\fR(5) のパッケージ資源特有の状態情報格納エリア。
設定項目 - Dir::State::Lists
.TP
\fB\fI/var/lib/apt/lists/partial/\fB\fR
取得中の状態情報格納エリア。
設定項目 - Dir::State::Lists (必然的に不完全です)
.SH "関連項目"
.PP
\fBapt-cache\fR(8), \fBapt-cdrom\fR(8), \fBdpkg\fR(8), \fBdselect\fR(8), \fB\fIsources.list\fB\fR(5), \fB\fIapt.conf\fB\fR(5), 
/usr/share/doc/apt/の APT ユーザーズガイド, \fBapt_preferences\fR(5)
.SH "診断メッセージ"
.PP
\fBapt-get\fR は正常終了時に 0 を返します。
エラー時には十進の 100 を返します。
.SH "バグ"
.PP
APT バグページ <URL:http://bugs.debian.org/apt>を
参照してください。
APT のバグを報告する場合は、
\fI/usr/share/doc/debian/bug-reporting.txt\fR や 
\fBreportbug\fR(1) コマンドを参照してください。
.SH "著者"
.PP
APT は the APT team <apt@packages.debian.org> によって書かれました。
.SH "翻訳者"
.PP
倉澤 望 <nabetaro@mx1.avis.ne.jp> (2003-2004)
.PP
Debian JP Documentation ML <debian-doc@debian.or.jp>
